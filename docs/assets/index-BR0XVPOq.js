var ep=Object.defineProperty;var tp=(t,e,n)=>e in t?ep(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ce=(t,e,n)=>tp(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function np(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lc={exports:{}},Cl={},Ic={exports:{}},R={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ii=Symbol.for("react.element"),rp=Symbol.for("react.portal"),ip=Symbol.for("react.fragment"),lp=Symbol.for("react.strict_mode"),op=Symbol.for("react.profiler"),sp=Symbol.for("react.provider"),up=Symbol.for("react.context"),ap=Symbol.for("react.forward_ref"),cp=Symbol.for("react.suspense"),fp=Symbol.for("react.memo"),dp=Symbol.for("react.lazy"),ta=Symbol.iterator;function hp(t){return t===null||typeof t!="object"?null:(t=ta&&t[ta]||t["@@iterator"],typeof t=="function"?t:null)}var Nc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ac=Object.assign,Oc={};function Jn(t,e,n){this.props=t,this.context=e,this.refs=Oc,this.updater=n||Nc}Jn.prototype.isReactComponent={};Jn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mc(){}Mc.prototype=Jn.prototype;function $s(t,e,n){this.props=t,this.context=e,this.refs=Oc,this.updater=n||Nc}var Hs=$s.prototype=new Mc;Hs.constructor=$s;Ac(Hs,Jn.prototype);Hs.isPureReactComponent=!0;var na=Array.isArray,Rc=Object.prototype.hasOwnProperty,Ws={current:null},zc={key:!0,ref:!0,__self:!0,__source:!0};function Uc(t,e,n){var r,i={},l=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(l=""+e.key),e)Rc.call(e,r)&&!zc.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var a=Array(u),c=0;c<u;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:ii,type:t,key:l,ref:o,props:i,_owner:Ws.current}}function pp(t,e){return{$$typeof:ii,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qs(t){return typeof t=="object"&&t!==null&&t.$$typeof===ii}function mp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ra=/\/+/g;function to(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mp(""+t.key):e.toString(36)}function Fi(t,e,n,r,i){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ii:case rp:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+to(o,0):r,na(i)?(n="",t!=null&&(n=t.replace(ra,"$&/")+"/"),Fi(i,e,n,"",function(c){return c})):i!=null&&(Qs(i)&&(i=pp(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ra,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",na(t))for(var u=0;u<t.length;u++){l=t[u];var a=r+to(l,u);o+=Fi(l,e,n,a,i)}else if(a=hp(t),typeof a=="function")for(t=a.call(t),u=0;!(l=t.next()).done;)l=l.value,a=r+to(l,u++),o+=Fi(l,e,n,a,i);else if(l==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vi(t,e,n){if(t==null)return t;var r=[],i=0;return Fi(t,r,"","",function(l){return e.call(n,l,i++)}),r}function gp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _e={current:null},Bi={transition:null},vp={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:Bi,ReactCurrentOwner:Ws};function Dc(){throw Error("act(...) is not supported in production builds of React.")}R.Children={map:vi,forEach:function(t,e,n){vi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vi(t,function(){e++}),e},toArray:function(t){return vi(t,function(e){return e})||[]},only:function(t){if(!Qs(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};R.Component=Jn;R.Fragment=ip;R.Profiler=op;R.PureComponent=$s;R.StrictMode=lp;R.Suspense=cp;R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vp;R.act=Dc;R.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ac({},t.props),i=t.key,l=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,o=Ws.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(a in e)Rc.call(e,a)&&!zc.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&u!==void 0?u[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){u=Array(a);for(var c=0;c<a;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:ii,type:t.type,key:i,ref:l,props:r,_owner:o}};R.createContext=function(t){return t={$$typeof:up,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sp,_context:t},t.Consumer=t};R.createElement=Uc;R.createFactory=function(t){var e=Uc.bind(null,t);return e.type=t,e};R.createRef=function(){return{current:null}};R.forwardRef=function(t){return{$$typeof:ap,render:t}};R.isValidElement=Qs;R.lazy=function(t){return{$$typeof:dp,_payload:{_status:-1,_result:t},_init:gp}};R.memo=function(t,e){return{$$typeof:fp,type:t,compare:e===void 0?null:e}};R.startTransition=function(t){var e=Bi.transition;Bi.transition={};try{t()}finally{Bi.transition=e}};R.unstable_act=Dc;R.useCallback=function(t,e){return _e.current.useCallback(t,e)};R.useContext=function(t){return _e.current.useContext(t)};R.useDebugValue=function(){};R.useDeferredValue=function(t){return _e.current.useDeferredValue(t)};R.useEffect=function(t,e){return _e.current.useEffect(t,e)};R.useId=function(){return _e.current.useId()};R.useImperativeHandle=function(t,e,n){return _e.current.useImperativeHandle(t,e,n)};R.useInsertionEffect=function(t,e){return _e.current.useInsertionEffect(t,e)};R.useLayoutEffect=function(t,e){return _e.current.useLayoutEffect(t,e)};R.useMemo=function(t,e){return _e.current.useMemo(t,e)};R.useReducer=function(t,e,n){return _e.current.useReducer(t,e,n)};R.useRef=function(t){return _e.current.useRef(t)};R.useState=function(t){return _e.current.useState(t)};R.useSyncExternalStore=function(t,e,n){return _e.current.useSyncExternalStore(t,e,n)};R.useTransition=function(){return _e.current.useTransition()};R.version="18.3.1";Ic.exports=R;var O=Ic.exports;const yp=np(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=O,wp=Symbol.for("react.element"),Sp=Symbol.for("react.fragment"),xp=Object.prototype.hasOwnProperty,Ep=_p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pp={key:!0,ref:!0,__self:!0,__source:!0};function Fc(t,e,n){var r,i={},l=null,o=null;n!==void 0&&(l=""+n),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xp.call(e,r)&&!Pp.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wp,type:t,key:l,ref:o,props:i,_owner:Ep.current}}Cl.Fragment=Sp;Cl.jsx=Fc;Cl.jsxs=Fc;Lc.exports=Cl;var B=Lc.exports,Oo={},Bc={exports:{}},Me={},jc={exports:{}},Vc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,A){var M=C.length;C.push(A);e:for(;0<M;){var ee=M-1>>>1,le=C[ee];if(0<i(le,A))C[ee]=A,C[M]=le,M=ee;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var A=C[0],M=C.pop();if(M!==A){C[0]=M;e:for(var ee=0,le=C.length,mi=le>>>1;ee<mi;){var Wt=2*(ee+1)-1,eo=C[Wt],Qt=Wt+1,gi=C[Qt];if(0>i(eo,M))Qt<le&&0>i(gi,eo)?(C[ee]=gi,C[Qt]=M,ee=Qt):(C[ee]=eo,C[Wt]=M,ee=Wt);else if(Qt<le&&0>i(gi,M))C[ee]=gi,C[Qt]=M,ee=Qt;else break e}}return A}function i(C,A){var M=C.sortIndex-A.sortIndex;return M!==0?M:C.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var a=[],c=[],f=1,p=null,m=3,v=!1,w=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(C){for(var A=n(c);A!==null;){if(A.callback===null)r(c);else if(A.startTime<=C)r(c),A.sortIndex=A.expirationTime,e(a,A);else break;A=n(c)}}function y(C){if(_=!1,h(C),!w)if(n(a)!==null)w=!0,Jl(x);else{var A=n(c);A!==null&&bl(y,A.startTime-C)}}function x(C,A){w=!1,_&&(_=!1,g(L),L=-1),v=!0;var M=m;try{for(h(A),p=n(a);p!==null&&(!(p.expirationTime>A)||C&&!ke());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,m=p.priorityLevel;var le=ee(p.expirationTime<=A);A=t.unstable_now(),typeof le=="function"?p.callback=le:p===n(a)&&r(a),h(A)}else r(a);p=n(a)}if(p!==null)var mi=!0;else{var Wt=n(c);Wt!==null&&bl(y,Wt.startTime-A),mi=!1}return mi}finally{p=null,m=M,v=!1}}var P=!1,k=null,L=-1,D=5,N=-1;function ke(){return!(t.unstable_now()-N<D)}function or(){if(k!==null){var C=t.unstable_now();N=C;var A=!0;try{A=k(!0,C)}finally{A?sr():(P=!1,k=null)}}else P=!1}var sr;if(typeof d=="function")sr=function(){d(or)};else if(typeof MessageChannel<"u"){var ea=new MessageChannel,bh=ea.port2;ea.port1.onmessage=or,sr=function(){bh.postMessage(null)}}else sr=function(){I(or,0)};function Jl(C){k=C,P||(P=!0,sr())}function bl(C,A){L=I(function(){C(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,Jl(x))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(C){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var M=m;m=A;try{return C()}finally{m=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,A){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var M=m;m=C;try{return A()}finally{m=M}},t.unstable_scheduleCallback=function(C,A,M){var ee=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?ee+M:ee):M=ee,C){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=M+le,C={id:f++,callback:A,priorityLevel:C,startTime:M,expirationTime:le,sortIndex:-1},M>ee?(C.sortIndex=M,e(c,C),n(a)===null&&C===n(c)&&(_?(g(L),L=-1):_=!0,bl(y,M-ee))):(C.sortIndex=le,e(a,C),w||v||(w=!0,Jl(x))),C},t.unstable_shouldYield=ke,t.unstable_wrapCallback=function(C){var A=m;return function(){var M=m;m=A;try{return C.apply(this,arguments)}finally{m=M}}}})(Vc);jc.exports=Vc;var Tp=jc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=O,Oe=Tp;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $c=new Set,Ur={};function an(t,e){Bn(t,e),Bn(t+"Capture",e)}function Bn(t,e){for(Ur[t]=e,t=0;t<e.length;t++)$c.add(e[t])}var pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mo=Object.prototype.hasOwnProperty,Cp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia={},la={};function Lp(t){return Mo.call(la,t)?!0:Mo.call(ia,t)?!1:Cp.test(t)?la[t]=!0:(ia[t]=!0,!1)}function Ip(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Np(t,e,n,r){if(e===null||typeof e>"u"||Ip(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function we(t,e,n,r,i,l,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=l,this.removeEmptyString=o}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){de[t]=new we(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];de[e]=new we(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){de[t]=new we(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){de[t]=new we(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){de[t]=new we(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){de[t]=new we(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){de[t]=new we(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){de[t]=new we(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){de[t]=new we(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gs=/[\-:]([a-z])/g;function Ys(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gs,Ys);de[e]=new we(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gs,Ys);de[e]=new we(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gs,Ys);de[e]=new we(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){de[t]=new we(t,1,!1,t.toLowerCase(),null,!1,!1)});de.xlinkHref=new we("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){de[t]=new we(t,1,!1,t.toLowerCase(),null,!0,!0)});function qs(t,e,n,r){var i=de.hasOwnProperty(e)?de[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Np(e,n,i,r)&&(n=null),r||i===null?Lp(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yt=kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yi=Symbol.for("react.element"),vn=Symbol.for("react.portal"),yn=Symbol.for("react.fragment"),Ks=Symbol.for("react.strict_mode"),Ro=Symbol.for("react.profiler"),Hc=Symbol.for("react.provider"),Wc=Symbol.for("react.context"),Xs=Symbol.for("react.forward_ref"),zo=Symbol.for("react.suspense"),Uo=Symbol.for("react.suspense_list"),Zs=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),Qc=Symbol.for("react.offscreen"),oa=Symbol.iterator;function ar(t){return t===null||typeof t!="object"?null:(t=oa&&t[oa]||t["@@iterator"],typeof t=="function"?t:null)}var J=Object.assign,no;function yr(t){if(no===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);no=e&&e[1]||""}return`
`+no+t}var ro=!1;function io(t,e){if(!t||ro)return"";ro=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),l=r.stack.split(`
`),o=i.length-1,u=l.length-1;1<=o&&0<=u&&i[o]!==l[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==l[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==l[u]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=u);break}}}finally{ro=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yr(t):""}function Ap(t){switch(t.tag){case 5:return yr(t.type);case 16:return yr("Lazy");case 13:return yr("Suspense");case 19:return yr("SuspenseList");case 0:case 2:case 15:return t=io(t.type,!1),t;case 11:return t=io(t.type.render,!1),t;case 1:return t=io(t.type,!0),t;default:return""}}function Do(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yn:return"Fragment";case vn:return"Portal";case Ro:return"Profiler";case Ks:return"StrictMode";case zo:return"Suspense";case Uo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wc:return(t.displayName||"Context")+".Consumer";case Hc:return(t._context.displayName||"Context")+".Provider";case Xs:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zs:return e=t.displayName||null,e!==null?e:Do(t.type)||"Memo";case wt:e=t._payload,t=t._init;try{return Do(t(e))}catch{}}return null}function Op(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Do(e);case 8:return e===Ks?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ut(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Mp(t){var e=Gc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _i(t){t._valueTracker||(t._valueTracker=Mp(t))}function Yc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ji(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fo(t,e){var n=e.checked;return J({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sa(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ut(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qc(t,e){e=e.checked,e!=null&&qs(t,"checked",e,!1)}function Bo(t,e){qc(t,e);var n=Ut(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jo(t,e.type,n):e.hasOwnProperty("defaultValue")&&jo(t,e.type,Ut(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ua(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jo(t,e,n){(e!=="number"||Ji(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _r=Array.isArray;function An(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ut(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return J({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(_r(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ut(n)}}function Kc(t,e){var n=Ut(e.value),r=Ut(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ca(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $o(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wi,Zc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wi=wi||document.createElement("div"),wi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rp=["Webkit","ms","Moz","O"];Object.keys(Pr).forEach(function(t){Rp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pr[e]=Pr[t]})});function Jc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pr.hasOwnProperty(t)&&Pr[t]?(""+e).trim():e+"px"}function bc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Jc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var zp=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ho(t,e){if(e){if(zp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function Wo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=null;function Js(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Go=null,On=null,Mn=null;function fa(t){if(t=si(t)){if(typeof Go!="function")throw Error(S(280));var e=t.stateNode;e&&(e=Ol(e),Go(t.stateNode,t.type,e))}}function ef(t){On?Mn?Mn.push(t):Mn=[t]:On=t}function tf(){if(On){var t=On,e=Mn;if(Mn=On=null,fa(t),e)for(t=0;t<e.length;t++)fa(e[t])}}function nf(t,e){return t(e)}function rf(){}var lo=!1;function lf(t,e,n){if(lo)return t(e,n);lo=!0;try{return nf(t,e,n)}finally{lo=!1,(On!==null||Mn!==null)&&(rf(),tf())}}function Fr(t,e){var n=t.stateNode;if(n===null)return null;var r=Ol(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var Yo=!1;if(pt)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{Yo=!1}function Up(t,e,n,r,i,l,o,u,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Tr=!1,bi=null,el=!1,qo=null,Dp={onError:function(t){Tr=!0,bi=t}};function Fp(t,e,n,r,i,l,o,u,a){Tr=!1,bi=null,Up.apply(Dp,arguments)}function Bp(t,e,n,r,i,l,o,u,a){if(Fp.apply(this,arguments),Tr){if(Tr){var c=bi;Tr=!1,bi=null}else throw Error(S(198));el||(el=!0,qo=c)}}function cn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function of(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function da(t){if(cn(t)!==t)throw Error(S(188))}function jp(t){var e=t.alternate;if(!e){if(e=cn(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return da(i),t;if(l===r)return da(i),e;l=l.sibling}throw Error(S(188))}if(n.return!==r.return)n=i,r=l;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=l;break}if(u===r){o=!0,r=i,n=l;break}u=u.sibling}if(!o){for(u=l.child;u;){if(u===n){o=!0,n=l,r=i;break}if(u===r){o=!0,r=l,n=i;break}u=u.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function sf(t){return t=jp(t),t!==null?uf(t):null}function uf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uf(t);if(e!==null)return e;t=t.sibling}return null}var af=Oe.unstable_scheduleCallback,ha=Oe.unstable_cancelCallback,Vp=Oe.unstable_shouldYield,$p=Oe.unstable_requestPaint,te=Oe.unstable_now,Hp=Oe.unstable_getCurrentPriorityLevel,bs=Oe.unstable_ImmediatePriority,cf=Oe.unstable_UserBlockingPriority,tl=Oe.unstable_NormalPriority,Wp=Oe.unstable_LowPriority,ff=Oe.unstable_IdlePriority,Ll=null,tt=null;function Qp(t){if(tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Ll,t,void 0,(t.current.flags&128)===128)}catch{}}var Ge=Math.clz32?Math.clz32:qp,Gp=Math.log,Yp=Math.LN2;function qp(t){return t>>>=0,t===0?32:31-(Gp(t)/Yp|0)|0}var Si=64,xi=4194304;function wr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,l=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=wr(u):(l&=o,l!==0&&(r=wr(l)))}else o=n&~i,o!==0?r=wr(o):l!==0&&(r=wr(l));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,l=e&-e,i>=l||i===16&&(l&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ge(e),i=1<<n,r|=t[n],e&=~i;return r}function Kp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xp(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,l=t.pendingLanes;0<l;){var o=31-Ge(l),u=1<<o,a=i[o];a===-1?(!(u&n)||u&r)&&(i[o]=Kp(u,e)):a<=e&&(t.expiredLanes|=u),l&=~u}}function Ko(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function df(){var t=Si;return Si<<=1,!(Si&4194240)&&(Si=64),t}function oo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function li(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ge(e),t[e]=n}function Zp(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ge(n),l=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~l}}function eu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ge(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var V=0;function hf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pf,tu,mf,gf,vf,Xo=!1,Ei=[],Lt=null,It=null,Nt=null,Br=new Map,jr=new Map,Pt=[],Jp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pa(t,e){switch(t){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Br.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(e.pointerId)}}function fr(t,e,n,r,i,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},e!==null&&(e=si(e),e!==null&&tu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bp(t,e,n,r,i){switch(e){case"focusin":return Lt=fr(Lt,t,e,n,r,i),!0;case"dragenter":return It=fr(It,t,e,n,r,i),!0;case"mouseover":return Nt=fr(Nt,t,e,n,r,i),!0;case"pointerover":var l=i.pointerId;return Br.set(l,fr(Br.get(l)||null,t,e,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,jr.set(l,fr(jr.get(l)||null,t,e,n,r,i)),!0}return!1}function yf(t){var e=Kt(t.target);if(e!==null){var n=cn(e);if(n!==null){if(e=n.tag,e===13){if(e=of(n),e!==null){t.blockedOn=e,vf(t.priority,function(){mf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ji(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qo=r,n.target.dispatchEvent(r),Qo=null}else return e=si(n),e!==null&&tu(e),t.blockedOn=n,!1;e.shift()}return!0}function ma(t,e,n){ji(t)&&n.delete(e)}function em(){Xo=!1,Lt!==null&&ji(Lt)&&(Lt=null),It!==null&&ji(It)&&(It=null),Nt!==null&&ji(Nt)&&(Nt=null),Br.forEach(ma),jr.forEach(ma)}function dr(t,e){t.blockedOn===e&&(t.blockedOn=null,Xo||(Xo=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,em)))}function Vr(t){function e(i){return dr(i,t)}if(0<Ei.length){dr(Ei[0],t);for(var n=1;n<Ei.length;n++){var r=Ei[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Lt!==null&&dr(Lt,t),It!==null&&dr(It,t),Nt!==null&&dr(Nt,t),Br.forEach(e),jr.forEach(e),n=0;n<Pt.length;n++)r=Pt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pt.length&&(n=Pt[0],n.blockedOn===null);)yf(n),n.blockedOn===null&&Pt.shift()}var Rn=yt.ReactCurrentBatchConfig,rl=!0;function tm(t,e,n,r){var i=V,l=Rn.transition;Rn.transition=null;try{V=1,nu(t,e,n,r)}finally{V=i,Rn.transition=l}}function nm(t,e,n,r){var i=V,l=Rn.transition;Rn.transition=null;try{V=4,nu(t,e,n,r)}finally{V=i,Rn.transition=l}}function nu(t,e,n,r){if(rl){var i=Zo(t,e,n,r);if(i===null)vo(t,e,r,il,n),pa(t,r);else if(bp(i,t,e,n,r))r.stopPropagation();else if(pa(t,r),e&4&&-1<Jp.indexOf(t)){for(;i!==null;){var l=si(i);if(l!==null&&pf(l),l=Zo(t,e,n,r),l===null&&vo(t,e,r,il,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else vo(t,e,r,null,n)}}var il=null;function Zo(t,e,n,r){if(il=null,t=Js(r),t=Kt(t),t!==null)if(e=cn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=of(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return il=t,null}function _f(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hp()){case bs:return 1;case cf:return 4;case tl:case Wp:return 16;case ff:return 536870912;default:return 16}default:return 16}}var kt=null,ru=null,Vi=null;function wf(){if(Vi)return Vi;var t,e=ru,n=e.length,r,i="value"in kt?kt.value:kt.textContent,l=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[l-r];r++);return Vi=i.slice(t,1<r?1-r:void 0)}function $i(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pi(){return!0}function ga(){return!1}function Re(t){function e(n,r,i,l,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Pi:ga,this.isPropagationStopped=ga,this}return J(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),e}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iu=Re(bn),oi=J({},bn,{view:0,detail:0}),rm=Re(oi),so,uo,hr,Il=J({},oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hr&&(hr&&t.type==="mousemove"?(so=t.screenX-hr.screenX,uo=t.screenY-hr.screenY):uo=so=0,hr=t),so)},movementY:function(t){return"movementY"in t?t.movementY:uo}}),va=Re(Il),im=J({},Il,{dataTransfer:0}),lm=Re(im),om=J({},oi,{relatedTarget:0}),ao=Re(om),sm=J({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),um=Re(sm),am=J({},bn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cm=Re(am),fm=J({},bn,{data:0}),ya=Re(fm),dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pm[t])?!!e[t]:!1}function lu(){return mm}var gm=J({},oi,{key:function(t){if(t.key){var e=dm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$i(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lu,charCode:function(t){return t.type==="keypress"?$i(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$i(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vm=Re(gm),ym=J({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_a=Re(ym),_m=J({},oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lu}),wm=Re(_m),Sm=J({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),xm=Re(Sm),Em=J({},Il,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pm=Re(Em),Tm=[9,13,27,32],ou=pt&&"CompositionEvent"in window,kr=null;pt&&"documentMode"in document&&(kr=document.documentMode);var km=pt&&"TextEvent"in window&&!kr,Sf=pt&&(!ou||kr&&8<kr&&11>=kr),wa=" ",Sa=!1;function xf(t,e){switch(t){case"keyup":return Tm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ef(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _n=!1;function Cm(t,e){switch(t){case"compositionend":return Ef(e);case"keypress":return e.which!==32?null:(Sa=!0,wa);case"textInput":return t=e.data,t===wa&&Sa?null:t;default:return null}}function Lm(t,e){if(_n)return t==="compositionend"||!ou&&xf(t,e)?(t=wf(),Vi=ru=kt=null,_n=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sf&&e.locale!=="ko"?null:e.data;default:return null}}var Im={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Im[t.type]:e==="textarea"}function Pf(t,e,n,r){ef(r),e=ll(e,"onChange"),0<e.length&&(n=new iu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cr=null,$r=null;function Nm(t){zf(t,0)}function Nl(t){var e=xn(t);if(Yc(e))return t}function Am(t,e){if(t==="change")return e}var Tf=!1;if(pt){var co;if(pt){var fo="oninput"in document;if(!fo){var Ea=document.createElement("div");Ea.setAttribute("oninput","return;"),fo=typeof Ea.oninput=="function"}co=fo}else co=!1;Tf=co&&(!document.documentMode||9<document.documentMode)}function Pa(){Cr&&(Cr.detachEvent("onpropertychange",kf),$r=Cr=null)}function kf(t){if(t.propertyName==="value"&&Nl($r)){var e=[];Pf(e,$r,t,Js(t)),lf(Nm,e)}}function Om(t,e,n){t==="focusin"?(Pa(),Cr=e,$r=n,Cr.attachEvent("onpropertychange",kf)):t==="focusout"&&Pa()}function Mm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nl($r)}function Rm(t,e){if(t==="click")return Nl(e)}function zm(t,e){if(t==="input"||t==="change")return Nl(e)}function Um(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qe=typeof Object.is=="function"?Object.is:Um;function Hr(t,e){if(qe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mo.call(e,i)||!qe(t[i],e[i]))return!1}return!0}function Ta(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ka(t,e){var n=Ta(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ta(n)}}function Cf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Cf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lf(){for(var t=window,e=Ji();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ji(t.document)}return e}function su(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Dm(t){var e=Lf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Cf(n.ownerDocument.documentElement,n)){if(r!==null&&su(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!t.extend&&l>r&&(i=r,r=l,l=i),i=ka(n,l);var o=ka(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),l>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Fm=pt&&"documentMode"in document&&11>=document.documentMode,wn=null,Jo=null,Lr=null,bo=!1;function Ca(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bo||wn==null||wn!==Ji(r)||(r=wn,"selectionStart"in r&&su(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lr&&Hr(Lr,r)||(Lr=r,r=ll(Jo,"onSelect"),0<r.length&&(e=new iu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wn)))}function Ti(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sn={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionend:Ti("Transition","TransitionEnd")},ho={},If={};pt&&(If=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);function Al(t){if(ho[t])return ho[t];if(!Sn[t])return t;var e=Sn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in If)return ho[t]=e[n];return t}var Nf=Al("animationend"),Af=Al("animationiteration"),Of=Al("animationstart"),Mf=Al("transitionend"),Rf=new Map,La="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jt(t,e){Rf.set(t,e),an(e,[t])}for(var po=0;po<La.length;po++){var mo=La[po],Bm=mo.toLowerCase(),jm=mo[0].toUpperCase()+mo.slice(1);jt(Bm,"on"+jm)}jt(Nf,"onAnimationEnd");jt(Af,"onAnimationIteration");jt(Of,"onAnimationStart");jt("dblclick","onDoubleClick");jt("focusin","onFocus");jt("focusout","onBlur");jt(Mf,"onTransitionEnd");Bn("onMouseEnter",["mouseout","mouseover"]);Bn("onMouseLeave",["mouseout","mouseover"]);Bn("onPointerEnter",["pointerout","pointerover"]);Bn("onPointerLeave",["pointerout","pointerover"]);an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));an("onBeforeInput",["compositionend","keypress","textInput","paste"]);an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Ia(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Bp(r,e,void 0,t),t.currentTarget=null}function zf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var l=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],a=u.instance,c=u.currentTarget;if(u=u.listener,a!==l&&i.isPropagationStopped())break e;Ia(i,u,c),l=a}else for(o=0;o<r.length;o++){if(u=r[o],a=u.instance,c=u.currentTarget,u=u.listener,a!==l&&i.isPropagationStopped())break e;Ia(i,u,c),l=a}}}if(el)throw t=qo,el=!1,qo=null,t}function Q(t,e){var n=e[is];n===void 0&&(n=e[is]=new Set);var r=t+"__bubble";n.has(r)||(Uf(e,t,2,!1),n.add(r))}function go(t,e,n){var r=0;e&&(r|=4),Uf(n,t,r,e)}var ki="_reactListening"+Math.random().toString(36).slice(2);function Wr(t){if(!t[ki]){t[ki]=!0,$c.forEach(function(n){n!=="selectionchange"&&(Vm.has(n)||go(n,!1,t),go(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ki]||(e[ki]=!0,go("selectionchange",!1,e))}}function Uf(t,e,n,r){switch(_f(e)){case 1:var i=tm;break;case 4:i=nm;break;default:i=nu}n=i.bind(null,e,n,t),i=void 0,!Yo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vo(t,e,n,r,i){var l=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Kt(u),o===null)return;if(a=o.tag,a===5||a===6){r=l=o;continue e}u=u.parentNode}}r=r.return}lf(function(){var c=l,f=Js(n),p=[];e:{var m=Rf.get(t);if(m!==void 0){var v=iu,w=t;switch(t){case"keypress":if($i(n)===0)break e;case"keydown":case"keyup":v=vm;break;case"focusin":w="focus",v=ao;break;case"focusout":w="blur",v=ao;break;case"beforeblur":case"afterblur":v=ao;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=wm;break;case Nf:case Af:case Of:v=um;break;case Mf:v=xm;break;case"scroll":v=rm;break;case"wheel":v=Pm;break;case"copy":case"cut":case"paste":v=cm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=_a}var _=(e&4)!==0,I=!_&&t==="scroll",g=_?m!==null?m+"Capture":null:m;_=[];for(var d=c,h;d!==null;){h=d;var y=h.stateNode;if(h.tag===5&&y!==null&&(h=y,g!==null&&(y=Fr(d,g),y!=null&&_.push(Qr(d,y,h)))),I)break;d=d.return}0<_.length&&(m=new v(m,w,null,n,f),p.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Qo&&(w=n.relatedTarget||n.fromElement)&&(Kt(w)||w[mt]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?Kt(w):null,w!==null&&(I=cn(w),w!==I||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(_=va,y="onMouseLeave",g="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(_=_a,y="onPointerLeave",g="onPointerEnter",d="pointer"),I=v==null?m:xn(v),h=w==null?m:xn(w),m=new _(y,d+"leave",v,n,f),m.target=I,m.relatedTarget=h,y=null,Kt(f)===c&&(_=new _(g,d+"enter",w,n,f),_.target=h,_.relatedTarget=I,y=_),I=y,v&&w)t:{for(_=v,g=w,d=0,h=_;h;h=mn(h))d++;for(h=0,y=g;y;y=mn(y))h++;for(;0<d-h;)_=mn(_),d--;for(;0<h-d;)g=mn(g),h--;for(;d--;){if(_===g||g!==null&&_===g.alternate)break t;_=mn(_),g=mn(g)}_=null}else _=null;v!==null&&Na(p,m,v,_,!1),w!==null&&I!==null&&Na(p,I,w,_,!0)}}e:{if(m=c?xn(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var x=Am;else if(xa(m))if(Tf)x=zm;else{x=Mm;var P=Om}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(x=Rm);if(x&&(x=x(t,c))){Pf(p,x,n,f);break e}P&&P(t,m,c),t==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&jo(m,"number",m.value)}switch(P=c?xn(c):window,t){case"focusin":(xa(P)||P.contentEditable==="true")&&(wn=P,Jo=c,Lr=null);break;case"focusout":Lr=Jo=wn=null;break;case"mousedown":bo=!0;break;case"contextmenu":case"mouseup":case"dragend":bo=!1,Ca(p,n,f);break;case"selectionchange":if(Fm)break;case"keydown":case"keyup":Ca(p,n,f)}var k;if(ou)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else _n?xf(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Sf&&n.locale!=="ko"&&(_n||L!=="onCompositionStart"?L==="onCompositionEnd"&&_n&&(k=wf()):(kt=f,ru="value"in kt?kt.value:kt.textContent,_n=!0)),P=ll(c,L),0<P.length&&(L=new ya(L,t,null,n,f),p.push({event:L,listeners:P}),k?L.data=k:(k=Ef(n),k!==null&&(L.data=k)))),(k=km?Cm(t,n):Lm(t,n))&&(c=ll(c,"onBeforeInput"),0<c.length&&(f=new ya("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=k))}zf(p,e)})}function Qr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ll(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=Fr(t,n),l!=null&&r.unshift(Qr(t,l,i)),l=Fr(t,e),l!=null&&r.push(Qr(t,l,i))),t=t.return}return r}function mn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Na(t,e,n,r,i){for(var l=e._reactName,o=[];n!==null&&n!==r;){var u=n,a=u.alternate,c=u.stateNode;if(a!==null&&a===r)break;u.tag===5&&c!==null&&(u=c,i?(a=Fr(n,l),a!=null&&o.unshift(Qr(n,a,u))):i||(a=Fr(n,l),a!=null&&o.push(Qr(n,a,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $m=/\r\n?/g,Hm=/\u0000|\uFFFD/g;function Aa(t){return(typeof t=="string"?t:""+t).replace($m,`
`).replace(Hm,"")}function Ci(t,e,n){if(e=Aa(e),Aa(t)!==e&&n)throw Error(S(425))}function ol(){}var es=null,ts=null;function ns(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rs=typeof setTimeout=="function"?setTimeout:void 0,Wm=typeof clearTimeout=="function"?clearTimeout:void 0,Oa=typeof Promise=="function"?Promise:void 0,Qm=typeof queueMicrotask=="function"?queueMicrotask:typeof Oa<"u"?function(t){return Oa.resolve(null).then(t).catch(Gm)}:rs;function Gm(t){setTimeout(function(){throw t})}function yo(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vr(e)}function At(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ma(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var er=Math.random().toString(36).slice(2),Je="__reactFiber$"+er,Gr="__reactProps$"+er,mt="__reactContainer$"+er,is="__reactEvents$"+er,Ym="__reactListeners$"+er,qm="__reactHandles$"+er;function Kt(t){var e=t[Je];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mt]||n[Je]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ma(t);t!==null;){if(n=t[Je])return n;t=Ma(t)}return e}t=n,n=t.parentNode}return null}function si(t){return t=t[Je]||t[mt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function Ol(t){return t[Gr]||null}var ls=[],En=-1;function Vt(t){return{current:t}}function Y(t){0>En||(t.current=ls[En],ls[En]=null,En--)}function H(t,e){En++,ls[En]=t.current,t.current=e}var Dt={},ge=Vt(Dt),Ee=Vt(!1),tn=Dt;function jn(t,e){var n=t.type.contextTypes;if(!n)return Dt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=e[l];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pe(t){return t=t.childContextTypes,t!=null}function sl(){Y(Ee),Y(ge)}function Ra(t,e,n){if(ge.current!==Dt)throw Error(S(168));H(ge,e),H(Ee,n)}function Df(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(S(108,Op(t)||"Unknown",i));return J({},n,r)}function ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dt,tn=ge.current,H(ge,t),H(Ee,Ee.current),!0}function za(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=Df(t,e,tn),r.__reactInternalMemoizedMergedChildContext=t,Y(Ee),Y(ge),H(ge,t)):Y(Ee),H(Ee,n)}var ut=null,Ml=!1,_o=!1;function Ff(t){ut===null?ut=[t]:ut.push(t)}function Km(t){Ml=!0,Ff(t)}function $t(){if(!_o&&ut!==null){_o=!0;var t=0,e=V;try{var n=ut;for(V=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ut=null,Ml=!1}catch(i){throw ut!==null&&(ut=ut.slice(t+1)),af(bs,$t),i}finally{V=e,_o=!1}}return null}var Pn=[],Tn=0,al=null,cl=0,ze=[],Ue=0,nn=null,ft=1,dt="";function Yt(t,e){Pn[Tn++]=cl,Pn[Tn++]=al,al=t,cl=e}function Bf(t,e,n){ze[Ue++]=ft,ze[Ue++]=dt,ze[Ue++]=nn,nn=t;var r=ft;t=dt;var i=32-Ge(r)-1;r&=~(1<<i),n+=1;var l=32-Ge(e)+i;if(30<l){var o=i-i%5;l=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ft=1<<32-Ge(e)+i|n<<i|r,dt=l+t}else ft=1<<l|n<<i|r,dt=t}function uu(t){t.return!==null&&(Yt(t,1),Bf(t,1,0))}function au(t){for(;t===al;)al=Pn[--Tn],Pn[Tn]=null,cl=Pn[--Tn],Pn[Tn]=null;for(;t===nn;)nn=ze[--Ue],ze[Ue]=null,dt=ze[--Ue],ze[Ue]=null,ft=ze[--Ue],ze[Ue]=null}var Ae=null,Ne=null,q=!1,We=null;function jf(t,e){var n=De(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ua(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ae=t,Ne=At(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ae=t,Ne=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nn!==null?{id:ft,overflow:dt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=De(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ae=t,Ne=null,!0):!1;default:return!1}}function os(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ss(t){if(q){var e=Ne;if(e){var n=e;if(!Ua(t,e)){if(os(t))throw Error(S(418));e=At(n.nextSibling);var r=Ae;e&&Ua(t,e)?jf(r,n):(t.flags=t.flags&-4097|2,q=!1,Ae=t)}}else{if(os(t))throw Error(S(418));t.flags=t.flags&-4097|2,q=!1,Ae=t}}}function Da(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ae=t}function Li(t){if(t!==Ae)return!1;if(!q)return Da(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ns(t.type,t.memoizedProps)),e&&(e=Ne)){if(os(t))throw Vf(),Error(S(418));for(;e;)jf(t,e),e=At(e.nextSibling)}if(Da(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ne=At(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ne=null}}else Ne=Ae?At(t.stateNode.nextSibling):null;return!0}function Vf(){for(var t=Ne;t;)t=At(t.nextSibling)}function Vn(){Ne=Ae=null,q=!1}function cu(t){We===null?We=[t]:We.push(t)}var Xm=yt.ReactCurrentBatchConfig;function pr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var i=r,l=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(o){var u=i.refs;o===null?delete u[l]:u[l]=o},e._stringRef=l,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function Ii(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fa(t){var e=t._init;return e(t._payload)}function $f(t){function e(g,d){if(t){var h=g.deletions;h===null?(g.deletions=[d],g.flags|=16):h.push(d)}}function n(g,d){if(!t)return null;for(;d!==null;)e(g,d),d=d.sibling;return null}function r(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function i(g,d){return g=zt(g,d),g.index=0,g.sibling=null,g}function l(g,d,h){return g.index=h,t?(h=g.alternate,h!==null?(h=h.index,h<d?(g.flags|=2,d):h):(g.flags|=2,d)):(g.flags|=1048576,d)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function u(g,d,h,y){return d===null||d.tag!==6?(d=ko(h,g.mode,y),d.return=g,d):(d=i(d,h),d.return=g,d)}function a(g,d,h,y){var x=h.type;return x===yn?f(g,d,h.props.children,y,h.key):d!==null&&(d.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===wt&&Fa(x)===d.type)?(y=i(d,h.props),y.ref=pr(g,d,h),y.return=g,y):(y=Ki(h.type,h.key,h.props,null,g.mode,y),y.ref=pr(g,d,h),y.return=g,y)}function c(g,d,h,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==h.containerInfo||d.stateNode.implementation!==h.implementation?(d=Co(h,g.mode,y),d.return=g,d):(d=i(d,h.children||[]),d.return=g,d)}function f(g,d,h,y,x){return d===null||d.tag!==7?(d=bt(h,g.mode,y,x),d.return=g,d):(d=i(d,h),d.return=g,d)}function p(g,d,h){if(typeof d=="string"&&d!==""||typeof d=="number")return d=ko(""+d,g.mode,h),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case yi:return h=Ki(d.type,d.key,d.props,null,g.mode,h),h.ref=pr(g,null,d),h.return=g,h;case vn:return d=Co(d,g.mode,h),d.return=g,d;case wt:var y=d._init;return p(g,y(d._payload),h)}if(_r(d)||ar(d))return d=bt(d,g.mode,h,null),d.return=g,d;Ii(g,d)}return null}function m(g,d,h,y){var x=d!==null?d.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return x!==null?null:u(g,d,""+h,y);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case yi:return h.key===x?a(g,d,h,y):null;case vn:return h.key===x?c(g,d,h,y):null;case wt:return x=h._init,m(g,d,x(h._payload),y)}if(_r(h)||ar(h))return x!==null?null:f(g,d,h,y,null);Ii(g,h)}return null}function v(g,d,h,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(h)||null,u(d,g,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yi:return g=g.get(y.key===null?h:y.key)||null,a(d,g,y,x);case vn:return g=g.get(y.key===null?h:y.key)||null,c(d,g,y,x);case wt:var P=y._init;return v(g,d,h,P(y._payload),x)}if(_r(y)||ar(y))return g=g.get(h)||null,f(d,g,y,x,null);Ii(d,y)}return null}function w(g,d,h,y){for(var x=null,P=null,k=d,L=d=0,D=null;k!==null&&L<h.length;L++){k.index>L?(D=k,k=null):D=k.sibling;var N=m(g,k,h[L],y);if(N===null){k===null&&(k=D);break}t&&k&&N.alternate===null&&e(g,k),d=l(N,d,L),P===null?x=N:P.sibling=N,P=N,k=D}if(L===h.length)return n(g,k),q&&Yt(g,L),x;if(k===null){for(;L<h.length;L++)k=p(g,h[L],y),k!==null&&(d=l(k,d,L),P===null?x=k:P.sibling=k,P=k);return q&&Yt(g,L),x}for(k=r(g,k);L<h.length;L++)D=v(k,g,L,h[L],y),D!==null&&(t&&D.alternate!==null&&k.delete(D.key===null?L:D.key),d=l(D,d,L),P===null?x=D:P.sibling=D,P=D);return t&&k.forEach(function(ke){return e(g,ke)}),q&&Yt(g,L),x}function _(g,d,h,y){var x=ar(h);if(typeof x!="function")throw Error(S(150));if(h=x.call(h),h==null)throw Error(S(151));for(var P=x=null,k=d,L=d=0,D=null,N=h.next();k!==null&&!N.done;L++,N=h.next()){k.index>L?(D=k,k=null):D=k.sibling;var ke=m(g,k,N.value,y);if(ke===null){k===null&&(k=D);break}t&&k&&ke.alternate===null&&e(g,k),d=l(ke,d,L),P===null?x=ke:P.sibling=ke,P=ke,k=D}if(N.done)return n(g,k),q&&Yt(g,L),x;if(k===null){for(;!N.done;L++,N=h.next())N=p(g,N.value,y),N!==null&&(d=l(N,d,L),P===null?x=N:P.sibling=N,P=N);return q&&Yt(g,L),x}for(k=r(g,k);!N.done;L++,N=h.next())N=v(k,g,L,N.value,y),N!==null&&(t&&N.alternate!==null&&k.delete(N.key===null?L:N.key),d=l(N,d,L),P===null?x=N:P.sibling=N,P=N);return t&&k.forEach(function(or){return e(g,or)}),q&&Yt(g,L),x}function I(g,d,h,y){if(typeof h=="object"&&h!==null&&h.type===yn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case yi:e:{for(var x=h.key,P=d;P!==null;){if(P.key===x){if(x=h.type,x===yn){if(P.tag===7){n(g,P.sibling),d=i(P,h.props.children),d.return=g,g=d;break e}}else if(P.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===wt&&Fa(x)===P.type){n(g,P.sibling),d=i(P,h.props),d.ref=pr(g,P,h),d.return=g,g=d;break e}n(g,P);break}else e(g,P);P=P.sibling}h.type===yn?(d=bt(h.props.children,g.mode,y,h.key),d.return=g,g=d):(y=Ki(h.type,h.key,h.props,null,g.mode,y),y.ref=pr(g,d,h),y.return=g,g=y)}return o(g);case vn:e:{for(P=h.key;d!==null;){if(d.key===P)if(d.tag===4&&d.stateNode.containerInfo===h.containerInfo&&d.stateNode.implementation===h.implementation){n(g,d.sibling),d=i(d,h.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else e(g,d);d=d.sibling}d=Co(h,g.mode,y),d.return=g,g=d}return o(g);case wt:return P=h._init,I(g,d,P(h._payload),y)}if(_r(h))return w(g,d,h,y);if(ar(h))return _(g,d,h,y);Ii(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,d!==null&&d.tag===6?(n(g,d.sibling),d=i(d,h),d.return=g,g=d):(n(g,d),d=ko(h,g.mode,y),d.return=g,g=d),o(g)):n(g,d)}return I}var $n=$f(!0),Hf=$f(!1),fl=Vt(null),dl=null,kn=null,fu=null;function du(){fu=kn=dl=null}function hu(t){var e=fl.current;Y(fl),t._currentValue=e}function us(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zn(t,e){dl=t,fu=kn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xe=!0),t.firstContext=null)}function Be(t){var e=t._currentValue;if(fu!==t)if(t={context:t,memoizedValue:e,next:null},kn===null){if(dl===null)throw Error(S(308));kn=t,dl.dependencies={lanes:0,firstContext:t}}else kn=kn.next=t;return e}var Xt=null;function pu(t){Xt===null?Xt=[t]:Xt.push(t)}function Wf(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pu(e)):(n.next=i.next,i.next=n),e.interleaved=n,gt(t,r)}function gt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var St=!1;function mu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ot(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gt(t,n)}return i=r.interleaved,i===null?(e.next=e,pu(r)):(e.next=i.next,i.next=e),r.interleaved=e,gt(t,n)}function Hi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eu(t,n)}}function Ba(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?i=l=e:l=l.next=e}else i=l=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hl(t,e,n,r){var i=t.updateQueue;St=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var a=u,c=a.next;a.next=null,o===null?l=c:o.next=c,o=a;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==o&&(u===null?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=a))}if(l!==null){var p=i.baseState;o=0,f=c=a=null,u=l;do{var m=u.lane,v=u.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=t,_=u;switch(m=e,v=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){p=w.call(v,p,m);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,m=typeof w=="function"?w.call(v,p,m):w,m==null)break e;p=J({},p,m);break e;case 2:St=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[u]:m.push(u))}else v={eventTime:v,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(c=f=v,a=p):f=f.next=v,o|=m;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;m=u,u=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(a=p),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else l===null&&(i.shared.lanes=0);ln|=o,t.lanes=o,t.memoizedState=p}}function ja(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(S(191,i));i.call(r)}}}var ui={},nt=Vt(ui),Yr=Vt(ui),qr=Vt(ui);function Zt(t){if(t===ui)throw Error(S(174));return t}function gu(t,e){switch(H(qr,e),H(Yr,t),H(nt,ui),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$o(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$o(e,t)}Y(nt),H(nt,e)}function Hn(){Y(nt),Y(Yr),Y(qr)}function Gf(t){Zt(qr.current);var e=Zt(nt.current),n=$o(e,t.type);e!==n&&(H(Yr,t),H(nt,n))}function vu(t){Yr.current===t&&(Y(nt),Y(Yr))}var X=Vt(0);function pl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wo=[];function yu(){for(var t=0;t<wo.length;t++)wo[t]._workInProgressVersionPrimary=null;wo.length=0}var Wi=yt.ReactCurrentDispatcher,So=yt.ReactCurrentBatchConfig,rn=0,Z=null,re=null,se=null,ml=!1,Ir=!1,Kr=0,Zm=0;function he(){throw Error(S(321))}function _u(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qe(t[n],e[n]))return!1;return!0}function wu(t,e,n,r,i,l){if(rn=l,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wi.current=t===null||t.memoizedState===null?tg:ng,t=n(r,i),Ir){l=0;do{if(Ir=!1,Kr=0,25<=l)throw Error(S(301));l+=1,se=re=null,e.updateQueue=null,Wi.current=rg,t=n(r,i)}while(Ir)}if(Wi.current=gl,e=re!==null&&re.next!==null,rn=0,se=re=Z=null,ml=!1,e)throw Error(S(300));return t}function Su(){var t=Kr!==0;return Kr=0,t}function Xe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?Z.memoizedState=se=t:se=se.next=t,se}function je(){if(re===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var e=se===null?Z.memoizedState:se.next;if(e!==null)se=e,re=t;else{if(t===null)throw Error(S(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},se===null?Z.memoizedState=se=t:se=se.next=t}return se}function Xr(t,e){return typeof e=="function"?e(t):e}function xo(t){var e=je(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=re,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var u=o=null,a=null,c=l;do{var f=c.lane;if((rn&f)===f)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(u=a=p,o=r):a=a.next=p,Z.lanes|=f,ln|=f}c=c.next}while(c!==null&&c!==l);a===null?o=r:a.next=u,qe(r,e.memoizedState)||(xe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do l=i.lane,Z.lanes|=l,ln|=l,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Eo(t){var e=je(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,l=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do l=t(l,o.action),o=o.next;while(o!==i);qe(l,e.memoizedState)||(xe=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,r]}function Yf(){}function qf(t,e){var n=Z,r=je(),i=e(),l=!qe(r.memoizedState,i);if(l&&(r.memoizedState=i,xe=!0),r=r.queue,xu(Zf.bind(null,n,r,t),[t]),r.getSnapshot!==e||l||se!==null&&se.memoizedState.tag&1){if(n.flags|=2048,Zr(9,Xf.bind(null,n,r,i,e),void 0,null),ue===null)throw Error(S(349));rn&30||Kf(n,e,i)}return i}function Kf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xf(t,e,n,r){e.value=n,e.getSnapshot=r,Jf(e)&&bf(t)}function Zf(t,e,n){return n(function(){Jf(e)&&bf(t)})}function Jf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qe(t,n)}catch{return!0}}function bf(t){var e=gt(t,1);e!==null&&Ye(e,t,1,-1)}function Va(t){var e=Xe();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:t},e.queue=t,t=t.dispatch=eg.bind(null,Z,t),[e.memoizedState,t]}function Zr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ed(){return je().memoizedState}function Qi(t,e,n,r){var i=Xe();Z.flags|=t,i.memoizedState=Zr(1|e,n,void 0,r===void 0?null:r)}function Rl(t,e,n,r){var i=je();r=r===void 0?null:r;var l=void 0;if(re!==null){var o=re.memoizedState;if(l=o.destroy,r!==null&&_u(r,o.deps)){i.memoizedState=Zr(e,n,l,r);return}}Z.flags|=t,i.memoizedState=Zr(1|e,n,l,r)}function $a(t,e){return Qi(8390656,8,t,e)}function xu(t,e){return Rl(2048,8,t,e)}function td(t,e){return Rl(4,2,t,e)}function nd(t,e){return Rl(4,4,t,e)}function rd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function id(t,e,n){return n=n!=null?n.concat([t]):null,Rl(4,4,rd.bind(null,e,t),n)}function Eu(){}function ld(t,e){var n=je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_u(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function od(t,e){var n=je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_u(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sd(t,e,n){return rn&21?(qe(n,e)||(n=df(),Z.lanes|=n,ln|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xe=!0),t.memoizedState=n)}function Jm(t,e){var n=V;V=n!==0&&4>n?n:4,t(!0);var r=So.transition;So.transition={};try{t(!1),e()}finally{V=n,So.transition=r}}function ud(){return je().memoizedState}function bm(t,e,n){var r=Rt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ad(t))cd(e,n);else if(n=Wf(t,e,n,r),n!==null){var i=ye();Ye(n,t,r,i),fd(n,e,r)}}function eg(t,e,n){var r=Rt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ad(t))cd(e,i);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var o=e.lastRenderedState,u=l(o,n);if(i.hasEagerState=!0,i.eagerState=u,qe(u,o)){var a=e.interleaved;a===null?(i.next=i,pu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Wf(t,e,i,r),n!==null&&(i=ye(),Ye(n,t,r,i),fd(n,e,r))}}function ad(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function cd(t,e){Ir=ml=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eu(t,n)}}var gl={readContext:Be,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},tg={readContext:Be,useCallback:function(t,e){return Xe().memoizedState=[t,e===void 0?null:e],t},useContext:Be,useEffect:$a,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qi(4194308,4,rd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qi(4,2,t,e)},useMemo:function(t,e){var n=Xe();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xe();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bm.bind(null,Z,t),[r.memoizedState,t]},useRef:function(t){var e=Xe();return t={current:t},e.memoizedState=t},useState:Va,useDebugValue:Eu,useDeferredValue:function(t){return Xe().memoizedState=t},useTransition:function(){var t=Va(!1),e=t[0];return t=Jm.bind(null,t[1]),Xe().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Z,i=Xe();if(q){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),ue===null)throw Error(S(349));rn&30||Kf(r,e,n)}i.memoizedState=n;var l={value:n,getSnapshot:e};return i.queue=l,$a(Zf.bind(null,r,l,t),[t]),r.flags|=2048,Zr(9,Xf.bind(null,r,l,n,e),void 0,null),n},useId:function(){var t=Xe(),e=ue.identifierPrefix;if(q){var n=dt,r=ft;n=(r&~(1<<32-Ge(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Zm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ng={readContext:Be,useCallback:ld,useContext:Be,useEffect:xu,useImperativeHandle:id,useInsertionEffect:td,useLayoutEffect:nd,useMemo:od,useReducer:xo,useRef:ed,useState:function(){return xo(Xr)},useDebugValue:Eu,useDeferredValue:function(t){var e=je();return sd(e,re.memoizedState,t)},useTransition:function(){var t=xo(Xr)[0],e=je().memoizedState;return[t,e]},useMutableSource:Yf,useSyncExternalStore:qf,useId:ud,unstable_isNewReconciler:!1},rg={readContext:Be,useCallback:ld,useContext:Be,useEffect:xu,useImperativeHandle:id,useInsertionEffect:td,useLayoutEffect:nd,useMemo:od,useReducer:Eo,useRef:ed,useState:function(){return Eo(Xr)},useDebugValue:Eu,useDeferredValue:function(t){var e=je();return re===null?e.memoizedState=t:sd(e,re.memoizedState,t)},useTransition:function(){var t=Eo(Xr)[0],e=je().memoizedState;return[t,e]},useMutableSource:Yf,useSyncExternalStore:qf,useId:ud,unstable_isNewReconciler:!1};function $e(t,e){if(t&&t.defaultProps){e=J({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function as(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:J({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zl={isMounted:function(t){return(t=t._reactInternals)?cn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ye(),i=Rt(t),l=ht(r,i);l.payload=e,n!=null&&(l.callback=n),e=Ot(t,l,i),e!==null&&(Ye(e,t,i,r),Hi(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ye(),i=Rt(t),l=ht(r,i);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=Ot(t,l,i),e!==null&&(Ye(e,t,i,r),Hi(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ye(),r=Rt(t),i=ht(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ot(t,i,r),e!==null&&(Ye(e,t,r,n),Hi(e,t,r))}};function Ha(t,e,n,r,i,l,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,l,o):e.prototype&&e.prototype.isPureReactComponent?!Hr(n,r)||!Hr(i,l):!0}function dd(t,e,n){var r=!1,i=Dt,l=e.contextType;return typeof l=="object"&&l!==null?l=Be(l):(i=Pe(e)?tn:ge.current,r=e.contextTypes,l=(r=r!=null)?jn(t,i):Dt),e=new e(n,l),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=l),e}function Wa(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zl.enqueueReplaceState(e,e.state,null)}function cs(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mu(t);var l=e.contextType;typeof l=="object"&&l!==null?i.context=Be(l):(l=Pe(e)?tn:ge.current,i.context=jn(t,l)),i.state=t.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(as(t,e,l,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zl.enqueueReplaceState(i,i.state,null),hl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wn(t,e){try{var n="",r=e;do n+=Ap(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:e,stack:i,digest:null}}function Po(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fs(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ig=typeof WeakMap=="function"?WeakMap:Map;function hd(t,e,n){n=ht(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yl||(yl=!0,Ss=r),fs(t,e)},n}function pd(t,e,n){n=ht(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fs(t,e)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){fs(t,e),typeof r!="function"&&(Mt===null?Mt=new Set([this]):Mt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Qa(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ig;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yg.bind(null,t,e,n),e.then(t,t))}function Ga(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ya(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ht(-1,1),e.tag=2,Ot(n,e,1))),n.lanes|=1),t)}var lg=yt.ReactCurrentOwner,xe=!1;function ve(t,e,n,r){e.child=t===null?Hf(e,null,n,r):$n(e,t.child,n,r)}function qa(t,e,n,r,i){n=n.render;var l=e.ref;return zn(e,i),r=wu(t,e,n,r,l,i),n=Su(),t!==null&&!xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vt(t,e,i)):(q&&n&&uu(e),e.flags|=1,ve(t,e,r,i),e.child)}function Ka(t,e,n,r,i){if(t===null){var l=n.type;return typeof l=="function"&&!Au(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=l,md(t,e,l,r,i)):(t=Ki(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!(t.lanes&i)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Hr,n(o,r)&&t.ref===e.ref)return vt(t,e,i)}return e.flags|=1,t=zt(l,r),t.ref=e.ref,t.return=e,e.child=t}function md(t,e,n,r,i){if(t!==null){var l=t.memoizedProps;if(Hr(l,r)&&t.ref===e.ref)if(xe=!1,e.pendingProps=r=l,(t.lanes&i)!==0)t.flags&131072&&(xe=!0);else return e.lanes=t.lanes,vt(t,e,i)}return ds(t,e,n,r,i)}function gd(t,e,n){var r=e.pendingProps,i=r.children,l=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Ln,Ie),Ie|=n;else{if(!(n&1073741824))return t=l!==null?l.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,H(Ln,Ie),Ie|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,H(Ln,Ie),Ie|=r}else l!==null?(r=l.baseLanes|n,e.memoizedState=null):r=n,H(Ln,Ie),Ie|=r;return ve(t,e,i,n),e.child}function vd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ds(t,e,n,r,i){var l=Pe(n)?tn:ge.current;return l=jn(e,l),zn(e,i),n=wu(t,e,n,r,l,i),r=Su(),t!==null&&!xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vt(t,e,i)):(q&&r&&uu(e),e.flags|=1,ve(t,e,n,i),e.child)}function Xa(t,e,n,r,i){if(Pe(n)){var l=!0;ul(e)}else l=!1;if(zn(e,i),e.stateNode===null)Gi(t,e),dd(e,n,r),cs(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Be(c):(c=Pe(n)?tn:ge.current,c=jn(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||a!==c)&&Wa(e,o,r,c),St=!1;var m=e.memoizedState;o.state=m,hl(e,r,o,i),a=e.memoizedState,u!==r||m!==a||Ee.current||St?(typeof f=="function"&&(as(e,n,f,r),a=e.memoizedState),(u=St||Ha(e,n,u,r,m,a,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Qf(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:$e(e.type,u),o.props=c,p=e.pendingProps,m=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Be(a):(a=Pe(n)?tn:ge.current,a=jn(e,a));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==p||m!==a)&&Wa(e,o,r,a),St=!1,m=e.memoizedState,o.state=m,hl(e,r,o,i);var w=e.memoizedState;u!==p||m!==w||Ee.current||St?(typeof v=="function"&&(as(e,n,v,r),w=e.memoizedState),(c=St||Ha(e,n,c,r,m,w,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return hs(t,e,n,r,l,i)}function hs(t,e,n,r,i,l){vd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&za(e,n,!1),vt(t,e,l);r=e.stateNode,lg.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$n(e,t.child,null,l),e.child=$n(e,null,u,l)):ve(t,e,u,l),e.memoizedState=r.state,i&&za(e,n,!0),e.child}function yd(t){var e=t.stateNode;e.pendingContext?Ra(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ra(t,e.context,!1),gu(t,e.containerInfo)}function Za(t,e,n,r,i){return Vn(),cu(i),e.flags|=256,ve(t,e,n,r),e.child}var ps={dehydrated:null,treeContext:null,retryLane:0};function ms(t){return{baseLanes:t,cachePool:null,transitions:null}}function _d(t,e,n){var r=e.pendingProps,i=X.current,l=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(l=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),H(X,i&1),t===null)return ss(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,l?(r=e.mode,l=e.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Fl(o,r,0,null),t=bt(t,r,n,null),l.return=e,t.return=e,l.sibling=t,e.child=l,e.child.memoizedState=ms(n),e.memoizedState=ps,t):Pu(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return og(t,e,o,r,u,i,n);if(l){l=r.fallback,o=e.mode,i=t.child,u=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=zt(i,a),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?l=zt(u,l):(l=bt(l,o,n,null),l.flags|=2),l.return=e,r.return=e,r.sibling=l,e.child=r,r=l,l=e.child,o=t.child.memoizedState,o=o===null?ms(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=t.childLanes&~n,e.memoizedState=ps,r}return l=t.child,t=l.sibling,r=zt(l,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pu(t,e){return e=Fl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ni(t,e,n,r){return r!==null&&cu(r),$n(e,t.child,null,n),t=Pu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function og(t,e,n,r,i,l,o){if(n)return e.flags&256?(e.flags&=-257,r=Po(Error(S(422))),Ni(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(l=r.fallback,i=e.mode,r=Fl({mode:"visible",children:r.children},i,0,null),l=bt(l,i,o,null),l.flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,e.mode&1&&$n(e,t.child,null,o),e.child.memoizedState=ms(o),e.memoizedState=ps,l);if(!(e.mode&1))return Ni(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,l=Error(S(419)),r=Po(l,r,void 0),Ni(t,e,o,r)}if(u=(o&t.childLanes)!==0,xe||u){if(r=ue,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,gt(t,i),Ye(r,t,i,-1))}return Nu(),r=Po(Error(S(421))),Ni(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_g.bind(null,t),i._reactRetry=e,null):(t=l.treeContext,Ne=At(i.nextSibling),Ae=e,q=!0,We=null,t!==null&&(ze[Ue++]=ft,ze[Ue++]=dt,ze[Ue++]=nn,ft=t.id,dt=t.overflow,nn=e),e=Pu(e,r.children),e.flags|=4096,e)}function Ja(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),us(t.return,e,n)}function To(t,e,n,r,i){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function wd(t,e,n){var r=e.pendingProps,i=r.revealOrder,l=r.tail;if(ve(t,e,r.children,n),r=X.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ja(t,n,e);else if(t.tag===19)Ja(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(H(X,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&pl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),To(e,!1,i,n,l);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}To(e,!0,n,null,l);break;case"together":To(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ln|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=zt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sg(t,e,n){switch(e.tag){case 3:yd(e),Vn();break;case 5:Gf(e);break;case 1:Pe(e.type)&&ul(e);break;case 4:gu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;H(fl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(H(X,X.current&1),e.flags|=128,null):n&e.child.childLanes?_d(t,e,n):(H(X,X.current&1),t=vt(t,e,n),t!==null?t.sibling:null);H(X,X.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wd(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),H(X,X.current),r)break;return null;case 22:case 23:return e.lanes=0,gd(t,e,n)}return vt(t,e,n)}var Sd,gs,xd,Ed;Sd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gs=function(){};xd=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zt(nt.current);var l=null;switch(n){case"input":i=Fo(t,i),r=Fo(t,r),l=[];break;case"select":i=J({},i,{value:void 0}),r=J({},r,{value:void 0}),l=[];break;case"textarea":i=Vo(t,i),r=Vo(t,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ol)}Ho(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ur.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var a=r[c];if(u=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==u&&(a!=null||u!=null))if(c==="style")if(u){for(o in u)!u.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&u[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(l||(l=[]),l.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(l=l||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(l=l||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ur.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&Q("scroll",t),l||u===a||(l=[])):(l=l||[]).push(c,a))}n&&(l=l||[]).push("style",n);var c=l;(e.updateQueue=c)&&(e.flags|=4)}};Ed=function(t,e,n,r){n!==r&&(e.flags|=4)};function mr(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ug(t,e,n){var r=e.pendingProps;switch(au(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(e),null;case 1:return Pe(e.type)&&sl(),pe(e),null;case 3:return r=e.stateNode,Hn(),Y(Ee),Y(ge),yu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Li(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,We!==null&&(Ps(We),We=null))),gs(t,e),pe(e),null;case 5:vu(e);var i=Zt(qr.current);if(n=e.type,t!==null&&e.stateNode!=null)xd(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return pe(e),null}if(t=Zt(nt.current),Li(e)){r=e.stateNode,n=e.type;var l=e.memoizedProps;switch(r[Je]=e,r[Gr]=l,t=(e.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(i=0;i<Sr.length;i++)Q(Sr[i],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":sa(r,l),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Q("invalid",r);break;case"textarea":aa(r,l),Q("invalid",r)}Ho(n,l),i=null;for(var o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="children"?typeof u=="string"?r.textContent!==u&&(l.suppressHydrationWarning!==!0&&Ci(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(l.suppressHydrationWarning!==!0&&Ci(r.textContent,u,t),i=["children",""+u]):Ur.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Q("scroll",r)}switch(n){case"input":_i(r),ua(r,l,!0);break;case"textarea":_i(r),ca(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=ol)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Je]=e,t[Gr]=r,Sd(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wo(n,r),n){case"dialog":Q("cancel",t),Q("close",t),i=r;break;case"iframe":case"object":case"embed":Q("load",t),i=r;break;case"video":case"audio":for(i=0;i<Sr.length;i++)Q(Sr[i],t);i=r;break;case"source":Q("error",t),i=r;break;case"img":case"image":case"link":Q("error",t),Q("load",t),i=r;break;case"details":Q("toggle",t),i=r;break;case"input":sa(t,r),i=Fo(t,r),Q("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=J({},r,{value:void 0}),Q("invalid",t);break;case"textarea":aa(t,r),i=Vo(t,r),Q("invalid",t);break;default:i=r}Ho(n,i),u=i;for(l in u)if(u.hasOwnProperty(l)){var a=u[l];l==="style"?bc(t,a):l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Zc(t,a)):l==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Dr(t,a):typeof a=="number"&&Dr(t,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ur.hasOwnProperty(l)?a!=null&&l==="onScroll"&&Q("scroll",t):a!=null&&qs(t,l,a,o))}switch(n){case"input":_i(t),ua(t,r,!1);break;case"textarea":_i(t),ca(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ut(r.value));break;case"select":t.multiple=!!r.multiple,l=r.value,l!=null?An(t,!!r.multiple,l,!1):r.defaultValue!=null&&An(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ol)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pe(e),null;case 6:if(t&&e.stateNode!=null)Ed(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=Zt(qr.current),Zt(nt.current),Li(e)){if(r=e.stateNode,n=e.memoizedProps,r[Je]=e,(l=r.nodeValue!==n)&&(t=Ae,t!==null))switch(t.tag){case 3:Ci(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ci(r.nodeValue,n,(t.mode&1)!==0)}l&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Je]=e,e.stateNode=r}return pe(e),null;case 13:if(Y(X),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Ne!==null&&e.mode&1&&!(e.flags&128))Vf(),Vn(),e.flags|=98560,l=!1;else if(l=Li(e),r!==null&&r.dehydrated!==null){if(t===null){if(!l)throw Error(S(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(S(317));l[Je]=e}else Vn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pe(e),l=!1}else We!==null&&(Ps(We),We=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||X.current&1?ie===0&&(ie=3):Nu())),e.updateQueue!==null&&(e.flags|=4),pe(e),null);case 4:return Hn(),gs(t,e),t===null&&Wr(e.stateNode.containerInfo),pe(e),null;case 10:return hu(e.type._context),pe(e),null;case 17:return Pe(e.type)&&sl(),pe(e),null;case 19:if(Y(X),l=e.memoizedState,l===null)return pe(e),null;if(r=(e.flags&128)!==0,o=l.rendering,o===null)if(r)mr(l,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pl(t),o!==null){for(e.flags|=128,mr(l,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)l=n,t=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,t=o.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return H(X,X.current&1|2),e.child}t=t.sibling}l.tail!==null&&te()>Qn&&(e.flags|=128,r=!0,mr(l,!1),e.lanes=4194304)}else{if(!r)if(t=pl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!q)return pe(e),null}else 2*te()-l.renderingStartTime>Qn&&n!==1073741824&&(e.flags|=128,r=!0,mr(l,!1),e.lanes=4194304);l.isBackwards?(o.sibling=e.child,e.child=o):(n=l.last,n!==null?n.sibling=o:e.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=te(),e.sibling=null,n=X.current,H(X,r?n&1|2:n&1),e):(pe(e),null);case 22:case 23:return Iu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ie&1073741824&&(pe(e),e.subtreeFlags&6&&(e.flags|=8192)):pe(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function ag(t,e){switch(au(e),e.tag){case 1:return Pe(e.type)&&sl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hn(),Y(Ee),Y(ge),yu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vu(e),null;case 13:if(Y(X),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));Vn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Y(X),null;case 4:return Hn(),null;case 10:return hu(e.type._context),null;case 22:case 23:return Iu(),null;case 24:return null;default:return null}}var Ai=!1,me=!1,cg=typeof WeakSet=="function"?WeakSet:Set,T=null;function Cn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){b(t,e,r)}else n.current=null}function vs(t,e,n){try{n()}catch(r){b(t,e,r)}}var ba=!1;function fg(t,e){if(es=rl,t=Lf(),su(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,u=-1,a=-1,c=0,f=0,p=t,m=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(u=o+i),p!==l||r!==0&&p.nodeType!==3||(a=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===t)break t;if(m===n&&++c===i&&(u=o),m===l&&++f===r&&(a=o),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=u===-1||a===-1?null:{start:u,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:t,selectionRange:n},rl=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,I=w.memoizedState,g=e.stateNode,d=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:$e(e.type,_),I);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var h=e.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(y){b(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return w=ba,ba=!1,w}function Nr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var l=i.destroy;i.destroy=void 0,l!==void 0&&vs(e,n,l)}i=i.next}while(i!==r)}}function Ul(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ys(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Pd(t){var e=t.alternate;e!==null&&(t.alternate=null,Pd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Je],delete e[Gr],delete e[is],delete e[Ym],delete e[qm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Td(t){return t.tag===5||t.tag===3||t.tag===4}function ec(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Td(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _s(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ol));else if(r!==4&&(t=t.child,t!==null))for(_s(t,e,n),t=t.sibling;t!==null;)_s(t,e,n),t=t.sibling}function ws(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ws(t,e,n),t=t.sibling;t!==null;)ws(t,e,n),t=t.sibling}var ce=null,He=!1;function _t(t,e,n){for(n=n.child;n!==null;)kd(t,e,n),n=n.sibling}function kd(t,e,n){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Ll,n)}catch{}switch(n.tag){case 5:me||Cn(n,e);case 6:var r=ce,i=He;ce=null,_t(t,e,n),ce=r,He=i,ce!==null&&(He?(t=ce,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ce.removeChild(n.stateNode));break;case 18:ce!==null&&(He?(t=ce,n=n.stateNode,t.nodeType===8?yo(t.parentNode,n):t.nodeType===1&&yo(t,n),Vr(t)):yo(ce,n.stateNode));break;case 4:r=ce,i=He,ce=n.stateNode.containerInfo,He=!0,_t(t,e,n),ce=r,He=i;break;case 0:case 11:case 14:case 15:if(!me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&vs(n,e,o),i=i.next}while(i!==r)}_t(t,e,n);break;case 1:if(!me&&(Cn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){b(n,e,u)}_t(t,e,n);break;case 21:_t(t,e,n);break;case 22:n.mode&1?(me=(r=me)||n.memoizedState!==null,_t(t,e,n),me=r):_t(t,e,n);break;default:_t(t,e,n)}}function tc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cg),e.forEach(function(r){var i=wg.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ve(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:ce=u.stateNode,He=!1;break e;case 3:ce=u.stateNode.containerInfo,He=!0;break e;case 4:ce=u.stateNode.containerInfo,He=!0;break e}u=u.return}if(ce===null)throw Error(S(160));kd(l,o,i),ce=null,He=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){b(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Cd(e,t),e=e.sibling}function Cd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ve(e,t),Ke(t),r&4){try{Nr(3,t,t.return),Ul(3,t)}catch(_){b(t,t.return,_)}try{Nr(5,t,t.return)}catch(_){b(t,t.return,_)}}break;case 1:Ve(e,t),Ke(t),r&512&&n!==null&&Cn(n,n.return);break;case 5:if(Ve(e,t),Ke(t),r&512&&n!==null&&Cn(n,n.return),t.flags&32){var i=t.stateNode;try{Dr(i,"")}catch(_){b(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var l=t.memoizedProps,o=n!==null?n.memoizedProps:l,u=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{u==="input"&&l.type==="radio"&&l.name!=null&&qc(i,l),Wo(u,o);var c=Wo(u,l);for(o=0;o<a.length;o+=2){var f=a[o],p=a[o+1];f==="style"?bc(i,p):f==="dangerouslySetInnerHTML"?Zc(i,p):f==="children"?Dr(i,p):qs(i,f,p,c)}switch(u){case"input":Bo(i,l);break;case"textarea":Kc(i,l);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?An(i,!!l.multiple,v,!1):m!==!!l.multiple&&(l.defaultValue!=null?An(i,!!l.multiple,l.defaultValue,!0):An(i,!!l.multiple,l.multiple?[]:"",!1))}i[Gr]=l}catch(_){b(t,t.return,_)}}break;case 6:if(Ve(e,t),Ke(t),r&4){if(t.stateNode===null)throw Error(S(162));i=t.stateNode,l=t.memoizedProps;try{i.nodeValue=l}catch(_){b(t,t.return,_)}}break;case 3:if(Ve(e,t),Ke(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vr(e.containerInfo)}catch(_){b(t,t.return,_)}break;case 4:Ve(e,t),Ke(t);break;case 13:Ve(e,t),Ke(t),i=t.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(Cu=te())),r&4&&tc(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(me=(c=me)||f,Ve(e,t),me=c):Ve(e,t),Ke(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(T=t,f=t.child;f!==null;){for(p=T=f;T!==null;){switch(m=T,v=m.child,m.tag){case 0:case 11:case 14:case 15:Nr(4,m,m.return);break;case 1:Cn(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){b(r,n,_)}}break;case 5:Cn(m,m.return);break;case 22:if(m.memoizedState!==null){rc(p);continue}}v!==null?(v.return=m,T=v):rc(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(u=p.stateNode,a=p.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=Jc("display",o))}catch(_){b(t,t.return,_)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(_){b(t,t.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ve(e,t),Ke(t),r&4&&tc(t);break;case 21:break;default:Ve(e,t),Ke(t)}}function Ke(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Td(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Dr(i,""),r.flags&=-33);var l=ec(t);ws(t,l,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=ec(t);_s(t,u,o);break;default:throw Error(S(161))}}catch(a){b(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dg(t,e,n){T=t,Ld(t)}function Ld(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var i=T,l=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ai;if(!o){var u=i.alternate,a=u!==null&&u.memoizedState!==null||me;u=Ai;var c=me;if(Ai=o,(me=a)&&!c)for(T=i;T!==null;)o=T,a=o.child,o.tag===22&&o.memoizedState!==null?ic(i):a!==null?(a.return=o,T=a):ic(i);for(;l!==null;)T=l,Ld(l),l=l.sibling;T=i,Ai=u,me=c}nc(t)}else i.subtreeFlags&8772&&l!==null?(l.return=i,T=l):nc(t)}}function nc(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:me||Ul(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!me)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$e(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&ja(e,l,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ja(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Vr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}me||e.flags&512&&ys(e)}catch(m){b(e,e.return,m)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function rc(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function ic(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ul(4,e)}catch(a){b(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){b(e,i,a)}}var l=e.return;try{ys(e)}catch(a){b(e,l,a)}break;case 5:var o=e.return;try{ys(e)}catch(a){b(e,o,a)}}}catch(a){b(e,e.return,a)}if(e===t){T=null;break}var u=e.sibling;if(u!==null){u.return=e.return,T=u;break}T=e.return}}var hg=Math.ceil,vl=yt.ReactCurrentDispatcher,Tu=yt.ReactCurrentOwner,Fe=yt.ReactCurrentBatchConfig,U=0,ue=null,ne=null,fe=0,Ie=0,Ln=Vt(0),ie=0,Jr=null,ln=0,Dl=0,ku=0,Ar=null,Se=null,Cu=0,Qn=1/0,ot=null,yl=!1,Ss=null,Mt=null,Oi=!1,Ct=null,_l=0,Or=0,xs=null,Yi=-1,qi=0;function ye(){return U&6?te():Yi!==-1?Yi:Yi=te()}function Rt(t){return t.mode&1?U&2&&fe!==0?fe&-fe:Xm.transition!==null?(qi===0&&(qi=df()),qi):(t=V,t!==0||(t=window.event,t=t===void 0?16:_f(t.type)),t):1}function Ye(t,e,n,r){if(50<Or)throw Or=0,xs=null,Error(S(185));li(t,n,r),(!(U&2)||t!==ue)&&(t===ue&&(!(U&2)&&(Dl|=n),ie===4&&Tt(t,fe)),Te(t,r),n===1&&U===0&&!(e.mode&1)&&(Qn=te()+500,Ml&&$t()))}function Te(t,e){var n=t.callbackNode;Xp(t,e);var r=nl(t,t===ue?fe:0);if(r===0)n!==null&&ha(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ha(n),e===1)t.tag===0?Km(lc.bind(null,t)):Ff(lc.bind(null,t)),Qm(function(){!(U&6)&&$t()}),n=null;else{switch(hf(r)){case 1:n=bs;break;case 4:n=cf;break;case 16:n=tl;break;case 536870912:n=ff;break;default:n=tl}n=Ud(n,Id.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Id(t,e){if(Yi=-1,qi=0,U&6)throw Error(S(327));var n=t.callbackNode;if(Un()&&t.callbackNode!==n)return null;var r=nl(t,t===ue?fe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wl(t,r);else{e=r;var i=U;U|=2;var l=Ad();(ue!==t||fe!==e)&&(ot=null,Qn=te()+500,Jt(t,e));do try{gg();break}catch(u){Nd(t,u)}while(!0);du(),vl.current=l,U=i,ne!==null?e=0:(ue=null,fe=0,e=ie)}if(e!==0){if(e===2&&(i=Ko(t),i!==0&&(r=i,e=Es(t,i))),e===1)throw n=Jr,Jt(t,0),Tt(t,r),Te(t,te()),n;if(e===6)Tt(t,r);else{if(i=t.current.alternate,!(r&30)&&!pg(i)&&(e=wl(t,r),e===2&&(l=Ko(t),l!==0&&(r=l,e=Es(t,l))),e===1))throw n=Jr,Jt(t,0),Tt(t,r),Te(t,te()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:qt(t,Se,ot);break;case 3:if(Tt(t,r),(r&130023424)===r&&(e=Cu+500-te(),10<e)){if(nl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ye(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=rs(qt.bind(null,t,Se,ot),e);break}qt(t,Se,ot);break;case 4:if(Tt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ge(r);l=1<<o,o=e[o],o>i&&(i=o),r&=~l}if(r=i,r=te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hg(r/1960))-r,10<r){t.timeoutHandle=rs(qt.bind(null,t,Se,ot),r);break}qt(t,Se,ot);break;case 5:qt(t,Se,ot);break;default:throw Error(S(329))}}}return Te(t,te()),t.callbackNode===n?Id.bind(null,t):null}function Es(t,e){var n=Ar;return t.current.memoizedState.isDehydrated&&(Jt(t,e).flags|=256),t=wl(t,e),t!==2&&(e=Se,Se=n,e!==null&&Ps(e)),t}function Ps(t){Se===null?Se=t:Se.push.apply(Se,t)}function pg(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!qe(l(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tt(t,e){for(e&=~ku,e&=~Dl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ge(e),r=1<<n;t[n]=-1,e&=~r}}function lc(t){if(U&6)throw Error(S(327));Un();var e=nl(t,0);if(!(e&1))return Te(t,te()),null;var n=wl(t,e);if(t.tag!==0&&n===2){var r=Ko(t);r!==0&&(e=r,n=Es(t,r))}if(n===1)throw n=Jr,Jt(t,0),Tt(t,e),Te(t,te()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qt(t,Se,ot),Te(t,te()),null}function Lu(t,e){var n=U;U|=1;try{return t(e)}finally{U=n,U===0&&(Qn=te()+500,Ml&&$t())}}function on(t){Ct!==null&&Ct.tag===0&&!(U&6)&&Un();var e=U;U|=1;var n=Fe.transition,r=V;try{if(Fe.transition=null,V=1,t)return t()}finally{V=r,Fe.transition=n,U=e,!(U&6)&&$t()}}function Iu(){Ie=Ln.current,Y(Ln)}function Jt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Wm(n)),ne!==null)for(n=ne.return;n!==null;){var r=n;switch(au(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sl();break;case 3:Hn(),Y(Ee),Y(ge),yu();break;case 5:vu(r);break;case 4:Hn();break;case 13:Y(X);break;case 19:Y(X);break;case 10:hu(r.type._context);break;case 22:case 23:Iu()}n=n.return}if(ue=t,ne=t=zt(t.current,null),fe=Ie=e,ie=0,Jr=null,ku=Dl=ln=0,Se=Ar=null,Xt!==null){for(e=0;e<Xt.length;e++)if(n=Xt[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=i,r.next=o}n.pending=r}Xt=null}return t}function Nd(t,e){do{var n=ne;try{if(du(),Wi.current=gl,ml){for(var r=Z.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ml=!1}if(rn=0,se=re=Z=null,Ir=!1,Kr=0,Tu.current=null,n===null||n.return===null){ie=1,Jr=e,ne=null;break}e:{var l=t,o=n.return,u=n,a=e;if(e=fe,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Ga(o);if(v!==null){v.flags&=-257,Ya(v,o,u,l,e),v.mode&1&&Qa(l,c,e),e=v,a=c;var w=e.updateQueue;if(w===null){var _=new Set;_.add(a),e.updateQueue=_}else w.add(a);break e}else{if(!(e&1)){Qa(l,c,e),Nu();break e}a=Error(S(426))}}else if(q&&u.mode&1){var I=Ga(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Ya(I,o,u,l,e),cu(Wn(a,u));break e}}l=a=Wn(a,u),ie!==4&&(ie=2),Ar===null?Ar=[l]:Ar.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var g=hd(l,a,e);Ba(l,g);break e;case 1:u=a;var d=l.type,h=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Mt===null||!Mt.has(h)))){l.flags|=65536,e&=-e,l.lanes|=e;var y=pd(l,u,e);Ba(l,y);break e}}l=l.return}while(l!==null)}Md(n)}catch(x){e=x,ne===n&&n!==null&&(ne=n=n.return);continue}break}while(!0)}function Ad(){var t=vl.current;return vl.current=gl,t===null?gl:t}function Nu(){(ie===0||ie===3||ie===2)&&(ie=4),ue===null||!(ln&268435455)&&!(Dl&268435455)||Tt(ue,fe)}function wl(t,e){var n=U;U|=2;var r=Ad();(ue!==t||fe!==e)&&(ot=null,Jt(t,e));do try{mg();break}catch(i){Nd(t,i)}while(!0);if(du(),U=n,vl.current=r,ne!==null)throw Error(S(261));return ue=null,fe=0,ie}function mg(){for(;ne!==null;)Od(ne)}function gg(){for(;ne!==null&&!Vp();)Od(ne)}function Od(t){var e=zd(t.alternate,t,Ie);t.memoizedProps=t.pendingProps,e===null?Md(t):ne=e,Tu.current=null}function Md(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ag(n,e),n!==null){n.flags&=32767,ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ie=6,ne=null;return}}else if(n=ug(n,e,Ie),n!==null){ne=n;return}if(e=e.sibling,e!==null){ne=e;return}ne=e=t}while(e!==null);ie===0&&(ie=5)}function qt(t,e,n){var r=V,i=Fe.transition;try{Fe.transition=null,V=1,vg(t,e,n,r)}finally{Fe.transition=i,V=r}return null}function vg(t,e,n,r){do Un();while(Ct!==null);if(U&6)throw Error(S(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var l=n.lanes|n.childLanes;if(Zp(t,l),t===ue&&(ne=ue=null,fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oi||(Oi=!0,Ud(tl,function(){return Un(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Fe.transition,Fe.transition=null;var o=V;V=1;var u=U;U|=4,Tu.current=null,fg(t,n),Cd(n,t),Dm(ts),rl=!!es,ts=es=null,t.current=n,dg(n),$p(),U=u,V=o,Fe.transition=l}else t.current=n;if(Oi&&(Oi=!1,Ct=t,_l=i),l=t.pendingLanes,l===0&&(Mt=null),Qp(n.stateNode),Te(t,te()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yl)throw yl=!1,t=Ss,Ss=null,t;return _l&1&&t.tag!==0&&Un(),l=t.pendingLanes,l&1?t===xs?Or++:(Or=0,xs=t):Or=0,$t(),null}function Un(){if(Ct!==null){var t=hf(_l),e=Fe.transition,n=V;try{if(Fe.transition=null,V=16>t?16:t,Ct===null)var r=!1;else{if(t=Ct,Ct=null,_l=0,U&6)throw Error(S(331));var i=U;for(U|=4,T=t.current;T!==null;){var l=T,o=l.child;if(T.flags&16){var u=l.deletions;if(u!==null){for(var a=0;a<u.length;a++){var c=u[a];for(T=c;T!==null;){var f=T;switch(f.tag){case 0:case 11:case 15:Nr(8,f,l)}var p=f.child;if(p!==null)p.return=f,T=p;else for(;T!==null;){f=T;var m=f.sibling,v=f.return;if(Pd(f),f===c){T=null;break}if(m!==null){m.return=v,T=m;break}T=v}}}var w=l.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var I=_.sibling;_.sibling=null,_=I}while(_!==null)}}T=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,T=o;else e:for(;T!==null;){if(l=T,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Nr(9,l,l.return)}var g=l.sibling;if(g!==null){g.return=l.return,T=g;break e}T=l.return}}var d=t.current;for(T=d;T!==null;){o=T;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,T=h;else e:for(o=d;T!==null;){if(u=T,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ul(9,u)}}catch(x){b(u,u.return,x)}if(u===o){T=null;break e}var y=u.sibling;if(y!==null){y.return=u.return,T=y;break e}T=u.return}}if(U=i,$t(),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Ll,t)}catch{}r=!0}return r}finally{V=n,Fe.transition=e}}return!1}function oc(t,e,n){e=Wn(n,e),e=hd(t,e,1),t=Ot(t,e,1),e=ye(),t!==null&&(li(t,1,e),Te(t,e))}function b(t,e,n){if(t.tag===3)oc(t,t,n);else for(;e!==null;){if(e.tag===3){oc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mt===null||!Mt.has(r))){t=Wn(n,t),t=pd(e,t,1),e=Ot(e,t,1),t=ye(),e!==null&&(li(e,1,t),Te(e,t));break}}e=e.return}}function yg(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ye(),t.pingedLanes|=t.suspendedLanes&n,ue===t&&(fe&n)===n&&(ie===4||ie===3&&(fe&130023424)===fe&&500>te()-Cu?Jt(t,0):ku|=n),Te(t,e)}function Rd(t,e){e===0&&(t.mode&1?(e=xi,xi<<=1,!(xi&130023424)&&(xi=4194304)):e=1);var n=ye();t=gt(t,e),t!==null&&(li(t,e,n),Te(t,n))}function _g(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Rd(t,n)}function wg(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),Rd(t,n)}var zd;zd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ee.current)xe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xe=!1,sg(t,e,n);xe=!!(t.flags&131072)}else xe=!1,q&&e.flags&1048576&&Bf(e,cl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gi(t,e),t=e.pendingProps;var i=jn(e,ge.current);zn(e,n),i=wu(null,e,r,t,i,n);var l=Su();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pe(r)?(l=!0,ul(e)):l=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mu(e),i.updater=zl,e.stateNode=i,i._reactInternals=e,cs(e,r,t,n),e=hs(null,e,r,!0,l,n)):(e.tag=0,q&&l&&uu(e),ve(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gi(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xg(r),t=$e(r,t),i){case 0:e=ds(null,e,r,t,n);break e;case 1:e=Xa(null,e,r,t,n);break e;case 11:e=qa(null,e,r,t,n);break e;case 14:e=Ka(null,e,r,$e(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$e(r,i),ds(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$e(r,i),Xa(t,e,r,i,n);case 3:e:{if(yd(e),t===null)throw Error(S(387));r=e.pendingProps,l=e.memoizedState,i=l.element,Qf(t,e),hl(e,r,null,n);var o=e.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){i=Wn(Error(S(423)),e),e=Za(t,e,r,n,i);break e}else if(r!==i){i=Wn(Error(S(424)),e),e=Za(t,e,r,n,i);break e}else for(Ne=At(e.stateNode.containerInfo.firstChild),Ae=e,q=!0,We=null,n=Hf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vn(),r===i){e=vt(t,e,n);break e}ve(t,e,r,n)}e=e.child}return e;case 5:return Gf(e),t===null&&ss(e),r=e.type,i=e.pendingProps,l=t!==null?t.memoizedProps:null,o=i.children,ns(r,i)?o=null:l!==null&&ns(r,l)&&(e.flags|=32),vd(t,e),ve(t,e,o,n),e.child;case 6:return t===null&&ss(e),null;case 13:return _d(t,e,n);case 4:return gu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$n(e,null,r,n):ve(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$e(r,i),qa(t,e,r,i,n);case 7:return ve(t,e,e.pendingProps,n),e.child;case 8:return ve(t,e,e.pendingProps.children,n),e.child;case 12:return ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,l=e.memoizedProps,o=i.value,H(fl,r._currentValue),r._currentValue=o,l!==null)if(qe(l.value,o)){if(l.children===i.children&&!Ee.current){e=vt(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var u=l.dependencies;if(u!==null){o=l.child;for(var a=u.firstContext;a!==null;){if(a.context===r){if(l.tag===1){a=ht(-1,n&-n),a.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a}}l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),us(l.return,n,e),u.lanes|=n;break}a=a.next}}else if(l.tag===10)o=l.type===e.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(S(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),us(o,n,e),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===e){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}ve(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zn(e,n),i=Be(i),r=r(i),e.flags|=1,ve(t,e,r,n),e.child;case 14:return r=e.type,i=$e(r,e.pendingProps),i=$e(r.type,i),Ka(t,e,r,i,n);case 15:return md(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$e(r,i),Gi(t,e),e.tag=1,Pe(r)?(t=!0,ul(e)):t=!1,zn(e,n),dd(e,r,i),cs(e,r,i,n),hs(null,e,r,!0,t,n);case 19:return wd(t,e,n);case 22:return gd(t,e,n)}throw Error(S(156,e.tag))};function Ud(t,e){return af(t,e)}function Sg(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function De(t,e,n,r){return new Sg(t,e,n,r)}function Au(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xg(t){if(typeof t=="function")return Au(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xs)return 11;if(t===Zs)return 14}return 2}function zt(t,e){var n=t.alternate;return n===null?(n=De(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ki(t,e,n,r,i,l){var o=2;if(r=t,typeof t=="function")Au(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yn:return bt(n.children,i,l,e);case Ks:o=8,i|=8;break;case Ro:return t=De(12,n,e,i|2),t.elementType=Ro,t.lanes=l,t;case zo:return t=De(13,n,e,i),t.elementType=zo,t.lanes=l,t;case Uo:return t=De(19,n,e,i),t.elementType=Uo,t.lanes=l,t;case Qc:return Fl(n,i,l,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hc:o=10;break e;case Wc:o=9;break e;case Xs:o=11;break e;case Zs:o=14;break e;case wt:o=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=De(o,n,e,i),e.elementType=t,e.type=r,e.lanes=l,e}function bt(t,e,n,r){return t=De(7,t,r,e),t.lanes=n,t}function Fl(t,e,n,r){return t=De(22,t,r,e),t.elementType=Qc,t.lanes=n,t.stateNode={isHidden:!1},t}function ko(t,e,n){return t=De(6,t,null,e),t.lanes=n,t}function Co(t,e,n){return e=De(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Eg(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oo(0),this.expirationTimes=oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ou(t,e,n,r,i,l,o,u,a){return t=new Eg(t,e,n,u,a),e===1?(e=1,l===!0&&(e|=8)):e=0,l=De(3,null,null,e),t.current=l,l.stateNode=t,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mu(l),t}function Pg(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Dd(t){if(!t)return Dt;t=t._reactInternals;e:{if(cn(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if(Pe(n))return Df(t,n,e)}return e}function Fd(t,e,n,r,i,l,o,u,a){return t=Ou(n,r,!0,t,i,l,o,u,a),t.context=Dd(null),n=t.current,r=ye(),i=Rt(n),l=ht(r,i),l.callback=e??null,Ot(n,l,i),t.current.lanes=i,li(t,i,r),Te(t,r),t}function Bl(t,e,n,r){var i=e.current,l=ye(),o=Rt(i);return n=Dd(n),e.context===null?e.context=n:e.pendingContext=n,e=ht(l,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ot(i,e,o),t!==null&&(Ye(t,i,o,l),Hi(t,i,o)),o}function Sl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mu(t,e){sc(t,e),(t=t.alternate)&&sc(t,e)}function Tg(){return null}var Bd=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ru(t){this._internalRoot=t}jl.prototype.render=Ru.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));Bl(t,e,null,null)};jl.prototype.unmount=Ru.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;on(function(){Bl(null,t,null,null)}),e[mt]=null}};function jl(t){this._internalRoot=t}jl.prototype.unstable_scheduleHydration=function(t){if(t){var e=gf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pt.length&&e!==0&&e<Pt[n].priority;n++);Pt.splice(n,0,t),n===0&&yf(t)}};function zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uc(){}function kg(t,e,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var c=Sl(o);l.call(c)}}var o=Fd(e,r,t,0,null,!1,!1,"",uc);return t._reactRootContainer=o,t[mt]=o.current,Wr(t.nodeType===8?t.parentNode:t),on(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var c=Sl(a);u.call(c)}}var a=Ou(t,0,!1,null,null,!1,!1,"",uc);return t._reactRootContainer=a,t[mt]=a.current,Wr(t.nodeType===8?t.parentNode:t),on(function(){Bl(e,a,n,r)}),a}function $l(t,e,n,r,i){var l=n._reactRootContainer;if(l){var o=l;if(typeof i=="function"){var u=i;i=function(){var a=Sl(o);u.call(a)}}Bl(e,o,t,i)}else o=kg(n,e,t,i,r);return Sl(o)}pf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wr(e.pendingLanes);n!==0&&(eu(e,n|1),Te(e,te()),!(U&6)&&(Qn=te()+500,$t()))}break;case 13:on(function(){var r=gt(t,1);if(r!==null){var i=ye();Ye(r,t,1,i)}}),Mu(t,1)}};tu=function(t){if(t.tag===13){var e=gt(t,134217728);if(e!==null){var n=ye();Ye(e,t,134217728,n)}Mu(t,134217728)}};mf=function(t){if(t.tag===13){var e=Rt(t),n=gt(t,e);if(n!==null){var r=ye();Ye(n,t,e,r)}Mu(t,e)}};gf=function(){return V};vf=function(t,e){var n=V;try{return V=t,e()}finally{V=n}};Go=function(t,e,n){switch(e){case"input":if(Bo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ol(r);if(!i)throw Error(S(90));Yc(r),Bo(r,i)}}}break;case"textarea":Kc(t,n);break;case"select":e=n.value,e!=null&&An(t,!!n.multiple,e,!1)}};nf=Lu;rf=on;var Cg={usingClientEntryPoint:!1,Events:[si,xn,Ol,ef,tf,Lu]},gr={findFiberByHostInstance:Kt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lg={bundleType:gr.bundleType,version:gr.version,rendererPackageName:gr.rendererPackageName,rendererConfig:gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sf(t),t===null?null:t.stateNode},findFiberByHostInstance:gr.findFiberByHostInstance||Tg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mi.isDisabled&&Mi.supportsFiber)try{Ll=Mi.inject(Lg),tt=Mi}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cg;Me.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zu(e))throw Error(S(200));return Pg(t,e,null,n)};Me.createRoot=function(t,e){if(!zu(t))throw Error(S(299));var n=!1,r="",i=Bd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ou(t,1,!1,null,null,n,!1,r,i),t[mt]=e.current,Wr(t.nodeType===8?t.parentNode:t),new Ru(e)};Me.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=sf(e),t=t===null?null:t.stateNode,t};Me.flushSync=function(t){return on(t)};Me.hydrate=function(t,e,n){if(!Vl(e))throw Error(S(200));return $l(null,t,e,!0,n)};Me.hydrateRoot=function(t,e,n){if(!zu(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",o=Bd;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Fd(e,null,t,1,n??null,i,!1,l,o),t[mt]=e.current,Wr(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jl(e)};Me.render=function(t,e,n){if(!Vl(e))throw Error(S(200));return $l(null,t,e,!1,n)};Me.unmountComponentAtNode=function(t){if(!Vl(t))throw Error(S(40));return t._reactRootContainer?(on(function(){$l(null,null,t,!1,function(){t._reactRootContainer=null,t[mt]=null})}),!0):!1};Me.unstable_batchedUpdates=Lu;Me.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vl(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return $l(t,e,n,!1,r)};Me.version="18.3.1-next-f1338f8080-20240426";function jd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jd)}catch(t){console.error(t)}}jd(),Bc.exports=Me;var Ig=Bc.exports,ac=Ig;Oo.createRoot=ac.createRoot,Oo.hydrateRoot=ac.hydrateRoot;const Ng=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M2 2l11 11M1.5 2.5a1 1 0 110-2 1 1 0 010 2zm12 12a1 1 0 110-2 1 1 0 010 2z",stroke:"currentColor"})),Ag=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M13.5.5h-12a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1v-12a1 1 0 00-1-1z",stroke:"currentColor"})),Og=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M.5 7.5a7 7 0 1014 0 7 7 0 00-14 0z",stroke:"currentColor"})),Mg=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M.5.5l6 14 2-6 6-2-14-6z",stroke:"currentColor",strokeLinejoin:"round"})),Rg=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M13.5 3.5h.5v-.207l-.146-.147-.354.354zm-3-3l.354-.354L10.707 0H10.5v.5zm-7 4V4H3v.5h.5zm2 0H6V4h-.5v.5zm0 2V7H6v-.5h-.5zm-2 0H3V7h.5v-.5zm8-2h.5V4h-.5v.5zm0 2V7h.5v-.5h-.5zm-2 0H9V7h.5v-.5zm0-2V4H9v.5h.5zm-6 6V10H3v.5h.5zm2 0H6V10h-.5v.5zm0 2v.5H6v-.5h-.5zm-2 0H3v.5h.5v-.5zm6-2V10H9v.5h.5zm0 2H9v.5h.5v-.5zm2 0v.5h.5v-.5h-.5zm0-2h.5V10h-.5v.5zm1 3.5h-10v1h10v-1zM2 13.5v-12H1v12h1zm11-10v10h1v-10h-1zM2.5 1h8V0h-8v1zm7.646-.146l3 3 .708-.708-3-3-.708.708zM2.5 14a.5.5 0 01-.5-.5H1A1.5 1.5 0 002.5 15v-1zm10 1a1.5 1.5 0 001.5-1.5h-1a.5.5 0 01-.5.5v1zM2 1.5a.5.5 0 01.5-.5V0A1.5 1.5 0 001 1.5h1zM3.5 5h2V4h-2v1zM5 4.5v2h1v-2H5zM5.5 6h-2v1h2V6zM4 6.5v-2H3v2h1zm7-2v2h1v-2h-1zm.5 1.5h-2v1h2V6zm-1.5.5v-2H9v2h1zM9.5 5h2V4h-2v1zm-6 6h2v-1h-2v1zm1.5-.5v2h1v-2H5zm.5 1.5h-2v1h2v-1zm-1.5.5v-2H3v2h1zm5-2v2h1v-2H9zm.5 2.5h2v-1h-2v1zm2.5-.5v-2h-1v2h1zm-.5-2.5h-2v1h2v-1zm-6-4h4V5h-4v1zM4 6.5v4h1v-4H4zm6 0v4h1v-4h-1zM5.5 12h4v-1h-4v1z",fill:"currentColor"})),zg=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M4.5 4.5v-3a1 1 0 011-1h8a1 1 0 011 1v8a1 1 0 01-1 1h-3m-6-6h-3a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1v-3m-6-6V7m0-2.5H7m3.5 6H8m2.5 0V8M8 4.5h2.5V7m-6 1v2.5H7",stroke:"currentColor"})),Ug=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M13.5 3.5h.5v-.207l-.146-.147-.354.354zm-3-3l.354-.354L10.707 0H10.5v.5zm-8 6V6H2v.5h.5zm0 2H2V9h.5v-.5zm2 0H5V8h-.5v.5zm0 2v.5H5v-.5h-.5zm2-1H6v.207l.146.147L6.5 9.5zm1 1l-.354.354.354.353.354-.353L7.5 10.5zm1-1l.354.354L9 9.707V9.5h-.5zm2-3V6H10v.5h.5zm0 4H10v.5h.5v-.5zm2 0v.5h.5v-.5h-.5zM2 5V1.5H1V5h1zm11-1.5V5h1V3.5h-1zM2.5 1h8V0h-8v1zm7.646-.146l3 3 .708-.708-3-3-.708.708zM2 1.5a.5.5 0 01.5-.5V0A1.5 1.5 0 001 1.5h1zM1 12v1.5h1V12H1zm1.5 3h10v-1h-10v1zM14 13.5V12h-1v1.5h1zM12.5 15a1.5 1.5 0 001.5-1.5h-1a.5.5 0 01-.5.5v1zM1 13.5A1.5 1.5 0 002.5 15v-1a.5.5 0 01-.5-.5H1zM5 6H2.5v1H5V6zm-3 .5v2h1v-2H2zM2.5 9h2V8h-2v1zM4 8.5v2h1v-2H4zm.5 1.5H2v1h2.5v-1zM6 6v3.5h1V6H6zm.146 3.854l1 1 .708-.708-1-1-.708.708zm1.708 1l1-1-.708-.708-1 1 .708.708zM9 9.5V6H8v3.5h1zM13 6h-2.5v1H13V6zm-3 .5v4h1v-4h-1zm.5 4.5h2v-1h-2v1zm2.5-.5v-2h-1v2h1z",fill:"currentColor"})),Dg=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M7.5 12L0 4h15l-7.5 8z",fill:"currentColor"})),Fg=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M7.5 3l7.5 8H0l7.5-8z",fill:"currentColor"})),Bg=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M7.5 4.793L3.293 9h8.414L7.5 4.793z",fill:"currentColor"})),jg=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M7.5 10.207L11.707 6H3.293L7.5 10.207z",fill:"currentColor"})),Vg=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M6.5 2.499l-.354-.354-.353.354.353.353L6.5 2.5zm1-.5H7v1h.5v-1zM2 8.495v-.5H1v.5h1zM8.145.146l-1.999 2 .708.706L8.853.854 8.145.146zM6.146 2.852l2 1.999.707-.707-2-1.999-.707.707zM7.5 3C10.537 3 13 5.461 13 8.496h1A6.499 6.499 0 007.5 2v1zM13 8.495a5.499 5.499 0 01-5.5 5.496v1c3.589 0 6.5-2.909 6.5-6.496h-1zM7.5 13.99A5.499 5.499 0 012 8.495H1a6.499 6.499 0 006.5 6.496v-1z",fill:"currentColor"})),$g=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("path",{d:"M14 8.495v-.5h-1v.5h1zM7.5 2.999H8v-1h-.5v1zm1-.5l.353.353.354-.353-.354-.354-.353.354zM13 8.495a5.499 5.499 0 01-5.5 5.496v1c3.589 0 6.5-2.909 6.5-6.496h-1zM7.5 13.99A5.499 5.499 0 012 8.495H1a6.499 6.499 0 006.5 6.496v-1zM2 8.495a5.499 5.499 0 015.5-5.496v-1A6.499 6.499 0 001 8.495h1zM6.147.854l2 1.998.706-.707-2-1.999-.706.708zm2 1.291l-2 1.999.706.707 2-1.999-.706-.707z",fill:"currentColor"})),Hg=t=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},O.createElement("line",{className:"st0",x1:3.2,y1:12.1,x2:9,y2:1.6,strokeDasharray:"2, 1",stroke:"currentColor"}),O.createElement("polygon",{className:"st2",points:"2.4,12.4 1.8,13.4 13.2,13.4 13.2,12.4",fill:"currentColor"}));var xt=(t=>(t.Line="Line",t.Square="Square",t.Circle="Circle",t.Direction="Direction",t.VectorDocument="VectorDocument",t.LayersDifference="LayersDifference",t.AntiClockwise="AntiClockwise",t.Clockwise="Clockwise",t.Svg="Svg",t.Angle="Angle",t.SolidDown="SolidDown",t.SolidUp="SolidUp",t.SolidUpSmall="SolidUpSmall",t.SolidDownSmall="SolidDownSmall",t))(xt||{});const Wg={Line:Ng,Square:Ag,Circle:Og,Direction:Mg,VectorDocument:Rg,LayersDifference:zg,AntiClockwise:Vg,Clockwise:$g,Svg:Ug,Angle:Hg,SolidDown:Dg,SolidUp:Fg,SolidUpSmall:Bg,SolidDownSmall:jg},Vd=({name:t,className:e})=>{const n=Wg[t];return B.jsx("div",{className:"icon w-5"+(e?" "+e:""),children:B.jsx(n,{})})};var K=(t=>(t.Pencil="Pencil",t.Eraser="Eraser",t.Fill="Fill",t.Line="Line",t.Rectangle="Rectangle",t.Circle="Circle",t.Select="Select",t.Pan="Pan",t.Zoom="Zoom",t.Text="Text",t))(K||{});const Le=({label:t,title:e,icon:n,onClick:r,active:i=!1,className:l})=>B.jsx(B.Fragment,{children:B.jsxs("button",{className:"bg-gray-950 text-blue-700 font-semibold py-2 px-2 border border-blue-500 rounded w-10 h-10 flex flex-row justify-center items-center hover:bg-blue-500 hover:text-white hover:border-transparent  data-[active=true]:bg-blue-500 data-[active=true]:text-white data-[active=true]:border-transparent"+(l?" "+l:""),"data-active":i,onClick:r,title:e,children:[n&&B.jsx(Vd,{name:n}),t&&B.jsx("span",{children:t})]})}),Qg=({label:t,title:e,icon:n,className:r,children:i})=>{const[l,o]=O.useState(!1);return B.jsxs("div",{className:"flex flex-row gap-2 relative"+(r?" "+r:""),children:[B.jsx(Le,{icon:n,label:t,title:e,"data-active":l,onClick:()=>o(!l)}),B.jsx(Vd,{name:xt.SolidDownSmall,className:"-rotate-45 absolute -bottom-1 left-6 text-blue-700"}),l&&B.jsx("div",{className:"flex flex-row gap-1",onClick:()=>o(!1),children:i})]})},$d=!0,Gg=!1,Xi={CCW:-1,CW:1,NOT_ORIENTABLE:0},Yg=2*Math.PI,xl=1,Hd=0,Ze=2,qg=3,Kg=4,Xg=1,Zg=2,Uu=0,Mr=1,Dn=2;var El=Object.freeze({__proto__:null,BOUNDARY:Ze,CCW:$d,CONTAINS:qg,CW:Gg,END_VERTEX:Dn,INSIDE:xl,INTERLACE:Kg,NOT_VERTEX:Uu,ORIENTATION:Xi,OUTSIDE:Hd,OVERLAP_OPPOSITE:Zg,OVERLAP_SAME:Xg,PIx2:Yg,START_VERTEX:Mr});let rt=1e-6;function Wd(t){rt=t}function Qd(){return rt}const Jg=3;function Ts(t){return t<rt&&t>-rt}function sn(t,e){return t-e<rt&&t-e>-rt}function Gd(t,e){return t-e>rt}function bg(t,e){return t-e>-rt}function Yd(t,e){return t-e<-rt}function e0(t,e){return t-e<rt}var t0=Object.freeze({__proto__:null,DECIMALS:Jg,EQ:sn,EQ_0:Ts,GE:bg,GT:Gd,LE:e0,LT:Yd,getTolerance:Qd,setTolerance:Wd});let s={Utils:t0,Errors:void 0,Matrix:void 0,Planar_set:void 0,Point:void 0,Vector:void 0,Line:void 0,Circle:void 0,Segment:void 0,Arc:void 0,Box:void 0,Edge:void 0,Face:void 0,Ray:void 0,Ray_shooting:void 0,Multiline:void 0,Polygon:void 0,Distance:void 0,Inversion:void 0};for(let t in El)s[t]=El[t];Object.defineProperty(s,"DP_TOL",{get:function(){return Qd()},set:function(t){Wd(t)}});class G{static get ILLEGAL_PARAMETERS(){return new ReferenceError("Illegal Parameters")}static get ZERO_DIVISION(){return new Error("Zero division")}static get UNRESOLVED_BOUNDARY_CONFLICT(){return new Error("Unresolved boundary conflict in boolean operation")}static get INFINITE_LOOP(){return new Error("Infinite loop")}static get CANNOT_COMPLETE_BOOLEAN_OPERATION(){return new Error("Cannot complete boolean operation")}static get CANNOT_INVOKE_ABSTRACT_METHOD(){return new Error("Abstract method cannot be invoked")}static get OPERATION_IS_NOT_SUPPORTED(){return new Error("Operation is not supported")}static get UNSUPPORTED_SHAPE_TYPE(){return new Error("Unsupported shape type")}}s.Errors=G;class Du{constructor(e,n){this.first=e,this.last=n||this.first}[Symbol.iterator](){let e;return{next:()=>(e=e?e.next:this.first,{value:e,done:e===void 0})}}get size(){let e=0;for(let n of this)e++;return e}toArray(e=void 0,n=void 0){let r=[],i=e||this.first,l=n||this.last,o=i;if(o===void 0)return r;do r.push(o),o=o.next;while(o!==l.next);return r}append(e){return this.isEmpty()?this.first=e:(e.prev=this.last,this.last.next=e),this.last=e,this.last.next=void 0,this.first.prev=void 0,this}insert(e,n){if(this.isEmpty())this.first=e,this.last=e;else if(n==null)e.next=this.first,this.first.prev=e,this.first=e;else{let r=n.next;n.next=e,r&&(r.prev=e),e.prev=n,e.next=r,this.last===n&&(this.last=e)}return this.last.next=void 0,this.first.prev=void 0,this}remove(e){return e===this.first&&e===this.last?(this.first=void 0,this.last=void 0):(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this.first&&(this.first=e.next),e===this.last&&(this.last=e.prev)),this}isEmpty(){return this.first===void 0}static testInfiniteLoop(e){let n=e,r=e;do{if(n!=e&&n===r)throw G.INFINITE_LOOP;n=n.next,r=r.next.next}while(n!=e)}}const cc={stroke:"black"};class n0{constructor(e=cc){for(const n in e)this[n]=e[n];this.stroke=e.stroke??cc.stroke}toAttributesString(){return Object.keys(this).reduce((e,n)=>e+(this[n]!==void 0?this.toAttrString(n,this[n]):""),"")}toAttrString(e,n){const r=e==="className"?"class":this.convertCamelToKebabCase(e);return n===null?`${r} `:`${r}="${n.toString()}" `}convertCamelToKebabCase(e){return e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).join("-").toLowerCase()}}function fn(t){return new n0(t).toAttributesString()}function tr(t,e){let n=[],[r,i,l]=t.standard,[o,u,a]=e.standard,c=r*u-i*o,f=l*u-i*a,p=r*a-l*o;if(!s.Utils.EQ_0(c)){let m,v;i===0?(m=l/r,v=p/c):u===0?(m=a/o,v=p/c):r===0?(m=f/c,v=l/i):o===0?(m=f/c,v=a/u):(m=f/c,v=p/c),n.push(new s.Point(m,v))}return n}function dn(t,e){let n=[],r=e.pc.projectionOn(t),i=e.pc.distanceTo(r)[0];if(s.Utils.EQ(i,e.r))n.push(r);else if(s.Utils.LT(i,e.r)){let l=Math.sqrt(e.r*e.r-i*i),o,u;o=t.norm.rotate90CCW().multiply(l),u=r.translate(o),n.push(u),o=t.norm.rotate90CW().multiply(l),u=r.translate(o),n.push(u)}return n}function Gn(t,e){let n=[];for(let r of e.toSegments()){let i=ai(r,t);for(let l of i)nh(l,n)||n.push(l)}return n}function Hl(t,e){let n=[];if(Gn(t,e.box).length===0)return n;let r=new s.Circle(e.pc,e.r),i=dn(t,r);for(let l of i)l.on(e)&&n.push(l);return n}function ai(t,e){let n=[];if(t.ps.on(e)&&n.push(t.ps),t.pe.on(e)&&!t.isZeroLength()&&n.push(t.pe),n.length>0||t.isZeroLength()||t.ps.leftTo(e)&&t.pe.leftTo(e)||!t.ps.leftTo(e)&&!t.pe.leftTo(e))return n;let r=new s.Line(t.ps,t.pe);return tr(r,e)}function Wl(t,e){let n=[];if(t.box.not_intersect(e.box))return n;if(t.isZeroLength())return t.ps.on(e)&&n.push(t.ps),n;if(e.isZeroLength())return e.ps.on(t)&&n.push(e.ps),n;let r=new s.Line(t.ps,t.pe),i=new s.Line(e.ps,e.pe);if(r.incidentTo(i))t.ps.on(e)&&n.push(t.ps),t.pe.on(e)&&n.push(t.pe),e.ps.on(t)&&!e.ps.equalTo(t.ps)&&!e.ps.equalTo(t.pe)&&n.push(e.ps),e.pe.on(t)&&!e.pe.equalTo(t.ps)&&!e.pe.equalTo(t.pe)&&n.push(e.pe);else{let l=tr(r,i);l.length>0&&fc(l[0],t)&&fc(l[0],e)&&n.push(l[0])}return n}function fc(t,e){const n=e.box;return s.Utils.LE(t.x,n.xmax)&&s.Utils.GE(t.x,n.xmin)&&s.Utils.LE(t.y,n.ymax)&&s.Utils.GE(t.y,n.ymin)}function Ql(t,e){let n=[];if(t.box.not_intersect(e.box))return n;if(t.isZeroLength()){let[l,o]=t.ps.distanceTo(e.pc);return s.Utils.EQ(l,e.r)&&n.push(t.ps),n}let r=new s.Line(t.ps,t.pe),i=dn(r,e);for(let l of i)l.on(t)&&n.push(l);return n}function nr(t,e){let n=[];if(t.box.not_intersect(e.box))return n;if(t.isZeroLength())return t.ps.on(e)&&n.push(t.ps),n;let r=new s.Line(t.ps,t.pe),i=new s.Circle(e.pc,e.r),l=dn(r,i);for(let o of l)o.on(t)&&o.on(e)&&n.push(o);return n}function r0(t,e){let n=[];for(let r of e.toSegments()){let i=Wl(r,t);for(let l of i)n.push(l)}return n}function qd(t,e){let n=[];if(t.box.not_intersect(e.box))return n;let r=new s.Vector(t.pc,e.pc),i=t.r,l=e.r;if(s.Utils.EQ_0(i)||s.Utils.EQ_0(l))return n;if(s.Utils.EQ_0(r.x)&&s.Utils.EQ_0(r.y)&&s.Utils.EQ(i,l))return n.push(t.pc.translate(-i,0)),n;let o=t.pc.distanceTo(e.pc)[0];if(s.Utils.GT(o,i+l)||s.Utils.LT(o,Math.abs(i-l)))return n;r.x/=o,r.y/=o;let u;if(s.Utils.EQ(o,i+l)||s.Utils.EQ(o,Math.abs(i-l)))return u=t.pc.translate(i*r.x,i*r.y),n.push(u),n;let a=i*i/(2*o)-l*l/(2*o)+o/2,c=t.pc.translate(a*r.x,a*r.y),f=Math.sqrt(i*i-a*a);return u=c.translate(r.rotate90CCW().multiply(f)),n.push(u),u=c.translate(r.rotate90CW().multiply(f)),n.push(u),n}function i0(t,e){let n=[];for(let r of e.toSegments()){let i=Ql(r,t);for(let l of i)n.push(l)}return n}function Kd(t,e){let n=[];if(t.box.not_intersect(e.box))return n;if(t.pc.equalTo(e.pc)&&s.Utils.EQ(t.r,e.r)){let o;return o=t.start,o.on(e)&&n.push(o),o=t.end,o.on(e)&&n.push(o),o=e.start,o.on(t)&&n.push(o),o=e.end,o.on(t)&&n.push(o),n}let r=new s.Circle(t.pc,t.r),i=new s.Circle(e.pc,e.r),l=r.intersect(i);for(let o of l)o.on(t)&&o.on(e)&&n.push(o);return n}function Fu(t,e){let n=[];if(t.box.not_intersect(e.box))return n;if(e.pc.equalTo(t.pc)&&s.Utils.EQ(e.r,t.r))return n.push(t.start),n.push(t.end),n;let r=e,i=new s.Circle(t.pc,t.r),l=qd(r,i);for(let o of l)o.on(t)&&n.push(o);return n}function l0(t,e){let n=[];for(let r of e.toSegments()){let i=nr(r,t);for(let l of i)n.push(l)}return n}function Xd(t,e){return t.isSegment?Wl(t.shape,e):nr(e,t.shape)}function Zd(t,e){return t.isSegment?nr(t.shape,e):Kd(t.shape,e)}function Jd(t,e){return t.isSegment?ai(t.shape,e):Hl(e,t.shape)}function o0(t,e){return t.isSegment?Vu(e,t.shape):$u(e,t.shape)}function s0(t,e){return t.isSegment?Ql(t.shape,e):Fu(t.shape,e)}function Bu(t,e){let n=[];for(let r of e.edges)for(let i of Xd(r,t))n.push(i);return n}function ju(t,e){let n=[];for(let r of e.edges)for(let i of Zd(r,t))n.push(i);return n}function ci(t,e){let n=[];if(e.isEmpty())return n;for(let r of e.edges)for(let i of Jd(r,t))nh(i,n)||n.push(i);return t.sortPoints(n)}function bd(t,e){let n=[];if(e.isEmpty())return n;for(let r of e.edges)for(let i of s0(r,t))n.push(i);return n}function eh(t,e){return t.isSegment?Xd(e,t.shape):t.isArc?Zd(e,t.shape):t.isLine?Jd(e,t.shape):t.isRay?o0(e,t.shape):[]}function th(t,e){let n=[];if(e.isEmpty()||t.shape.box.not_intersect(e.box))return n;let r=e.edges.search(t.shape.box);for(let i of r)n=[...n,...eh(t,i)];return n}function u0(t,e){let n=[];if(e.isEmpty()||t.size===0)return n;for(let r of t)n=[...n,...th(r,e)];return n}function a0(t,e){let n=[];if(t.isEmpty()||e.isEmpty()||t.box.not_intersect(e.box))return n;for(let r of t.edges)n=[...n,...th(r,e)];return n}function c0(t,e){return t instanceof s.Line?ci(t,e):t instanceof s.Segment?Bu(t,e):t instanceof s.Arc?ju(t,e):[]}function nh(t,e){return e.some(n=>n.equalTo(t))}function Ft(t){return new s.Line(t.start,t.norm)}function Vu(t,e){return ai(e,Ft(t)).filter(n=>t.contains(n))}function $u(t,e){return Hl(Ft(t),e).filter(n=>t.contains(n))}function rh(t,e){return dn(Ft(t),e).filter(n=>t.contains(n))}function f0(t,e){return Gn(Ft(t),e).filter(n=>t.contains(n))}function ih(t,e){return tr(Ft(t),e).filter(n=>t.contains(n))}function d0(t,e){return tr(Ft(t),Ft(e)).filter(n=>t.contains(n)).filter(n=>e.contains(n))}function lh(t,e){return ci(Ft(t),e).filter(n=>t.contains(n))}function oh(t,e){if(t.intersect&&t.intersect instanceof Function)return t.intersect(e);throw G.UNSUPPORTED_SHAPE_TYPE}function fi(t,e){let n=[];for(let r of e)n=[...n,...oh(r,r.shape)];return n}function h0(t,e){let n=[];for(let r of t)for(let i of e)n=[...n,...oh(r,i)];return n}let hn=class xr extends Du{constructor(...e){if(super(),this.isInfinite=!1,e.length===1&&e[0]instanceof Array&&e[0].length>0){let n=!1;const r=e[0],i=r.length,l=a=>a instanceof s.Segment||a instanceof s.Arc||a instanceof s.Ray||a instanceof s.Line,o=a=>a instanceof s.Segment||a instanceof s.Arc||a instanceof s.Ray,u=a=>a instanceof s.Segment||a instanceof s.Arc;if(n=i===1&&l(r[0])||i>1&&o(r[0])&&o(r[i-1])&&r.slice(1,i-1).every(u),n){this.isInfinite=r.some(a=>a instanceof s.Ray||a instanceof s.Line);for(let a of r){let c=new s.Edge(a);this.append(c)}this.setArcLength()}else throw s.Errors.ILLEGAL_PARAMETERS}}get edges(){return[...this]}get box(){return this.edges.reduce((e,n)=>e.merge(n.box),new s.Box)}get vertices(){let e=this.edges.map(n=>n.start);return e.push(this.last.end),e}get length(){if(this.isEmpty())return 0;if(this.isInfinite)return Number.POSITIVE_INFINITY;let e=0;for(let n of this)e+=n.length;return e}clone(){return new xr(this.toShapes())}setArcLength(){for(let e of this)this.setOneEdgeArcLength(e)}setOneEdgeArcLength(e){e===this.first?e.arc_length=0:e.arc_length=e.prev.arc_length+e.prev.length}pointAtLength(e){if(e>this.length||e<0||this.isInfinite)return null;let n=null;for(let r of this)if(e>=r.arc_length&&(r===this.last||e<r.next.arc_length)){n=r.pointAtLength(e-r.arc_length);break}return n}addVertex(e,n){let r=n.shape.split(e);if(r[0]===null)return n.prev;if(r[1]===null)return n;let i=new s.Edge(r[0]),l=n.prev;return this.insert(i,l),n.shape=r[1],i}getChain(e,n){let r=[];for(let i=e;i!==n.next;i=i.next)r.push(i);return r}split(e){for(let n of e){let r=this.findEdgeByPoint(n);this.addVertex(n,r)}return this}findEdgeByPoint(e){let n;for(let r of this)if(r.shape.contains(e)){n=r;break}return n}distanceTo(e){if(e instanceof Point){const[n,r]=s.Distance.shape2multiline(e,this);return[n,r.reverse()]}if(e instanceof s.Line){const[n,r]=s.Distance.shape2multiline(e,this);return[n,r.reverse()]}if(e instanceof s.Circle){const[n,r]=s.Distance.shape2multiline(e,this);return[n,r.reverse()]}if(e instanceof s.Segment){const[n,r]=s.Distance.shape2multiline(e,this);return[n,r.reverse()]}if(e instanceof s.Arc){const[n,r]=s.Distance.shape2multiline(e,this);return[n,r.reverse()]}if(e instanceof s.Multiline)return s.Distance.multiline2multiline(this,e);throw s.Errors.UNSUPPORTED_SHAPE_TYPE}intersect(e){return e instanceof s.Multiline?h0(this,e):fi(e,this)}contains(e){if(e instanceof s.Point)return this.edges.some(n=>n.shape.contains(e));throw s.Errors.UNSUPPORTED_SHAPE_TYPE}translate(e){return new xr(this.edges.map(n=>n.shape.translate(e)))}rotate(e=0,n=new s.Point){return new xr(this.edges.map(r=>r.shape.rotate(e,n)))}transform(e=new s.Matrix){return new xr(this.edges.map(n=>n.shape.transform(e)))}toShapes(){return this.edges.map(e=>e.shape.clone())}toJSON(){return this.edges.map(e=>e.toJSON())}svgPoints(){return this.vertices.map(e=>`${e.x},${e.y}`).join(" ")}dpath(){let e=`M${this.first.start.x},${this.first.start.y}`;for(let n of this)e+=n.svg();return e}svg(e={}){let n=`
<path ${fn({fill:"none",...e})} d="`;n+=`
M${this.first.start.x},${this.first.start.y}`;for(let r of this)n+=r.svg();return n+=`" >
</path>`,n}};s.Multiline=hn;const p0=(...t)=>new s.Multiline(...t);s.multiline=p0;function Yn(t,e,n){let r=n.length,i=t.shape.split(e);if(i.length===0)return;let l=0;i[0]===null?l=0:i[1]===null?l=t.shape.length:l=i[0].length;let o=Uu;sn(l,0)&&(o|=Mr),sn(l,t.shape.length)&&(o|=Dn);let u;l===1/0?u=i[0].coord(e):u=o&Dn&&t.next&&t.next.arc_length===0?0:t.arc_length+l,n.push({id:r,pt:e,arc_length:u,edge_before:t,edge_after:void 0,face:t.face,is_vertex:o})}function br(t){t.int_points1_sorted=Et(t.int_points1),t.int_points2_sorted=Et(t.int_points2)}function Et(t){let e=new Map,n=0;for(let i of t)e.has(i.face)||(e.set(i.face,n),n++);for(let i of t)i.faceId=e.get(i.face);return t.slice().sort(m0)}function m0(t,e){return t.faceId<e.faceId?-1:t.faceId>e.faceId?1:t.arc_length<e.arc_length?-1:t.arc_length>e.arc_length?1:0}function Hu(t){if(t.int_points1.length<2)return;let e=!1,n,r,i,l;for(let o=0;o<t.int_points1_sorted.length;o++)if(t.int_points1_sorted[o].id!==-1){n=t.int_points1_sorted[o],r=t.int_points2[n.id];for(let u=o+1;u<t.int_points1_sorted.length&&(i=t.int_points1_sorted[u],!!sn(i.arc_length,n.arc_length));u++)i.id!==-1&&(l=t.int_points2[i.id],l.id!==-1&&i.edge_before===n.edge_before&&i.edge_after===n.edge_after&&l.edge_before===r.edge_before&&l.edge_after===r.edge_after&&(i.id=-1,l.id=-1,e=!0))}r=t.int_points2_sorted[0],n=t.int_points1[r.id];for(let o=1;o<t.int_points2_sorted.length;o++){let u=t.int_points2_sorted[o];if(u.id===-1)continue;if(r.id===-1||!sn(u.arc_length,r.arc_length)){r=u,n=t.int_points1[r.id];continue}let a=t.int_points1[u.id];a.edge_before===n.edge_before&&a.edge_after===n.edge_after&&u.edge_before===r.edge_before&&u.edge_after===r.edge_after&&(a.id=-1,u.id=-1,e=!0)}e&&(t.int_points1=t.int_points1.filter(o=>o.id>=0),t.int_points2=t.int_points2.filter(o=>o.id>=0),t.int_points1.forEach((o,u)=>o.id=u),t.int_points2.forEach((o,u)=>o.id=u))}function ks(t){for(let e of t)e.edge_before&&(e.edge_before.bvStart=void 0,e.edge_before.bvEnd=void 0,e.edge_before.bv=void 0,e.edge_before.overlap=void 0),e.edge_after&&(e.edge_after.bvStart=void 0,e.edge_after.bvEnd=void 0,e.edge_after.bv=void 0,e.edge_after.overlap=void 0);for(let e of t)e.edge_before&&(e.edge_before.bvEnd=Ze),e.edge_after&&(e.edge_after.bvStart=Ze)}function Cs(t,e){for(let n of t)n.edge_before&&n.edge_before.setInclusion(e),n.edge_after&&n.edge_after.setInclusion(e)}function g0(t){let e,n,r,i=t.int_points1.length;for(let l=0;l<i;l++){let o=t.int_points1_sorted[l];o.face!==e&&(n=l,e=o.face);let u=l,a=qn(t.int_points1_sorted,l,e),c;u+a<i&&t.int_points1_sorted[u+a].face===e?c=u+a:c=n;let f=qn(t.int_points1_sorted,c,e);r=null;for(let g=c;g<c+f;g++){let d=t.int_points1_sorted[g];if(d.face===e&&t.int_points2[d.id].face===t.int_points2[o.id].face){r=d;break}}if(r===null)continue;let p=o.edge_after,m=r.edge_before;if(!(p.bv===Ze&&m.bv===Ze)||p!==m)continue;let v=t.int_points2[o.id],w=t.int_points2[r.id],_=v.edge_after,I=w.edge_before;_.bv===Ze&&I.bv===Ze&&_===I||(v=t.int_points2[r.id],w=t.int_points2[o.id],_=v.edge_after,I=w.edge_before),_.bv===Ze&&I.bv===Ze&&_===I&&p.setOverlap(_)}}function qn(t,e,n){let r,i,l=1;if(t.length===1)return 1;r=t[e];for(let o=e+1;o<t.length&&!(r.face!==n||(i=t[o],!(i.pt.equalTo(r.pt)&&i.edge_before===r.edge_before&&i.edge_after===r.edge_after)));o++)l++;return l}function Kn(t,e){if(e){for(let n of e){let r=n.edge_before;if(n.is_vertex=Uu,r.shape.start&&r.shape.start.equalTo(n.pt)&&(n.is_vertex|=Mr),r.shape.end&&r.shape.end.equalTo(n.pt)&&(n.is_vertex|=Dn),n.is_vertex&Mr){n.edge_before=r.prev,r.prev&&(n.is_vertex=Dn);continue}if(n.is_vertex&Dn)continue;let i=t.addVertex(n.pt,r);n.edge_before=i}for(let n of e)n.edge_before?n.edge_after=n.edge_before.next:t instanceof hn&&n.is_vertex&Mr&&(n.edge_after=t.first)}}function dc(t,e,n){const r=t.edge_before,i=e.edge_after,l=n.length;r.next=n[0],n[0].prev=r,n[l-1].next=i,i.prev=n[l-1]}const{INSIDE:be,OUTSIDE:et,BOUNDARY:oe,OVERLAP_SAME:v0,OVERLAP_OPPOSITE:y0}=El,{NOT_VERTEX:Qy,START_VERTEX:hc,END_VERTEX:pc}=El,Gl=1,di=2,un=3;function _0(t,e){let[n,r]=hi(t,e,Gl,!0);return n}function Ls(t,e){let r=e.clone().reverse(),[i,l]=hi(t,r,un,!0);return i}function sh(t,e){let[n,r]=hi(t,e,di,!0);return n}function uh(t,e){let[n,r]=hi(t,e,di,!1),i=[];for(let o of n.faces)i=[...i,...[...o.edges].map(u=>u.shape)];let l=[];for(let o of r.faces)l=[...l,...[...o.edges].map(u=>u.shape)];return[i,l]}function Is(t,e){let[n,r]=hi(t,e,un,!1),i=[];for(let l of n.faces)i=[...i,...[...l.edges].map(o=>o.shape)];return i}function ah(t,e){let n=t.clone(),r=e.clone(),i=ch(n,r);br(i),Kn(n,i.int_points1_sorted),Kn(r,i.int_points2_sorted),Hu(i),br(i);let l=i.int_points1_sorted.map(u=>u.pt),o=i.int_points2_sorted.map(u=>u.pt);return[l,o]}function w0(t,e,n,r){let i=mc(t,n.int_points1),l=mc(e,n.int_points2);for(gc(i,e),gc(l,t),ks(n.int_points1),ks(n.int_points2),Cs(n.int_points1,e),Cs(n.int_points2,t);x0(t,e,n.int_points1,n.int_points1_sorted,n.int_points2,n););g0(n),Ns(t,r,n.int_points1_sorted,!0),Ns(e,r,n.int_points2_sorted,!1),vc(t,i,r,!0),vc(e,l,r,!1)}function S0(t,e,n,r){E0(t,e,r,n.int_points2),P0(t,e,n),As(t,n.int_points1),As(e,n.int_points2),Os(t,n.int_points1,n.int_points2),Os(t,n.int_points2,n.int_points1)}function hi(t,e,n,r){let i=t.clone(),l=e.clone(),o=ch(i,l);return br(o),Kn(i,o.int_points1_sorted),Kn(l,o.int_points2_sorted),Hu(o),br(o),w0(i,l,o,n),r&&S0(i,l,o,n),[i,l]}function ch(t,e){let n={int_points1:[],int_points2:[]};for(let r of t.edges){let i=e.edges.search(r.box);for(let l of i){let o=r.shape.intersect(l.shape);for(let u of o)Yn(r,u,n.int_points1),Yn(l,u,n.int_points2)}}return n}function mc(t,e){let n=[];for(let r of t.faces)e.find(i=>i.face===r)||n.push(r);return n}function gc(t,e){for(let n of t)n.first.bv=n.first.bvStart=n.first.bvEnd=void 0,n.first.setInclusion(e)}function x0(t,e,n,r,i,l){let o,u,a,c=r.length,f=!1;for(let p=0;p<c;p++){let m=r[p];m.face!==o&&(u=p,o=m.face);let v=p,w=qn(r,p,o),_;v+w<c&&r[v+w].face===o?_=v+w:_=u;let I=qn(r,_,o);a=null;for(let h=_;h<_+I;h++){let y=r[h];if(y.face===o&&i[y.id].face===i[m.id].face){a=y;break}}if(a===null)continue;let g=m.edge_after,d=a.edge_before;if(g.bv===oe&&d.bv!=oe){g.bv=d.bv;continue}if(g.bv!=oe&&d.bv===oe){d.bv=g.bv;continue}if(g.bv===oe&&d.bv===oe&&g!=d||g.bv===be&&d.bv===et||g.bv===et&&d.bv===be){let h=g.next;for(;h!=d;)h.bvStart=void 0,h.bvEnd=void 0,h.bv=void 0,h.setInclusion(e),h=h.next}if(g.bv===oe&&d.bv===oe&&g!=d){let h=g.next,y;for(;h!=d;){if(h.bv!=oe){if(y===void 0)y=h.bv;else if(h.bv!=y)throw G.UNRESOLVED_BOUNDARY_CONFLICT}h=h.next}y!=null&&(g.bv=y,d.bv=y);continue}if(g.bv===be&&d.bv===et||g.bv===et&&d.bv===be){let h=g;for(;h!=d;){if(h.bvStart===g.bv&&h.bvEnd===d.bv){let[y,x]=h.shape.distanceTo(e);if(y<10*s.DP_TOL){Yn(h,x.ps,n);let P=n[n.length-1];if(P.is_vertex&hc)P.edge_after=h,P.edge_before=h.prev,h.bvStart=oe,h.bv=void 0,h.setInclusion(e);else if(P.is_vertex&pc)P.edge_after=h.next,h.bvEnd=oe,h.bv=void 0,h.setInclusion(e);else{let D=e.addVertex(P.pt,h);P.edge_before=D,P.edge_after=D.next,D.setInclusion(e),D.next.bvStart=oe,D.next.bvEnd=void 0,D.next.bv=void 0,D.next.setInclusion(e)}let k=e.findEdgeByPoint(x.pe);Yn(k,x.pe,i);let L=i[i.length-1];if(L.is_vertex&hc)L.edge_after=k,L.edge_before=k.prev;else if(L.is_vertex&pc)L.edge_after=k.next;else{let D=i.find(ke=>ke.edge_after===k),N=e.addVertex(L.pt,k);L.edge_before=N,L.edge_after=N.next,D&&(D.edge_after=N),N.bvStart=void 0,N.bvEnd=oe,N.bv=void 0,N.setInclusion(t),N.next.bvStart=oe,N.next.bvEnd=void 0,N.next.bv=void 0,N.next.setInclusion(t)}br(l),f=!0;break}}h=h.next}if(f)break;throw G.UNRESOLVED_BOUNDARY_CONFLICT}}return f}function Ns(t,e,n,r){if(!n)return;let i,l,o,u;for(let a=0;a<n.length;a++){if(o=n[a],o.face!==i&&(l=a,i=o.face),i.isEmpty())continue;let c=a,f=qn(n,a,i),p;c+f<n.length&&n[c+f].face===o.face?p=c+f:p=l,u=n[p];let m=p,v=qn(n,m,i),w=o.edge_after,_=u.edge_before;if(w.bv===be&&_.bv===be&&e===Gl||w.bv===et&&_.bv===et&&e===di||(w.bv===et||_.bv===et)&&e===un&&!r||(w.bv===be||_.bv===be)&&e===un&&r||w.bv===oe&&_.bv===oe&&w.overlap&v0&&r||w.bv===oe&&_.bv===oe&&w.overlap&y0){t.removeChain(i,w,_);for(let I=c;I<c+f;I++)n[I].edge_after=void 0;for(let I=m;I<m+v;I++)n[I].edge_before=void 0}a+=f-1}}function E0(t,e,n,r){for(let i of e.faces){for(let l of i)t.edges.add(l);r.find(l=>l.face===i)===void 0&&t.addFace(i.first,i.last)}}function P0(t,e,n){if(n.int_points1.length!==0)for(let r=0;r<n.int_points1.length;r++){let i=n.int_points1[r],l=n.int_points2[r];if(i.edge_before!==void 0&&i.edge_after===void 0&&l.edge_before===void 0&&l.edge_after!==void 0&&(i.edge_before.next=l.edge_after,l.edge_after.prev=i.edge_before,i.edge_after=l.edge_after,l.edge_before=i.edge_before),l.edge_before!==void 0&&l.edge_after===void 0&&i.edge_before===void 0&&i.edge_after!==void 0&&(l.edge_before.next=i.edge_after,i.edge_after.prev=l.edge_before,l.edge_after=i.edge_after,i.edge_before=l.edge_before),i.edge_before!==void 0&&i.edge_after===void 0)for(let o of n.int_points1_sorted)o!==i&&o.edge_before===void 0&&o.edge_after!==void 0&&o.pt.equalTo(i.pt)&&(i.edge_before.next=o.edge_after,o.edge_after.prev=i.edge_before,i.edge_after=o.edge_after,o.edge_before=i.edge_before);if(l.edge_before!==void 0&&l.edge_after===void 0)for(let o of n.int_points2_sorted)o!==l&&o.edge_before===void 0&&o.edge_after!==void 0&&o.pt.equalTo(l.pt)&&(l.edge_before.next=o.edge_after,o.edge_after.prev=l.edge_before,l.edge_after=o.edge_after,o.edge_before=l.edge_before)}}function As(t,e){for(let n of e)t.faces.delete(n.face),n.face=void 0,n.edge_before&&(n.edge_before.face=void 0),n.edge_after&&(n.edge_after.face=void 0)}function Os(t,e,n){for(let r of e){if(r.edge_before===void 0||r.edge_after===void 0||r.face||r.edge_after.face||r.edge_before.face)continue;let i=r.edge_after,l=r.edge_before;try{Du.testInfiniteLoop(i)}catch{throw G.CANNOT_COMPLETE_BOOLEAN_OPERATION}let o=t.addFace(i,l);for(let u of e)u.edge_before&&u.edge_after&&u.edge_before.face===o&&u.edge_after.face===o&&(u.face=o);for(let u of n)u.edge_before&&u.edge_after&&u.edge_before.face===o&&u.edge_after.face===o&&(u.face=o)}}function vc(t,e,n,r){for(let i of e){let l=i.first.bv;(n===Gl&&l===be||n===un&&l===be&&r||n===un&&l===et&&!r||n===di&&l===et)&&t.deleteFace(i)}}var T0=Object.freeze({__proto__:null,BOOLEAN_INTERSECT:di,BOOLEAN_SUBTRACT:un,BOOLEAN_UNION:Gl,calculateIntersections:ah,innerClip:uh,intersect:sh,outerClip:Is,removeNotRelevantChains:Ns,removeOldFaces:As,restoreFaces:Os,subtract:Ls,unify:_0});const k0=RegExp("T.F..FFF.|T.F...F.."),C0=RegExp("T........|.T.......|...T.....|....T...."),L0=RegExp("FT.......|F..T.....|F...T...."),I0=RegExp("T.F..F..."),N0=RegExp("T.F..F...|.TF..F...|..FT.F...|..F.TF...");class rr{constructor(){this.m=new Array(9).fill(void 0)}get I2I(){return this.m[0]}set I2I(e){this.m[0]=e}get I2B(){return this.m[1]}set I2B(e){this.m[1]=e}get I2E(){return this.m[2]}set I2E(e){this.m[2]=e}get B2I(){return this.m[3]}set B2I(e){this.m[3]=e}get B2B(){return this.m[4]}set B2B(e){this.m[4]=e}get B2E(){return this.m[5]}set B2E(e){this.m[5]=e}get E2I(){return this.m[6]}set E2I(e){this.m[6]=e}get E2B(){return this.m[7]}set E2B(e){this.m[7]=e}get E2E(){return this.m[8]}set E2E(e){this.m[8]=e}toString(){return this.m.map(e=>e instanceof Array&&e.length>0?"T":e instanceof Array&&e.length===0?"F":"*").join("")}equal(){return k0.test(this.toString())}intersect(){return C0.test(this.toString())}touch(){return L0.test(this.toString())}inside(){return I0.test(this.toString())}covered(){return N0.test(this.toString())}}function Rr(t,e){let n,r=new s.Ray(e),i=new s.Line(r.pt,r.norm);const l=new s.Box(r.box.xmin-s.DP_TOL,r.box.ymin-s.DP_TOL,r.box.xmax,r.box.ymax+s.DP_TOL);if(t.box.not_intersect(l))return s.OUTSIDE;let o=t.edges.search(l);if(o.length===0)return s.OUTSIDE;for(let f of o)if(f.shape.contains(e))return s.BOUNDARY;let u=[...t.faces],a=[];for(let f of o)for(let p of r.intersect(f.shape)){if(p.equalTo(e))return s.BOUNDARY;a.push({pt:p,edge:f,face_index:u.indexOf(f.face)})}a.sort((f,p)=>Yd(f.pt.x,p.pt.x)?-1:Gd(f.pt.x,p.pt.x)?1:f.face_index<p.face_index?-1:f.face_index>p.face_index?1:f.edge.arc_length<p.edge.arc_length?-1:f.edge.arc_length>p.edge.arc_length?1:0);let c=0;for(let f=0;f<a.length;f++){let p=a[f];if(p.pt.equalTo(p.edge.shape.start)){if(f>0&&p.pt.equalTo(a[f-1].pt)&&p.face_index===a[f-1].face_index&&p.edge.prev===a[f-1].edge)continue;let m=p.edge.prev;for(;Ts(m.length);)m=m.prev;let v=m.shape.tangentInEnd(),w=p.pt.translate(v),_=p.edge.shape.tangentInStart(),I=p.pt.translate(_),g=w.leftTo(i),d=I.leftTo(i);(g&&!d||!g&&d)&&c++}else if(p.pt.equalTo(p.edge.shape.end)){if(f>0&&p.pt.equalTo(a[f-1].pt)&&p.face_index===a[f-1].face_index&&p.edge.next===a[f-1].edge)continue;let m=p.edge.next;for(;Ts(m.length);)m=m.next;let v=m.shape.tangentInStart(),w=p.pt.translate(v),_=p.edge.shape.tangentInEnd(),I=p.pt.translate(_),g=w.leftTo(i),d=I.leftTo(i);(g&&!d||!g&&d)&&c++}else if(p.edge.shape instanceof s.Segment)c++;else{let m=p.edge.shape.box;sn(p.pt.y,m.ymin)||sn(p.pt.y,m.ymax)||c++}}return n=c%2===1?xl:Hd,n}function A0(t,e){return ir(t,e).equal()}function fh(t,e){return ir(t,e).intersect()}function O0(t,e){return ir(t,e).touch()}function M0(t,e){return!fh(t,e)}function dh(t,e){return ir(t,e).inside()}function hh(t,e){return ir(t,e).covered()}function R0(t,e){return dh(e,t)}function ph(t,e){return hh(e,t)}function ir(t,e){if(t instanceof s.Line&&e instanceof s.Line)return z0(t,e);if(t instanceof s.Line&&e instanceof s.Circle)return U0(t,e);if(t instanceof s.Line&&e instanceof s.Box)return D0(t,e);if(t instanceof s.Line&&e instanceof s.Polygon)return F0(t,e);if((t instanceof s.Segment||t instanceof s.Arc)&&e instanceof s.Polygon)return yc(t,e);if((t instanceof s.Segment||t instanceof s.Arc)&&(e instanceof s.Circle||e instanceof s.Box))return yc(t,new s.Polygon(e));if(t instanceof s.Polygon&&e instanceof s.Polygon)return Ri(t,e);if((t instanceof s.Circle||t instanceof s.Box)&&(e instanceof s.Circle||e instanceof s.Box))return Ri(new s.Polygon(t),new s.Polygon(e));if((t instanceof s.Circle||t instanceof s.Box)&&e instanceof s.Polygon)return Ri(new s.Polygon(t),e);if(t instanceof s.Polygon&&(e instanceof s.Circle||e instanceof s.Box))return Ri(t,new s.Polygon(e))}function z0(t,e){let n=new rr,r=tr(t,e);return r.length===0?t.contains(e.pt)&&e.contains(t.pt)?(n.I2I=[t],n.I2E=[],n.E2I=[]):(n.I2I=[],n.I2E=[t],n.E2I=[e]):(n.I2I=r,n.I2E=t.split(r),n.E2I=e.split(r)),n}function U0(t,e){let n=new rr,r=dn(t,e);if(r.length===0)n.I2I=[],n.I2B=[],n.I2E=[t],n.E2I=[e];else if(r.length===1)n.I2I=[],n.I2B=r,n.I2E=t.split(r),n.E2I=[e];else{let i=new hn([t]),l=t.sortPoints(r);i.split(l);let o=i.toShapes();n.I2I=[o[1]],n.I2B=l,n.I2E=[o[0],o[2]],n.E2I=new s.Polygon([e.toArc()]).cutWithLine(t)}return n}function D0(t,e){let n=new rr,r=Gn(t,e);if(r.length===0)n.I2I=[],n.I2B=[],n.I2E=[t],n.E2I=[e];else if(r.length===1)n.I2I=[],n.I2B=r,n.I2E=t.split(r),n.E2I=[e];else{let i=new hn([t]),l=t.sortPoints(r);i.split(l);let o=i.toShapes();e.toSegments().some(u=>u.contains(r[0])&&u.contains(r[1]))?(n.I2I=[],n.I2B=[o[1]],n.I2E=[o[0],o[2]],n.E2I=[e]):(n.I2I=[o[1]],n.I2B=l,n.I2E=[o[0],o[2]],n.E2I=new s.Polygon(e.toSegments()).cutWithLine(t))}return n}function F0(t,e){let n=new rr,r=ci(t,e),i=new hn([t]),l=r.length>0?r.slice():t.sortPoints(r);return i.split(l),[...i].forEach(o=>o.setInclusion(e)),n.I2I=[...i].filter(o=>o.bv===s.INSIDE).map(o=>o.shape),n.I2B=[...i].slice(1).map(o=>o.bv===s.BOUNDARY?o.shape:o.shape.start),n.I2E=[...i].filter(o=>o.bv===s.OUTSIDE).map(o=>o.shape),n.E2I=e.cutWithLine(t),n}function yc(t,e){let n=new rr,r=c0(t,e),i=r.length>0?r.slice():t.sortPoints(r),l=new hn([t]);l.split(i),[...l].forEach(o=>o.setInclusion(e)),n.I2I=[...l].filter(o=>o.bv===s.INSIDE).map(o=>o.shape),n.I2B=[...l].slice(1).map(o=>o.bv===s.BOUNDARY?o.shape:o.shape.start),n.I2E=[...l].filter(o=>o.bv===s.OUTSIDE).map(o=>o.shape),n.B2I=[],n.B2B=[],n.B2E=[];for(let o of[t.start,t.end])switch(Rr(e,o)){case s.INSIDE:n.B2I.push(o);break;case s.BOUNDARY:n.B2B.push(o);break;case s.OUTSIDE:n.B2E.push(o);break}return n}function Ri(t,e){let n=new rr,[r,i]=ah(t,e),l=sh(t,e),o=Ls(t,e),u=Ls(e,t),[a,c]=uh(t,e),f=Is(t,e),p=Is(e,t);return n.I2I=l.isEmpty()?[]:[l],n.I2B=c,n.I2E=o.isEmpty()?[]:[o],n.B2I=a,n.B2B=r,n.B2E=f,n.E2I=u.isEmpty()?[]:[u],n.E2B=p,n}var mh=Object.freeze({__proto__:null,contain:R0,cover:ph,covered:hh,disjoint:M0,equal:A0,inside:dh,intersect:fh,relate:ir,touch:O0});class Qe{constructor(e=1,n=0,r=0,i=1,l=0,o=0){this.a=e,this.b=n,this.c=r,this.d=i,this.tx=l,this.ty=o}clone(){return new Qe(this.a,this.b,this.c,this.d,this.tx,this.ty)}transform(e){return[e[0]*this.a+e[1]*this.c+this.tx,e[0]*this.b+e[1]*this.d+this.ty]}multiply(e){return new Qe(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.tx+this.c*e.ty+this.tx,this.b*e.tx+this.d*e.ty+this.ty)}translate(...e){let n,r;if(e.length==1&&!isNaN(e[0].x)&&!isNaN(e[0].y))n=e[0].x,r=e[0].y;else if(e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")n=e[0],r=e[1];else throw G.ILLEGAL_PARAMETERS;return this.multiply(new Qe(1,0,0,1,n,r))}rotate(e,n=0,r=0){let i=Math.cos(e),l=Math.sin(e);return this.translate(n,r).multiply(new Qe(i,l,-l,i,0,0)).translate(-n,-r)}scale(e,n){return this.multiply(new Qe(e,0,0,n,0,0))}equalTo(e){return!(!s.Utils.EQ(this.tx,e.tx)||!s.Utils.EQ(this.ty,e.ty)||!s.Utils.EQ(this.a,e.a)||!s.Utils.EQ(this.b,e.b)||!s.Utils.EQ(this.c,e.c)||!s.Utils.EQ(this.d,e.d))}}s.Matrix=Qe;const B0=(...t)=>new s.Matrix(...t);s.matrix=B0;const j0=class Ms{constructor(e,n){this.low=e,this.high=n}clone(){return new Ms(this.low,this.high)}get max(){return this.clone()}less_than(e){return this.low<e.low||this.low===e.low&&this.high<e.high}equal_to(e){return this.low===e.low&&this.high===e.high}intersect(e){return!this.not_intersect(e)}not_intersect(e){return this.high<e.low||e.high<this.low}merge(e){return new Ms(this.low===void 0?e.low:this.low<e.low?this.low:e.low,this.high===void 0?e.high:this.high>e.high?this.high:e.high)}output(){return[this.low,this.high]}static comparable_max(e,n){return e.merge(n)}static comparable_less_than(e,n){return e<n}},ae=0,F=1;class Gt{constructor(e=void 0,n=void 0,r=null,i=null,l=null,o=F){if(this.left=r,this.right=i,this.parent=l,this.color=o,this.item={key:e,value:n},e&&e instanceof Array&&e.length===2&&!Number.isNaN(e[0])&&!Number.isNaN(e[1])){let[u,a]=e;u>a&&([u,a]=[a,u]),this.item.key=new j0(u,a)}this.max=this.item.key?this.item.key.max:void 0}isNil(){return this.item.key===void 0&&this.item.value===void 0&&this.left===null&&this.right===null&&this.color===F}_value_less_than(e){return this.item.value&&e.item.value&&this.item.value.less_than?this.item.value.less_than(e.item.value):this.item.value<e.item.value}less_than(e){return this.item.value===this.item.key&&e.item.value===e.item.key?this.item.key.less_than(e.item.key):this.item.key.less_than(e.item.key)||this.item.key.equal_to(e.item.key)&&this._value_less_than(e)}_value_equal(e){return this.item.value&&e.item.value&&this.item.value.equal_to?this.item.value.equal_to(e.item.value):this.item.value===e.item.value}equal_to(e){return this.item.value===this.item.key&&e.item.value===e.item.key?this.item.key.equal_to(e.item.key):this.item.key.equal_to(e.item.key)&&this._value_equal(e)}intersect(e){return this.item.key.intersect(e.item.key)}copy_data(e){this.item.key=e.item.key,this.item.value=e.item.value}update_max(){if(this.max=this.item.key?this.item.key.max:void 0,this.right&&this.right.max){const e=this.item.key.constructor.comparable_max;this.max=e(this.max,this.right.max)}if(this.left&&this.left.max){const e=this.item.key.constructor.comparable_max;this.max=e(this.max,this.left.max)}}not_intersect_left_subtree(e){const n=this.item.key.constructor.comparable_less_than;let r=this.left.max.high!==void 0?this.left.max.high:this.left.max;return n(r,e.item.key.low)}not_intersect_right_subtree(e){const n=this.item.key.constructor.comparable_less_than;let r=this.right.max.low!==void 0?this.right.max.low:this.right.item.key.low;return n(e.item.key.high,r)}}class ei{constructor(){this.root=null,this.nil_node=new Gt}get size(){let e=0;return this.tree_walk(this.root,()=>e++),e}get keys(){let e=[];return this.tree_walk(this.root,n=>e.push(n.item.key.output?n.item.key.output():n.item.key)),e}get values(){let e=[];return this.tree_walk(this.root,n=>e.push(n.item.value)),e}get items(){let e=[];return this.tree_walk(this.root,n=>e.push({key:n.item.key.output?n.item.key.output():n.item.key,value:n.item.value})),e}isEmpty(){return this.root==null||this.root===this.nil_node}clear(){this.root=null}insert(e,n=e){if(e===void 0)return;let r=new Gt(e,n,this.nil_node,this.nil_node,null,ae);return this.tree_insert(r),this.recalc_max(r),r}exist(e,n=e){let r=new Gt(e,n);return!!this.tree_search(this.root,r)}remove(e,n=e){let r=new Gt(e,n),i=this.tree_search(this.root,r);return i&&this.tree_delete(i),i}search(e,n=(r,i)=>r===i?i.output():r){let r=new Gt(e),i=[];return this.tree_search_interval(this.root,r,i),i.map(l=>n(l.item.value,l.item.key))}intersect_any(e){let n=new Gt(e);return this.tree_find_any_interval(this.root,n)}forEach(e){this.tree_walk(this.root,n=>e(n.item.key,n.item.value))}map(e){const n=new ei;return this.tree_walk(this.root,r=>n.insert(r.item.key,e(r.item.value,r.item.key))),n}*iterate(e,n=(r,i)=>r===i?i.output():r){let r;for(e?r=this.tree_search_nearest_forward(this.root,new Gt(e)):this.root&&(r=this.local_minimum(this.root));r;)yield n(r.item.value,r.item.key),r=this.tree_successor(r)}recalc_max(e){let n=e;for(;n.parent!=null;)n.parent.update_max(),n=n.parent}tree_insert(e){let n=this.root,r=null;if(this.root==null||this.root===this.nil_node)this.root=e;else{for(;n!==this.nil_node;)r=n,e.less_than(n)?n=n.left:n=n.right;e.parent=r,e.less_than(r)?r.left=e:r.right=e}this.insert_fixup(e)}insert_fixup(e){let n,r;for(n=e;n!==this.root&&n.parent.color===ae;)n.parent===n.parent.parent.left?(r=n.parent.parent.right,r.color===ae?(n.parent.color=F,r.color=F,n.parent.parent.color=ae,n=n.parent.parent):(n===n.parent.right&&(n=n.parent,this.rotate_left(n)),n.parent.color=F,n.parent.parent.color=ae,this.rotate_right(n.parent.parent))):(r=n.parent.parent.left,r.color===ae?(n.parent.color=F,r.color=F,n.parent.parent.color=ae,n=n.parent.parent):(n===n.parent.left&&(n=n.parent,this.rotate_right(n)),n.parent.color=F,n.parent.parent.color=ae,this.rotate_left(n.parent.parent)));this.root.color=F}tree_delete(e){let n,r;e.left===this.nil_node||e.right===this.nil_node?n=e:n=this.tree_successor(e),n.left!==this.nil_node?r=n.left:r=n.right,r.parent=n.parent,n===this.root?this.root=r:(n===n.parent.left?n.parent.left=r:n.parent.right=r,n.parent.update_max()),this.recalc_max(r),n!==e&&(e.copy_data(n),e.update_max(),this.recalc_max(e)),n.color===F&&this.delete_fixup(r)}delete_fixup(e){let n=e,r;for(;n!==this.root&&n.parent!=null&&n.color===F;)n===n.parent.left?(r=n.parent.right,r.color===ae&&(r.color=F,n.parent.color=ae,this.rotate_left(n.parent),r=n.parent.right),r.left.color===F&&r.right.color===F?(r.color=ae,n=n.parent):(r.right.color===F&&(r.color=ae,r.left.color=F,this.rotate_right(r),r=n.parent.right),r.color=n.parent.color,n.parent.color=F,r.right.color=F,this.rotate_left(n.parent),n=this.root)):(r=n.parent.left,r.color===ae&&(r.color=F,n.parent.color=ae,this.rotate_right(n.parent),r=n.parent.left),r.left.color===F&&r.right.color===F?(r.color=ae,n=n.parent):(r.left.color===F&&(r.color=ae,r.right.color=F,this.rotate_left(r),r=n.parent.left),r.color=n.parent.color,n.parent.color=F,r.left.color=F,this.rotate_right(n.parent),n=this.root));n.color=F}tree_search(e,n){if(!(e==null||e===this.nil_node))return n.equal_to(e)?e:n.less_than(e)?this.tree_search(e.left,n):this.tree_search(e.right,n)}tree_search_nearest_forward(e,n){let r,i=e;for(;i&&i!==this.nil_node;)i.less_than(n)?i.intersect(n)?(r=i,i=i.left):i=i.right:((!r||i.less_than(r))&&(r=i),i=i.left);return r||null}tree_search_interval(e,n,r){e!=null&&e!==this.nil_node&&(e.left!==this.nil_node&&!e.not_intersect_left_subtree(n)&&this.tree_search_interval(e.left,n,r),e.intersect(n)&&r.push(e),e.right!==this.nil_node&&!e.not_intersect_right_subtree(n)&&this.tree_search_interval(e.right,n,r))}tree_find_any_interval(e,n){let r=!1;return e!=null&&e!==this.nil_node&&(e.left!==this.nil_node&&!e.not_intersect_left_subtree(n)&&(r=this.tree_find_any_interval(e.left,n)),r||(r=e.intersect(n)),!r&&e.right!==this.nil_node&&!e.not_intersect_right_subtree(n)&&(r=this.tree_find_any_interval(e.right,n))),r}local_minimum(e){let n=e;for(;n.left!=null&&n.left!==this.nil_node;)n=n.left;return n}local_maximum(e){let n=e;for(;n.right!=null&&n.right!==this.nil_node;)n=n.right;return n}tree_successor(e){let n,r,i;if(e.right!==this.nil_node)n=this.local_minimum(e.right);else{for(r=e,i=e.parent;i!=null&&i.right===r;)r=i,i=i.parent;n=i}return n}rotate_left(e){let n=e.right;e.right=n.left,n.left!==this.nil_node&&(n.left.parent=e),n.parent=e.parent,e===this.root?this.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.left=e,e.parent=n,e!=null&&e!==this.nil_node&&e.update_max(),n=e.parent,n!=null&&n!==this.nil_node&&n.update_max()}rotate_right(e){let n=e.left;e.left=n.right,n.right!==this.nil_node&&(n.right.parent=e),n.parent=e.parent,e===this.root?this.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.right=e,e.parent=n,e!==null&&e!==this.nil_node&&e.update_max(),n=e.parent,n!=null&&n!==this.nil_node&&n.update_max()}tree_walk(e,n){e!=null&&e!==this.nil_node&&(this.tree_walk(e.left,n),n(e),this.tree_walk(e.right,n))}testRedBlackProperty(){let e=!0;return this.tree_walk(this.root,function(n){n.color===ae&&(n.left.color===F&&n.right.color===F||(e=!1))}),e}testBlackHeightProperty(e){let n=0,r=0,i=0;if(e.color===F&&n++,e.left!==this.nil_node?r=this.testBlackHeightProperty(e.left):r=1,e.right!==this.nil_node?i=this.testBlackHeightProperty(e.right):i=1,r!==i)throw new Error("Red-black height property violated");return n+=r,n}}class V0 extends Set{constructor(e){super(e),this.index=new ei,this.forEach(n=>this.index.insert(n))}add(e){let n=this.size;const{key:r,value:i}=e,l=r||e.box,o=i||e;return super.add(o),this.size>n&&this.index.insert(l,o),this}delete(e){const{key:n,value:r}=e,i=n||e.box,l=r||e;let o=super.delete(l);return o&&this.index.remove(i,l),o}clear(){super.clear(),this.index=new ei}search(e){return this.index.search(e)}hit(e){let n=new s.Box(e.x-1,e.y-1,e.x+1,e.y+1);return this.index.search(n).filter(i=>e.on(i))}svg(){return[...this].reduce((n,r)=>n+r.svg(),"")}}s.PlanarSet=V0;class Ht{get name(){throw G.CANNOT_INVOKE_ABSTRACT_METHOD}get box(){throw G.CANNOT_INVOKE_ABSTRACT_METHOD}clone(){throw G.CANNOT_INVOKE_ABSTRACT_METHOD}translate(...e){return this.transform(new Qe().translate(...e))}rotate(e,n=new s.Point){return this.transform(new Qe().rotate(e,n.x,n.y))}scale(e,n){return this.transform(new Qe().scale(e,n))}transform(...e){throw G.CANNOT_INVOKE_ABSTRACT_METHOD}toJSON(){return Object.assign({},this,{name:this.name})}svg(e={}){throw G.CANNOT_INVOKE_ABSTRACT_METHOD}}let W=class gh extends Ht{constructor(...e){if(super(),this.x=0,this.y=0,e.length!==0){if(e.length===1&&e[0]instanceof Array&&e[0].length===2){let n=e[0];if(typeof n[0]=="number"&&typeof n[1]=="number"){this.x=n[0],this.y=n[1];return}}if(e.length===1&&e[0]instanceof Object&&e[0].name==="point"){let{x:n,y:r}=e[0];this.x=n,this.y=r;return}if(e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"){this.x=e[0],this.y=e[1];return}throw G.ILLEGAL_PARAMETERS}}get box(){return new s.Box(this.x,this.y,this.x,this.y)}clone(){return new s.Point(this.x,this.y)}get vertices(){return[this.clone()]}equalTo(e){return s.Utils.EQ(this.x,e.x)&&s.Utils.EQ(this.y,e.y)}lessThan(e){return!!(s.Utils.LT(this.y,e.y)||s.Utils.EQ(this.y,e.y)&&s.Utils.LT(this.x,e.x))}transform(e){return new s.Point(e.transform([this.x,this.y]))}projectionOn(e){if(this.equalTo(e.pt))return this.clone();let n=new s.Vector(this,e.pt);if(s.Utils.EQ_0(n.cross(e.norm)))return e.pt.clone();let r=n.dot(e.norm),i=e.norm.multiply(r);return this.translate(i)}leftTo(e){let n=new s.Vector(e.pt,this);return s.Utils.GT(n.dot(e.norm),0)}distanceTo(e){if(e instanceof gh){let n=e.x-this.x,r=e.y-this.y;return[Math.sqrt(n*n+r*r),new s.Segment(this,e)]}if(e instanceof s.Line)return s.Distance.point2line(this,e);if(e instanceof s.Circle)return s.Distance.point2circle(this,e);if(e instanceof s.Segment)return s.Distance.point2segment(this,e);if(e instanceof s.Arc)return s.Distance.point2arc(this,e);if(e instanceof s.Polygon)return s.Distance.point2polygon(this,e);if(e instanceof s.PlanarSet)return s.Distance.shape2planarSet(this,e);if(e instanceof s.Multiline)return s.Distance.shape2multiline(this,e)}on(e){if(e instanceof s.Point)return this.equalTo(e);if(e.contains&&e.contains instanceof Function)return e.contains(this);throw s.Errors.UNSUPPORTED_SHAPE_TYPE}get name(){return"point"}svg(e={}){const n=e.r??3;return`
<circle cx="${this.x}" cy="${this.y}" r="${n}"
            ${fn({fill:"red",...e})} />`}};s.Point=W;const vh=(...t)=>new s.Point(...t);s.point=vh;let yh=class extends Ht{constructor(...e){if(super(),this.x=0,this.y=0,e.length!==0){if(e.length===1&&e[0]instanceof Array&&e[0].length===2){let n=e[0];if(typeof n[0]=="number"&&typeof n[1]=="number"){this.x=n[0],this.y=n[1];return}}if(e.length===1&&e[0]instanceof Object&&e[0].name==="vector"){let{x:n,y:r}=e[0];this.x=n,this.y=r;return}if(e.length===2){let n=e[0],r=e[1];if(typeof n=="number"&&typeof r=="number"){this.x=n,this.y=r;return}if(n instanceof s.Point&&r instanceof s.Point){this.x=r.x-n.x,this.y=r.y-n.y;return}}throw G.ILLEGAL_PARAMETERS}}clone(){return new s.Vector(this.x,this.y)}get slope(){let e=Math.atan2(this.y,this.x);return e<0&&(e=2*Math.PI+e),e}get length(){return Math.sqrt(this.dot(this))}equalTo(e){return s.Utils.EQ(this.x,e.x)&&s.Utils.EQ(this.y,e.y)}multiply(e){return new s.Vector(e*this.x,e*this.y)}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}normalize(){if(!s.Utils.EQ_0(this.length))return new s.Vector(this.x/this.length,this.y/this.length);throw G.ZERO_DIVISION}rotate(e,n=new s.Point){if(n.x===0&&n.y===0)return this.transform(new Qe().rotate(e));throw G.OPERATION_IS_NOT_SUPPORTED}transform(e){return new s.Vector(e.transform([this.x,this.y]))}rotate90CCW(){return new s.Vector(-this.y,this.x)}rotate90CW(){return new s.Vector(this.y,-this.x)}invert(){return new s.Vector(-this.x,-this.y)}add(e){return new s.Vector(this.x+e.x,this.y+e.y)}subtract(e){return new s.Vector(this.x-e.x,this.y-e.y)}angleTo(e){let n=this.normalize(),r=e.normalize(),i=Math.atan2(n.cross(r),n.dot(r));return i<0&&(i+=2*Math.PI),i}projectionOn(e){let n=e.normalize(),r=this.dot(n);return n.multiply(r)}get name(){return"vector"}};s.Vector=yh;const _h=(...t)=>new s.Vector(...t);s.vector=_h;let Zi=class Rs extends Ht{constructor(...e){if(super(),this.ps=new s.Point,this.pe=new s.Point,e.length!==0){if(e.length===1&&e[0]instanceof Array&&e[0].length===4){let n=e[0];this.ps=new s.Point(n[0],n[1]),this.pe=new s.Point(n[2],n[3]);return}if(e.length===1&&e[0]instanceof Object&&e[0].name==="segment"){let{ps:n,pe:r}=e[0];this.ps=new s.Point(n.x,n.y),this.pe=new s.Point(r.x,r.y);return}if(e.length===1&&e[0]instanceof s.Point){this.ps=e[0].clone();return}if(e.length===2&&e[0]instanceof s.Point&&e[1]instanceof s.Point){this.ps=e[0].clone(),this.pe=e[1].clone();return}if(e.length===4){this.ps=new s.Point(e[0],e[1]),this.pe=new s.Point(e[2],e[3]);return}throw G.ILLEGAL_PARAMETERS}}clone(){return new s.Segment(this.start,this.end)}get start(){return this.ps}get end(){return this.pe}get vertices(){return[this.ps.clone(),this.pe.clone()]}get length(){return this.start.distanceTo(this.end)[0]}get slope(){return new s.Vector(this.start,this.end).slope}get box(){return new s.Box(Math.min(this.start.x,this.end.x),Math.min(this.start.y,this.end.y),Math.max(this.start.x,this.end.x),Math.max(this.start.y,this.end.y))}equalTo(e){return this.ps.equalTo(e.ps)&&this.pe.equalTo(e.pe)}contains(e){return s.Utils.EQ_0(this.distanceToPoint(e))}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Line)return ai(this,e);if(e instanceof s.Ray)return Vu(e,this);if(e instanceof s.Segment)return Wl(this,e);if(e instanceof s.Circle)return Ql(this,e);if(e instanceof s.Box)return r0(this,e);if(e instanceof s.Arc)return nr(this,e);if(e instanceof s.Polygon)return Bu(this,e);if(e instanceof s.Multiline)return fi(this,e)}distanceTo(e){if(e instanceof s.Point){let[n,r]=s.Distance.point2segment(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Circle){let[n,r]=s.Distance.segment2circle(this,e);return[n,r]}if(e instanceof s.Line){let[n,r]=s.Distance.segment2line(this,e);return[n,r]}if(e instanceof s.Segment){let[n,r]=s.Distance.segment2segment(this,e);return[n,r]}if(e instanceof s.Arc){let[n,r]=s.Distance.segment2arc(this,e);return[n,r]}if(e instanceof s.Polygon){let[n,r]=s.Distance.shape2polygon(this,e);return[n,r]}if(e instanceof s.PlanarSet){let[n,r]=s.Distance.shape2planarSet(this,e);return[n,r]}if(e instanceof s.Multiline)return s.Distance.shape2multiline(this,e)}tangentInStart(){return new s.Vector(this.start,this.end).normalize()}tangentInEnd(){return new s.Vector(this.end,this.start).normalize()}reverse(){return new Rs(this.end,this.start)}split(e){return this.start.equalTo(e)?[null,this.clone()]:this.end.equalTo(e)?[this.clone(),null]:[new s.Segment(this.start,e),new s.Segment(e,this.end)]}middle(){return new s.Point((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}pointAtLength(e){if(e>this.length||e<0)return null;if(e==0)return this.start;if(e==this.length)return this.end;let n=e/this.length;return new s.Point((this.end.x-this.start.x)*n+this.start.x,(this.end.y-this.start.y)*n+this.start.y)}distanceToPoint(e){let[n,...r]=s.Distance.point2segment(e,this);return n}definiteIntegral(e=0){let n=this.end.x-this.start.x,r=this.start.y-e,i=this.end.y-e;return n*(r+i)/2}transform(e=new s.Matrix){return new Rs(this.ps.transform(e),this.pe.transform(e))}isZeroLength(){return this.ps.equalTo(this.pe)}sortPoints(e){return new s.Line(this.start,this.end).sortPoints(e)}get name(){return"segment"}svg(e={}){return`
<line x1="${this.start.x}" y1="${this.start.y}" x2="${this.end.x}" y2="${this.end.y}" ${fn(e)} />`}};s.Segment=Zi;const $0=(...t)=>new s.Segment(...t);s.segment=$0;let{vector:vr}=s,H0=class wh extends Ht{constructor(...e){if(super(),this.pt=new s.Point,this.norm=new s.Vector(0,1),e.length!==0){if(e.length===1&&e[0]instanceof Object&&e[0].name==="line"){let{pt:n,norm:r}=e[0];this.pt=new s.Point(n),this.norm=new s.Vector(r);return}if(e.length===2){let n=e[0],r=e[1];if(n instanceof s.Point&&r instanceof s.Point){this.pt=n,this.norm=wh.points2norm(n,r),this.norm.dot(vr(this.pt.x,this.pt.y))>=0&&this.norm.invert();return}if(n instanceof s.Point&&r instanceof s.Vector){if(s.Utils.EQ_0(r.x)&&s.Utils.EQ_0(r.y))throw G.ILLEGAL_PARAMETERS;this.pt=n.clone(),this.norm=r.clone(),this.norm=this.norm.normalize(),this.norm.dot(vr(this.pt.x,this.pt.y))>=0&&this.norm.invert();return}if(n instanceof s.Vector&&r instanceof s.Point){if(s.Utils.EQ_0(n.x)&&s.Utils.EQ_0(n.y))throw G.ILLEGAL_PARAMETERS;this.pt=r.clone(),this.norm=n.clone(),this.norm=this.norm.normalize(),this.norm.dot(vr(this.pt.x,this.pt.y))>=0&&this.norm.invert();return}}throw G.ILLEGAL_PARAMETERS}}clone(){return new s.Line(this.pt,this.norm)}get start(){}get end(){}get length(){return Number.POSITIVE_INFINITY}get box(){return new s.Box(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY)}get middle(){}get slope(){return new s.Vector(this.norm.y,-this.norm.x).slope}get standard(){let e=this.norm.x,n=this.norm.y,r=this.norm.dot(vr(this.pt.x,this.pt.y));return[e,n,r]}parallelTo(e){return s.Utils.EQ_0(this.norm.cross(e.norm))}incidentTo(e){return this.parallelTo(e)&&this.pt.on(e)}contains(e){if(this.pt.equalTo(e))return!0;let n=new s.Vector(this.pt,e);return s.Utils.EQ_0(this.norm.dot(n))}coord(e){return vr(e.x,e.y).cross(this.norm)}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Line)return tr(this,e);if(e instanceof s.Ray)return ih(e,this);if(e instanceof s.Circle)return dn(this,e);if(e instanceof s.Box)return Gn(this,e);if(e instanceof s.Segment)return ai(e,this);if(e instanceof s.Arc)return Hl(this,e);if(e instanceof s.Polygon)return ci(this,e);if(e instanceof s.Multiline)return fi(this,e)}distanceTo(e){if(e instanceof s.Point){let[n,r]=s.Distance.point2line(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Circle){let[n,r]=s.Distance.circle2line(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Segment){let[n,r]=s.Distance.segment2line(e,this);return[n,r.reverse()]}if(e instanceof s.Arc){let[n,r]=s.Distance.arc2line(e,this);return[n,r.reverse()]}if(e instanceof s.Polygon){let[n,r]=s.Distance.shape2polygon(this,e);return[n,r]}}split(e){if(e instanceof s.Point)return[new s.Ray(e,this.norm),new s.Ray(e,this.norm)];{let n=new s.Multiline([this]),r=this.sortPoints(e);return n.split(r),n.toShapes()}}rotate(e,n=new s.Point){return new s.Line(this.pt.rotate(e,n),this.norm.rotate(e))}transform(e){return new s.Line(this.pt.transform(e),this.norm.clone())}sortPoints(e){return e.slice().sort((n,r)=>this.coord(n)<this.coord(r)?-1:this.coord(n)>this.coord(r)?1:0)}get name(){return"line"}svg(e,n={}){let r=Gn(this,e);if(r.length===0)return"";let i=r[0],l=r.length===2?r[1]:r.find(u=>!u.equalTo(i));return l===void 0&&(l=i),new s.Segment(i,l).svg(n)}static points2norm(e,n){if(e.equalTo(n))throw G.ILLEGAL_PARAMETERS;return new s.Vector(e,n).normalize().rotate90CCW()}};s.Line=H0;const W0=(...t)=>new s.Line(...t);s.line=W0;let Q0=class extends Ht{constructor(...e){if(super(),this.pc=new s.Point,this.r=1,e.length===1&&e[0]instanceof Object&&e[0].name==="circle"){let{pc:n,r}=e[0];this.pc=new s.Point(n),this.r=r}else{let[n,r]=[...e];n&&n instanceof s.Point&&(this.pc=n.clone()),r!==void 0&&(this.r=r)}}clone(){return new s.Circle(this.pc.clone(),this.r)}get center(){return this.pc}get box(){return new s.Box(this.pc.x-this.r,this.pc.y-this.r,this.pc.x+this.r,this.pc.y+this.r)}contains(e){if(e instanceof s.Point)return s.Utils.LE(e.distanceTo(this.center)[0],this.r);if(e instanceof s.Segment)return s.Utils.LE(e.start.distanceTo(this.center)[0],this.r)&&s.Utils.LE(e.end.distanceTo(this.center)[0],this.r);if(e instanceof s.Arc)return this.intersect(e).length===0&&s.Utils.LE(e.start.distanceTo(this.center)[0],this.r)&&s.Utils.LE(e.end.distanceTo(this.center)[0],this.r);if(e instanceof s.Circle)return this.intersect(e).length===0&&s.Utils.LE(e.r,this.r)&&s.Utils.LE(e.center.distanceTo(this.center)[0],this.r)}toArc(e=!0){return new s.Arc(this.center,this.r,Math.PI,-Math.PI,e)}scale(e,n){if(e!==n||!(this.pc.x===0&&this.pc.y===0))throw G.OPERATION_IS_NOT_SUPPORTED;return new s.Circle(this.pc,this.r*e)}transform(e=new s.Matrix){return new s.Circle(this.pc.transform(e),this.r)}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Line)return dn(e,this);if(e instanceof s.Ray)return rh(e,this);if(e instanceof s.Segment)return Ql(e,this);if(e instanceof s.Circle)return qd(e,this);if(e instanceof s.Box)return i0(this,e);if(e instanceof s.Arc)return Fu(e,this);if(e instanceof s.Polygon)return bd(this,e);if(e instanceof s.Multiline)return fi(this,e)}distanceTo(e){if(e instanceof s.Point){let[n,r]=s.Distance.point2circle(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Circle){let[n,r]=s.Distance.circle2circle(this,e);return[n,r]}if(e instanceof s.Line){let[n,r]=s.Distance.circle2line(this,e);return[n,r]}if(e instanceof s.Segment){let[n,r]=s.Distance.segment2circle(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Arc){let[n,r]=s.Distance.arc2circle(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Polygon){let[n,r]=s.Distance.shape2polygon(this,e);return[n,r]}if(e instanceof s.PlanarSet){let[n,r]=s.Distance.shape2planarSet(this,e);return[n,r]}if(e instanceof s.Multiline){let[n,r]=s.Distance.shape2multiline(this,e);return[n,r]}}get name(){return"circle"}svg(e={}){return`
<circle cx="${this.pc.x}" cy="${this.pc.y}" r="${this.r}"
                ${fn({fill:"none",...e})} />`}};s.Circle=Q0;const Sh=(...t)=>new s.Circle(...t);s.circle=Sh;class G0 extends Ht{constructor(...e){if(super(),this.pc=new s.Point,this.r=1,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=s.CCW,e.length!==0)if(e.length===1&&e[0]instanceof Object&&e[0].name==="arc"){let{pc:n,r,startAngle:i,endAngle:l,counterClockwise:o}=e[0];this.pc=new s.Point(n.x,n.y),this.r=r,this.startAngle=i,this.endAngle=l,this.counterClockwise=o}else{let[n,r,i,l,o]=[...e];n&&n instanceof s.Point&&(this.pc=n.clone()),r!==void 0&&(this.r=r),i!==void 0&&(this.startAngle=i),l!==void 0&&(this.endAngle=l),o!==void 0&&(this.counterClockwise=o)}}clone(){return new s.Arc(this.pc.clone(),this.r,this.startAngle,this.endAngle,this.counterClockwise)}get sweep(){if(s.Utils.EQ(this.startAngle,this.endAngle))return 0;if(s.Utils.EQ(Math.abs(this.startAngle-this.endAngle),s.PIx2))return s.PIx2;let e;return this.counterClockwise?e=s.Utils.GT(this.endAngle,this.startAngle)?this.endAngle-this.startAngle:this.endAngle-this.startAngle+s.PIx2:e=s.Utils.GT(this.startAngle,this.endAngle)?this.startAngle-this.endAngle:this.startAngle-this.endAngle+s.PIx2,s.Utils.GT(e,s.PIx2)&&(e-=s.PIx2),s.Utils.LT(e,0)&&(e+=s.PIx2),e}get start(){return new s.Point(this.pc.x+this.r,this.pc.y).rotate(this.startAngle,this.pc)}get end(){return new s.Point(this.pc.x+this.r,this.pc.y).rotate(this.endAngle,this.pc)}get center(){return this.pc.clone()}get vertices(){return[this.start.clone(),this.end.clone()]}get length(){return Math.abs(this.sweep*this.r)}get box(){let n=this.breakToFunctional().reduce((r,i)=>r.merge(i.start.box),new s.Box);return n=n.merge(this.end.box),n}contains(e){if(!s.Utils.EQ(this.pc.distanceTo(e)[0],this.r))return!1;if(e.equalTo(this.start))return!0;let n=new s.Vector(this.pc,e).slope,r=new s.Arc(this.pc,this.r,this.startAngle,n,this.counterClockwise);return s.Utils.LE(r.length,this.length)}split(e){if(this.start.equalTo(e))return[null,this.clone()];if(this.end.equalTo(e))return[this.clone(),null];let n=new s.Vector(this.pc,e).slope;return[new s.Arc(this.pc,this.r,this.startAngle,n,this.counterClockwise),new s.Arc(this.pc,this.r,n,this.endAngle,this.counterClockwise)]}middle(){let e=this.counterClockwise?this.startAngle+this.sweep/2:this.startAngle-this.sweep/2;return new s.Arc(this.pc,this.r,this.startAngle,e,this.counterClockwise).end}pointAtLength(e){if(e>this.length||e<0)return null;if(e===0)return this.start;if(e===this.length)return this.end;let n=e/this.length,r=this.counterClockwise?this.startAngle+this.sweep*n:this.startAngle-this.sweep*n;return new s.Arc(this.pc,this.r,this.startAngle,r,this.counterClockwise).end}chordHeight(){return(1-Math.cos(Math.abs(this.sweep/2)))*this.r}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Line)return Hl(e,this);if(e instanceof s.Ray)return $u(e,this);if(e instanceof s.Circle)return Fu(this,e);if(e instanceof s.Segment)return nr(e,this);if(e instanceof s.Box)return l0(this,e);if(e instanceof s.Arc)return Kd(this,e);if(e instanceof s.Polygon)return ju(this,e);if(e instanceof s.Multiline)return fi(this,e)}distanceTo(e){if(e instanceof s.Point){let[n,r]=s.Distance.point2arc(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Circle){let[n,r]=s.Distance.arc2circle(this,e);return[n,r]}if(e instanceof s.Line){let[n,r]=s.Distance.arc2line(this,e);return[n,r]}if(e instanceof s.Segment){let[n,r]=s.Distance.segment2arc(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Arc){let[n,r]=s.Distance.arc2arc(this,e);return[n,r]}if(e instanceof s.Polygon){let[n,r]=s.Distance.shape2polygon(this,e);return[n,r]}if(e instanceof s.PlanarSet){let[n,r]=s.Distance.shape2planarSet(this,e);return[n,r]}if(e instanceof s.Multiline)return s.Distance.shape2multiline(this,e)}breakToFunctional(){let e=[],n=[0,Math.PI/2,2*Math.PI/2,3*Math.PI/2],r=[this.pc.translate(this.r,0),this.pc.translate(0,this.r),this.pc.translate(-this.r,0),this.pc.translate(0,-this.r)],i=[];for(let l=0;l<4;l++)r[l].on(this)&&i.push(new s.Arc(this.pc,this.r,this.startAngle,n[l],this.counterClockwise));if(i.length===0)e.push(this.clone());else{i.sort((u,a)=>u.length-a.length);for(let u=0;u<i.length;u++){let a=e.length>0?e[e.length-1]:void 0,c;a?c=new s.Arc(this.pc,this.r,a.endAngle,i[u].endAngle,this.counterClockwise):c=new s.Arc(this.pc,this.r,this.startAngle,i[u].endAngle,this.counterClockwise),s.Utils.EQ_0(c.length)||e.push(c.clone())}let l=e.length>0?e[e.length-1]:void 0,o;l?o=new s.Arc(this.pc,this.r,l.endAngle,this.endAngle,this.counterClockwise):o=new s.Arc(this.pc,this.r,this.startAngle,this.endAngle,this.counterClockwise),!s.Utils.EQ_0(o.length)&&!s.Utils.EQ(o.sweep,2*Math.PI)&&e.push(o.clone())}return e}tangentInStart(){let e=new s.Vector(this.pc,this.start),n=this.counterClockwise?Math.PI/2:-Math.PI/2;return e.rotate(n).normalize()}tangentInEnd(){let e=new s.Vector(this.pc,this.end),n=this.counterClockwise?-Math.PI/2:Math.PI/2;return e.rotate(n).normalize()}reverse(){return new s.Arc(this.pc,this.r,this.endAngle,this.startAngle,!this.counterClockwise)}transform(e=new s.Matrix){let n=this.start.transform(e),r=this.end.transform(e),i=this.pc.transform(e),l=this.counterClockwise;return e.a*e.d<0&&(l=!l),s.Arc.arcSE(i,n,r,l)}static arcSE(e,n,r,i){let{vector:l}=s,o=l(e,n).slope,u=l(e,r).slope;s.Utils.EQ(o,u)&&(u+=2*Math.PI,i=!0);let a=l(e,n).length;return new s.Arc(e,a,o,u,i)}definiteIntegral(e=0){return this.breakToFunctional().reduce((i,l)=>i+l.circularSegmentDefiniteIntegral(e),0)}circularSegmentDefiniteIntegral(e){let n=new s.Line(this.start,this.end),r=this.pc.leftTo(n),l=new s.Segment(this.start,this.end).definiteIntegral(e),o=this.circularSegmentArea();return r?l-o:l+o}circularSegmentArea(){return .5*this.r*this.r*(this.sweep-Math.sin(this.sweep))}sortPoints(e){let{vector:n}=s;return e.slice().sort((r,i)=>{let l=n(this.pc,r).slope,o=n(this.pc,i).slope;return l<o?-1:l>o?1:0})}get name(){return"arc"}svg(e={}){let n=this.sweep<=Math.PI?"0":"1",r=this.counterClockwise?"1":"0";return s.Utils.EQ(this.sweep,2*Math.PI)?new s.Circle(this.pc,this.r).svg(e):`
<path d="M${this.start.x},${this.start.y}
                             A${this.r},${this.r} 0 ${n},${r} ${this.end.x},${this.end.y}"
                    ${fn({fill:"none",...e})} />`}}s.Arc=G0;const Y0=(...t)=>new s.Arc(...t);s.arc=Y0;class en extends Ht{constructor(e=void 0,n=void 0,r=void 0,i=void 0){super(),this.xmin=e,this.ymin=n,this.xmax=r,this.ymax=i}clone(){return new en(this.xmin,this.ymin,this.xmax,this.ymax)}get low(){return new s.Point(this.xmin,this.ymin)}get high(){return new s.Point(this.xmax,this.ymax)}get max(){return this.clone()}get center(){return new s.Point((this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)}get width(){return Math.abs(this.xmax-this.xmin)}get height(){return Math.abs(this.ymax-this.ymin)}get box(){return this.clone()}not_intersect(e){return this.xmax<e.xmin||this.xmin>e.xmax||this.ymax<e.ymin||this.ymin>e.ymax}intersect(e){return!this.not_intersect(e)}merge(e){return new en(this.xmin===void 0?e.xmin:Math.min(this.xmin,e.xmin),this.ymin===void 0?e.ymin:Math.min(this.ymin,e.ymin),this.xmax===void 0?e.xmax:Math.max(this.xmax,e.xmax),this.ymax===void 0?e.ymax:Math.max(this.ymax,e.ymax))}less_than(e){return!!(this.low.lessThan(e.low)||this.low.equalTo(e.low)&&this.high.lessThan(e.high))}equal_to(e){return this.low.equalTo(e.low)&&this.high.equalTo(e.high)}output(){return this.clone()}static comparable_max(e,n){return e.merge(n)}static comparable_less_than(e,n){return e.lessThan(n)}set(e,n,r,i){this.xmin=e,this.ymin=n,this.xmax=r,this.ymax=i}toPoints(){return[new s.Point(this.xmin,this.ymin),new s.Point(this.xmax,this.ymin),new s.Point(this.xmax,this.ymax),new s.Point(this.xmin,this.ymax)]}toSegments(){let e=this.toPoints();return[new s.Segment(e[0],e[1]),new s.Segment(e[1],e[2]),new s.Segment(e[2],e[3]),new s.Segment(e[3],e[0])]}rotate(e,n=new s.Point){throw G.OPERATION_IS_NOT_SUPPORTED}transform(e=new s.Matrix){return this.toPoints().map(r=>r.transform(e)).reduce((r,i)=>r.merge(i.box),new en)}contains(e){if(e instanceof s.Point)return e.x>=this.xmin&&e.x<=this.xmax&&e.y>=this.ymin&&e.y<=this.ymax;if(e instanceof s.Segment)return e.vertices.every(n=>this.contains(n));if(e instanceof s.Box)return e.toSegments().every(n=>this.contains(n));if(e instanceof s.Circle)return this.contains(e.box);if(e instanceof s.Arc)return e.vertices.every(n=>this.contains(n))&&e.toSegments().every(n=>nr(n,e).length===0);if(e instanceof s.Line||e instanceof s.Ray)return!1;if(e instanceof s.Multiline)return e.toShapes().every(n=>this.contains(n));if(e instanceof s.Polygon)return this.contains(e.box)}distanceTo(e){const n=this.toSegments().map(i=>i.distanceTo(e));let r=[Number.MAX_SAFE_INTEGER,null];return n.forEach(i=>{i[0]<r[0]&&(r=i)}),r}get name(){return"box"}svg(e={}){const n=this.xmax-this.xmin,r=this.ymax-this.ymin;return`
<rect x="${this.xmin}" y="${this.ymin}" width="${n}" height="${r}"
                ${fn({fill:"none",...e})} />`}}s.Box=en;const q0=(...t)=>new s.Box(...t);s.box=q0;class K0{constructor(e){this.shape=e,this.next=void 0,this.prev=void 0,this.face=void 0,this.arc_length=0,this.bvStart=void 0,this.bvEnd=void 0,this.bv=void 0,this.overlap=void 0}get start(){return this.shape.start}get end(){return this.shape.end}get length(){return this.shape.length}get box(){return this.shape.box}get isSegment(){return this.shape instanceof s.Segment}get isArc(){return this.shape instanceof s.Arc}get isLine(){return this.shape instanceof s.Line}get isRay(){return this.shape instanceof s.Ray}middle(){return this.shape.middle()}pointAtLength(e){return this.shape.pointAtLength(e)}contains(e){return this.shape.contains(e)}setInclusion(e){if(this.bv!==void 0)return this.bv;if(this.shape instanceof s.Line||this.shape instanceof s.Ray)return this.bv=s.OUTSIDE,this.bv;if(this.bvStart===void 0&&(this.bvStart=Rr(e,this.start)),this.bvEnd===void 0&&(this.bvEnd=Rr(e,this.end)),this.bvStart===s.OUTSIDE||this.bvEnd==s.OUTSIDE)this.bv=s.OUTSIDE;else if(this.bvStart===s.INSIDE||this.bvEnd==s.INSIDE)this.bv=s.INSIDE;else{let n=Rr(e,this.middle());this.bv=n}return this.bv}setOverlap(e){let n,r=this.shape,i=e.shape;r instanceof s.Segment&&i instanceof s.Segment?r.start.equalTo(i.start)&&r.end.equalTo(i.end)?n=s.OVERLAP_SAME:r.start.equalTo(i.end)&&r.end.equalTo(i.start)&&(n=s.OVERLAP_OPPOSITE):(r instanceof s.Arc&&i instanceof s.Arc||r instanceof s.Segment&&i instanceof s.Arc||r instanceof s.Arc&&i instanceof s.Segment)&&(r.start.equalTo(i.start)&&r.end.equalTo(i.end)&&r.middle().equalTo(i.middle())?n=s.OVERLAP_SAME:r.start.equalTo(i.end)&&r.end.equalTo(i.start)&&r.middle().equalTo(i.middle())&&(n=s.OVERLAP_OPPOSITE)),this.overlap===void 0&&(this.overlap=n),e.overlap===void 0&&(e.overlap=n)}svg(){if(this.shape instanceof s.Segment)return` L${this.shape.end.x},${this.shape.end.y}`;if(this.shape instanceof s.Arc){let e=this.shape,n,r=e.counterClockwise?"1":"0";if(s.Utils.EQ(e.sweep,2*Math.PI)){let i=e.counterClockwise?1:-1,l=new s.Arc(e.pc,e.r,e.startAngle,e.startAngle+i*Math.PI,e.counterClockwise),o=new s.Arc(e.pc,e.r,e.startAngle+i*Math.PI,e.endAngle,e.counterClockwise);return n="0",` A${l.r},${l.r} 0 ${n},${r} ${l.end.x},${l.end.y}
                    A${o.r},${o.r} 0 ${n},${r} ${o.end.x},${o.end.y}`}else return n=e.sweep<=Math.PI?"0":"1",` A${e.r},${e.r} 0 ${n},${r} ${e.end.x},${e.end.y}`}}toJSON(){return this.shape.toJSON()}}s.Edge=K0;class X0 extends Du{constructor(e,n){super(e,n),this.setCircularLinks()}setCircularLinks(){this.isEmpty()||(this.last.next=this.first,this.first.prev=this.last)}[Symbol.iterator](){let e;return{next:()=>{let n=e||this.first,r=this.first?e?e===this.first:!1:!0;return e=n?n.next:void 0,{value:n,done:r}}}}append(e){return super.append(e),this.setCircularLinks(),this}insert(e,n){return super.insert(e,n),this.setCircularLinks(),this}remove(e){return super.remove(e),this}}class In extends X0{constructor(e,...n){if(super(),this._box=void 0,this._orientation=void 0,n.length!==0){if(n.length===1){if(n[0]instanceof Array){let r=n[0];if(r.length===0)return;if(r.every(i=>i instanceof s.Point)){let i=In.points2segments(r);this.shapes2face(e.edges,i)}else if(r.every(i=>i instanceof Array&&i.length===2)){let i=r.map(o=>new s.Point(o[0],o[1])),l=In.points2segments(i);this.shapes2face(e.edges,l)}else if(r.every(i=>i instanceof s.Segment||i instanceof s.Arc))this.shapes2face(e.edges,r);else if(r.every(i=>i.name==="segment"||i.name==="arc")){let i=[];for(let l of r){let o;l.name==="segment"?o=new s.Segment(l):o=new s.Arc(l),i.push(o)}this.shapes2face(e.edges,i)}}else if(n[0]instanceof In){let r=n[0];this.first=r.first,this.last=r.last;for(let i of r)e.edges.add(i)}else if(n[0]instanceof s.Circle)this.shapes2face(e.edges,[n[0].toArc($d)]);else if(n[0]instanceof s.Box){let r=n[0];this.shapes2face(e.edges,[new s.Segment(new s.Point(r.xmin,r.ymin),new s.Point(r.xmax,r.ymin)),new s.Segment(new s.Point(r.xmax,r.ymin),new s.Point(r.xmax,r.ymax)),new s.Segment(new s.Point(r.xmax,r.ymax),new s.Point(r.xmin,r.ymax)),new s.Segment(new s.Point(r.xmin,r.ymax),new s.Point(r.xmin,r.ymin))])}}n.length===2&&n[0]instanceof s.Edge&&n[1]instanceof s.Edge&&(this.first=n[0],this.last=n[1],this.last.next=this.first,this.first.prev=this.last,this.setArcLength())}}get edges(){return this.toArray()}get shapes(){return this.edges.map(e=>e.shape.clone())}get box(){if(this._box===void 0){let e=new s.Box;for(let n of this)e=e.merge(n.box);this._box=e}return this._box}get perimeter(){return this.last.arc_length+this.last.length}pointAtLength(e){if(e>this.perimeter||e<0)return null;let n=null;for(let r of this)if(e>=r.arc_length&&(r===this.last||e<r.next.arc_length)){n=r.pointAtLength(e-r.arc_length);break}return n}static points2segments(e){let n=[];for(let r=0;r<e.length;r++)e[r].equalTo(e[(r+1)%e.length])||n.push(new s.Segment(e[r],e[(r+1)%e.length]));return n}shapes2face(e,n){for(let r of n){let i=new s.Edge(r);this.append(i),e.add(i)}}append(e){return super.append(e),this.setOneEdgeArcLength(e),e.face=this,this}insert(e,n){return super.insert(e,n),this.setOneEdgeArcLength(e),e.face=this,this}remove(e){return super.remove(e),this.setArcLength(),this}merge_with_next_edge(e){return e.shape.end.x=e.next.shape.end.x,e.shape.end.y=e.next.shape.end.y,this.remove(e.next),this}reverse(){let e=[],n=this.last;do n.shape=n.shape.reverse(),e.push(n),n=n.prev;while(n!==this.last);this.first=void 0,this.last=void 0;for(let r of e)this.first===void 0?(r.prev=r,r.next=r,this.first=r,this.last=r):(r.prev=this.last,this.last.next=r,this.last=r,this.last.next=this.first,this.first.prev=this.last),this.setOneEdgeArcLength(r);this._orientation!==void 0&&(this._orientation=void 0,this._orientation=this.orientation())}setArcLength(){for(let e of this)this.setOneEdgeArcLength(e),e.face=this}setOneEdgeArcLength(e){e===this.first?e.arc_length=0:e.arc_length=e.prev.arc_length+e.prev.length}area(){return Math.abs(this.signedArea())}signedArea(){let e=0,n=this.box.ymin;for(let r of this)e+=r.shape.definiteIntegral(n);return e}orientation(){if(this._orientation===void 0){let e=this.signedArea();s.Utils.EQ_0(e)?this._orientation=Xi.NOT_ORIENTABLE:s.Utils.LT(e,0)?this._orientation=Xi.CCW:this._orientation=Xi.CW}return this._orientation}isSimple(e){return In.getSelfIntersections(this,e,!0).length===0}static getSelfIntersections(e,n,r=!1){let i=[];for(let l of e){let o=n.search(l.box);for(let u of o){if(l===u||u.face!==e||l.shape instanceof s.Segment&&u.shape instanceof s.Segment&&(l.next===u||l.prev===u))continue;let a=l.shape.intersect(u.shape);for(let c of a)if(!(c.equalTo(l.start)&&c.equalTo(u.end)&&u===l.prev)&&!(c.equalTo(l.end)&&c.equalTo(u.start)&&u===l.next)&&(i.push(c),r))break;if(i.length>0&&r)break}if(i.length>0&&r)break}return i}findEdgeByPoint(e){let n;for(let r of this)if(!e.equalTo(r.shape.start)&&(e.equalTo(r.shape.end)||r.shape.contains(e))){n=r;break}return n}toPolygon(){return new s.Polygon(this.shapes)}toJSON(){return this.edges.map(e=>e.toJSON())}svg(){let e=`M${this.first.start.x},${this.first.start.y}`;for(let n of this)e+=n.svg();return e+=" z",e}}s.Face=In;class Wu extends Ht{constructor(...e){if(super(),this.pt=new s.Point,this.norm=new s.Vector(0,1),e.length!==0&&(e.length>=1&&e[0]instanceof s.Point&&(this.pt=e[0].clone()),e.length!==1)){if(e.length===2&&e[1]instanceof s.Vector){this.norm=e[1].clone();return}throw G.ILLEGAL_PARAMETERS}}clone(){return new Wu(this.pt,this.norm)}get slope(){return new s.Vector(this.norm.y,-this.norm.x).slope}get box(){let e=this.slope;return new s.Box(e>Math.PI/2&&e<3*Math.PI/2?Number.NEGATIVE_INFINITY:this.pt.x,e>=0&&e<=Math.PI?this.pt.y:Number.NEGATIVE_INFINITY,e>=Math.PI/2&&e<=3*Math.PI/2?this.pt.x:Number.POSITIVE_INFINITY,e>=Math.PI&&e<=2*Math.PI||e===0?this.pt.y:Number.POSITIVE_INFINITY)}get start(){return this.pt}get end(){}get length(){return Number.POSITIVE_INFINITY}contains(e){if(this.pt.equalTo(e))return!0;let n=new s.Vector(this.pt,e);return s.Utils.EQ_0(this.norm.dot(n))&&s.Utils.GE(n.cross(this.norm),0)}coord(e){return _h(e.x,e.y).cross(this.norm)}split(e){return this.contains(e)?this.pt.equalTo(e)?[this]:[new s.Segment(this.pt,e),new s.Ray(e,this.norm)]:[]}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Segment)return Vu(this,e);if(e instanceof s.Arc)return $u(this,e);if(e instanceof s.Line)return ih(this,e);if(e instanceof s.Ray)return d0(this,e);if(e instanceof s.Circle)return rh(this,e);if(e instanceof s.Box)return f0(this,e);if(e instanceof s.Polygon)return lh(this,e)}rotate(e,n=new s.Point){return new s.Ray(this.pt.rotate(e,n),this.norm.rotate(e))}transform(e){return new s.Ray(this.pt.transform(e),this.norm.clone())}get name(){return"ray"}svg(e,n={}){let r=new s.Line(this.pt,this.norm),i=Gn(r,e);return i=i.filter(o=>this.contains(o)),i.length===0||i.length===2?"":new s.Segment(this.pt,i[0]).svg(n)}}s.Ray=Wu;const Z0=(...t)=>new s.Ray(...t);s.ray=Z0;let J0=class gn{constructor(){this.faces=new s.PlanarSet,this.edges=new s.PlanarSet;let e=[...arguments];if(e.length===1&&(e[0]instanceof Array&&e[0].length>0||e[0]instanceof s.Circle||e[0]instanceof s.Box)){let n=e[0];if(e[0]instanceof Array&&e[0].every(r=>r instanceof Array))if(n.every(r=>r instanceof Array&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"))this.faces.add(new s.Face(this,n));else for(let r of n)if(r instanceof Array&&r[0]instanceof Array&&r[0].every(i=>i instanceof Array&&i.length===2&&typeof i[0]=="number"&&typeof i[1]=="number"))for(let i of r)this.faces.add(new s.Face(this,i));else this.faces.add(new s.Face(this,r));else this.faces.add(new s.Face(this,n))}}get box(){return[...this.faces].reduce((e,n)=>e.merge(n.box),new s.Box)}get vertices(){return[...this.edges].map(e=>e.start)}clone(){let e=new gn;for(let n of this.faces)e.addFace(n.shapes);return e}isEmpty(){return this.edges.size===0}isValid(){let e=!0;for(let n of this.faces)if(!n.isSimple(this.edges)){e=!1;break}return e}area(){let e=[...this.faces].reduce((n,r)=>n+r.signedArea(),0);return Math.abs(e)}addFace(...e){let n=new s.Face(this,...e);return this.faces.add(n),n}deleteFace(e){for(let n of e)this.edges.delete(n);return this.faces.delete(e)}recreateFaces(){this.faces.clear();for(let r of this.edges)r.face=null;let e,n=!0;for(;n;){n=!1;for(let r of this.edges)if(r.face===null){e=r,n=!0;break}if(n){let r=e;do r=r.next;while(r.next!==e);this.addFace(e,r)}}}removeChain(e,n,r){if(r.next===n){this.deleteFace(e);return}for(let i=n;i!==r.next;i=i.next)if(e.remove(i),this.edges.delete(i),e.isEmpty()){this.deleteFace(e);break}}addVertex(e,n){let r=n.shape.split(e);if(r[0]===null)return n.prev;if(r[1]===null)return n;let i=new s.Edge(r[0]),l=n.prev;return n.face.insert(i,l),this.edges.delete(n),this.edges.add(i),n.shape=r[1],this.edges.add(n),i}removeEndVertex(e){const n=e.next;n!==e&&(e.face.merge_with_next_edge(e),this.edges.delete(n))}cut(e){let n=this.clone(),r={int_points1:[],int_points2:[],int_points1_sorted:[],int_points2_sorted:[]};for(let o of e.edges)for(let u of n.edges){let a=eh(o,u);for(let c of a)Yn(o,c,r.int_points1),Yn(u,c,r.int_points2)}if(r.int_points1.length===0)return n;r.int_points1_sorted=Et(r.int_points1),r.int_points2_sorted=Et(r.int_points2),Kn(e,r.int_points1_sorted),Kn(n,r.int_points2_sorted),Hu(r),r.int_points1_sorted=Et(r.int_points1),r.int_points2_sorted=Et(r.int_points2),ks(r.int_points1),Cs(r.int_points1,n);for(let o of r.int_points1_sorted)o.edge_before&&o.edge_after&&o.edge_before.bv===o.edge_after.bv&&(r.int_points2[o.id]=-1,o.id=-1);if(r.int_points1=r.int_points1.filter(o=>o.id>=0),r.int_points2=r.int_points2.filter(o=>o.id>=0),r.int_points1.forEach((o,u)=>{o.id=u}),r.int_points2.forEach((o,u)=>{o.id=u}),r.int_points1.length===0)return n;r.int_points1_sorted=Et(r.int_points1),r.int_points2_sorted=Et(r.int_points2);let i,l;for(let o=1;o<r.int_points1_sorted.length;o++)if(l=r.int_points1_sorted[o],i=r.int_points1_sorted[o-1],l.edge_before&&l.edge_before.bv===xl){let u=i.edge_after,a=l.edge_before,c=e.getChain(u,a);dc(r.int_points2[i.id],r.int_points2[l.id],c),c.forEach(f=>n.edges.add(f)),c=c.reverse().map(f=>new s.Edge(f.shape.reverse()));for(let f=0;f<c.length-1;f++)c[f].next=c[f+1],c[f+1].prev=c[f];dc(r.int_points2[l.id],r.int_points2[i.id],c),c.forEach(f=>n.edges.add(f))}return n.recreateFaces(),n}cutWithLine(e){let n=new hn([e]);return this.cut(n)}findEdgeByPoint(e){let n;for(let r of this.faces)if(n=r.findEdgeByPoint(e),n!==void 0)break;return n}splitToIslands(){if(this.isEmpty())return[];let e=this.toArray();e.sort((i,l)=>l.area()-i.area());let n=[...e[0].faces][0].orientation(),r=e.filter(i=>[...i.faces][0].orientation()===n);for(let i of e){let l=[...i.faces][0];if(l.orientation()!==n){for(let o of r)if(l.shapes.every(u=>o.contains(u))){o.addFace(l.shapes);break}}}return r}reverse(){for(let e of this.faces)e.reverse();return this}contains(e){if(e instanceof s.Point){let n=Rr(this,e);return n===xl||n===Ze}else return ph(this,e)}distanceTo(e){if(e instanceof s.Point){let[n,r]=s.Distance.point2polygon(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Circle||e instanceof s.Line||e instanceof s.Segment||e instanceof s.Arc){let[n,r]=s.Distance.shape2polygon(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Polygon){let n=[Number.POSITIVE_INFINITY,new s.Segment],r,i;for(let l of this.edges){let o=n[0];[r,i]=s.Distance.shape2planarSet(l.shape,e.edges,o),s.Utils.LT(r,o)&&(n=[r,i])}return n}}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Line)return ci(e,this);if(e instanceof s.Ray)return lh(e,this);if(e instanceof s.Circle)return bd(e,this);if(e instanceof s.Segment)return Bu(e,this);if(e instanceof s.Arc)return ju(e,this);if(e instanceof s.Polygon)return a0(e,this);if(e instanceof s.Multiline)return u0(e,this)}translate(e){let n=new gn;for(let r of this.faces)n.addFace(r.shapes.map(i=>i.translate(e)));return n}rotate(e=0,n=new s.Point){let r=new gn;for(let i of this.faces)r.addFace(i.shapes.map(l=>l.rotate(e,n)));return r}scale(e,n){let r=new gn;for(let i of this.faces)r.addFace(i.shapes.map(l=>l.scale(e,n)));return r}transform(e=new s.Matrix){let n=new gn;for(let r of this.faces)n.addFace(r.shapes.map(i=>i.transform(e)));return n}toJSON(){return[...this.faces].map(e=>e.toJSON())}toArray(){return[...this.faces].map(e=>e.toPolygon())}dpath(){return[...this.faces].reduce((e,n)=>e+n.svg(),"")}svg(e={}){let n=`
<path ${fn({fillRule:"evenodd",fill:"lightcyan",...e})} d="`;for(let r of this.faces)n+=`
${r.svg()}`;return n+=`" >
</path>`,n}};s.Polygon=J0;const b0=(...t)=>new s.Polygon(...t);s.polygon=b0;const{Circle:Lo,Line:_c,Point:wc,Vector:zi,Utils:Io}=s;class zr{constructor(e){this.circle=e}get inversion_circle(){return this.circle}static inversePoint(e,n){const r=new zi(e.pc,n),i=e.r*e.r,l=r.dot(r);return Io.EQ_0(l)?new wc(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY):e.pc.translate(r.multiply(i/l))}static inverseCircle(e,n){const r=e.pc.distanceTo(n.pc)[0];if(Io.EQ(r,n.r)){let i=e.r*e.r/(2*n.r),l=new zi(e.pc,n.pc);l=l.normalize();let o=e.pc.translate(l.multiply(i));return new _c(o,l)}else{let i=new zi(e.pc,n.pc),l=e.r*e.r/(i.dot(i)-n.r*n.r),o=e.pc.translate(i.multiply(l)),u=Math.abs(l)*n.r;return new Lo(o,u)}}static inverseLine(e,n){const[r,i]=e.pc.distanceTo(n);if(Io.EQ_0(r))return n.clone();{let l=e.r*e.r/(2*r),o=new zi(e.pc,i.end);return o=o.multiply(l/r),new Lo(e.pc.translate(o),l)}}inverse(e){if(e instanceof wc)return zr.inversePoint(this.circle,e);if(e instanceof Lo)return zr.inverseCircle(this.circle,e);if(e instanceof _c)return zr.inverseLine(this.circle,e)}}s.Inversion=zr;const ev=t=>new s.Inversion(t);s.inversion=ev;class E{static point2point(e,n){return e.distanceTo(n)}static point2line(e,n){let r=e.projectionOn(n);return[new s.Vector(e,r).length,new s.Segment(e,r)]}static point2circle(e,n){let[r,i]=e.distanceTo(n.center);if(s.Utils.EQ_0(r))return[n.r,new s.Segment(e,n.toArc().start)];{let l=Math.abs(r-n.r),o=new s.Vector(n.pc,e).normalize().multiply(n.r),u=n.pc.translate(o);return[l,new s.Segment(e,u)]}}static point2segment(e,n){if(n.start.equalTo(n.end))return E.point2point(e,n.start);let r=new s.Vector(n.start,n.end),i=new s.Vector(n.start,e),l=new s.Vector(n.end,e),o=r.dot(i),u=-r.dot(l),a,c;if(s.Utils.GE(o,0)&&s.Utils.GE(u,0)){let f=n.tangentInStart();return a=Math.abs(f.cross(i)),c=n.start.translate(f.multiply(f.dot(i))),[a,new s.Segment(e,c)]}else return o<0?e.distanceTo(n.start):e.distanceTo(n.end)}static point2arc(e,n){let r=new s.Circle(n.pc,n.r),i=[],l,o;return[l,o]=E.point2circle(e,r),o.end.on(n)&&i.push(E.point2circle(e,r)),i.push(E.point2point(e,n.start)),i.push(E.point2point(e,n.end)),E.sort(i),i[0]}static point2edge(e,n){return n.shape instanceof s.Segment?E.point2segment(e,n.shape):E.point2arc(e,n.shape)}static segment2line(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=[];return i.push(E.point2line(e.start,n)),i.push(E.point2line(e.end,n)),E.sort(i),i[0]}static segment2segment(e,n){let r=Wl(e,n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=[],l,o;return[l,o]=E.point2segment(n.start,e),i.push([l,o.reverse()]),[l,o]=E.point2segment(n.end,e),i.push([l,o.reverse()]),i.push(E.point2segment(e.start,n)),i.push(E.point2segment(e.end,n)),E.sort(i),i[0]}static segment2circle(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=new s.Line(e.ps,e.pe),[l,o]=E.point2line(n.center,i);if(s.Utils.GE(l,n.r)&&o.end.on(e))return E.point2circle(o.end,n);{let[u,a]=E.point2circle(e.start,n),[c,f]=E.point2circle(e.end,n);return s.Utils.LT(u,c)?[u,a]:[c,f]}}static segment2arc(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=new s.Line(e.ps,e.pe),l=new s.Circle(n.pc,n.r),[o,u]=E.point2line(l.center,i);if(s.Utils.GE(o,l.r)&&u.end.on(e)){let[p,m]=E.point2circle(u.end,l);if(m.end.on(n))return[p,m]}let a=[];a.push(E.point2arc(e.start,n)),a.push(E.point2arc(e.end,n));let c,f;return[c,f]=E.point2segment(n.start,e),a.push([c,f.reverse()]),[c,f]=E.point2segment(n.end,e),a.push([c,f.reverse()]),E.sort(a),a[0]}static circle2circle(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];if(e.center.equalTo(n.center)){let i=e.toArc(),l=n.toArc();return E.point2point(i.start,l.start)}else{let i=new s.Line(e.center,n.center),l=i.intersect(e),o=i.intersect(n),u=[];return u.push(E.point2point(l[0],o[0])),u.push(E.point2point(l[0],o[1])),u.push(E.point2point(l[1],o[0])),u.push(E.point2point(l[1],o[1])),E.sort(u),u[0]}}static circle2line(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let[i,l]=E.point2line(e.center,n),[o,u]=E.point2circle(l.end,e);return u=u.reverse(),[o,u]}static arc2line(e,n){let r=n.intersect(e);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=new s.Circle(e.center,e.r),[l,o]=E.point2line(i.center,n);if(s.Utils.GE(l,i.r)){let[u,a]=E.point2circle(o.end,i);if(a.end.on(e))return[u,a]}else{let u=[];return u.push(E.point2line(e.start,n)),u.push(E.point2line(e.end,n)),E.sort(u),u[0]}}static arc2circle(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=new s.Circle(e.center,e.r),[l,o]=E.circle2circle(i,n);if(o.start.on(e))return[l,o];{let u=[];return u.push(E.point2circle(e.start,n)),u.push(E.point2circle(e.end,n)),E.sort(u),u[0]}}static arc2arc(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=new s.Circle(e.center,e.r),l=new s.Circle(n.center,n.r),[o,u]=E.circle2circle(i,l);if(u.start.on(e)&&u.end.on(n))return[o,u];{let a=[],c,f;return[c,f]=E.point2arc(e.start,n),f.end.on(n)&&a.push([c,f]),[c,f]=E.point2arc(e.end,n),f.end.on(n)&&a.push([c,f]),[c,f]=E.point2arc(n.start,e),f.end.on(e)&&a.push([c,f.reverse()]),[c,f]=E.point2arc(n.end,e),f.end.on(e)&&a.push([c,f.reverse()]),[c,f]=E.point2point(e.start,n.start),a.push([c,f]),[c,f]=E.point2point(e.start,n.end),a.push([c,f]),[c,f]=E.point2point(e.end,n.start),a.push([c,f]),[c,f]=E.point2point(e.end,n.end),a.push([c,f]),E.sort(a),a[0]}}static point2polygon(e,n){let r=[Number.POSITIVE_INFINITY,new s.Segment];for(let i of n.edges){let[l,o]=E.point2edge(e,i);s.Utils.LT(l,r[0])&&(r=[l,o])}return r}static shape2polygon(e,n){let r=[Number.POSITIVE_INFINITY,new s.Segment];for(let i of n.edges){let[l,o]=e.distanceTo(i.shape);s.Utils.LT(l,r[0])&&(r=[l,o])}return r}static polygon2polygon(e,n){let r=[Number.POSITIVE_INFINITY,new s.Segment];for(let i of e.edges)for(let l of n.edges){let[o,u]=i.shape.distanceTo(l.shape);s.Utils.LT(o,r[0])&&(r=[o,u])}return r}static box2box_minmax(e,n){let r=Math.max(Math.max(e.xmin-n.xmax,0),Math.max(n.xmin-e.xmax,0)),i=Math.max(Math.max(e.ymin-n.ymax,0),Math.max(n.ymin-e.ymax,0)),l=r*r+i*i,o=e.merge(n),u=o.xmax-o.xmin,a=o.ymax-o.ymin,c=u*u+a*a;return[l,c]}static minmax_tree_process_level(e,n,r,i){let l,o;for(let f of n)[l,o]=E.box2box_minmax(e.box,f.item.key),f.item.value instanceof s.Edge?i.insert([l,o],f.item.value.shape):i.insert([l,o],f.item.value),s.Utils.LT(o,r)&&(r=o);if(n.length===0)return r;let u=n.map(f=>f.left.isNil()?void 0:f.left).filter(f=>f!==void 0),a=n.map(f=>f.right.isNil()?void 0:f.right).filter(f=>f!==void 0),c=[...u,...a].filter(f=>{let[p,m]=E.box2box_minmax(e.box,f.max);return s.Utils.LE(p,r)});return r=E.minmax_tree_process_level(e,c,r,i),r}static minmax_tree(e,n,r){let i=new ei,l=[n.index.root],o=r<Number.POSITIVE_INFINITY?r*r:Number.POSITIVE_INFINITY;return o=E.minmax_tree_process_level(e,l,o,i),i}static minmax_tree_calc_distance(e,n,r){let i,l;if(n!=null&&!n.isNil()){if([i,l]=E.minmax_tree_calc_distance(e,n.left,r),l)return[i,l];if(s.Utils.LT(i[0],Math.sqrt(n.item.key.low)))return[i,!0];let[o,u]=E.distance(e,n.item.value);return s.Utils.LT(o,i[0])&&(i=[o,u]),[i,l]=E.minmax_tree_calc_distance(e,n.right,i),[i,l]}return[r,!1]}static shape2planarSet(e,n,r=Number.POSITIVE_INFINITY){let i=[r,new s.Segment],l=!1;if(n instanceof s.PlanarSet){let o=E.minmax_tree(e,n,r);[i,l]=E.minmax_tree_calc_distance(e,o.root,i)}return i}static sort(e){e.sort((n,r)=>s.Utils.LT(n[0],r[0])?-1:s.Utils.GT(n[0],r[0])?1:0)}static distance(e,n){return e.distanceTo(n)}static shape2multiline(e,n){let r=[Number.POSITIVE_INFINITY,new s.Segment];for(let i of n){let[l,o]=E.distance(e,i.shape);s.Utils.LT(l,r[0])&&(r=[l,o])}return r}static multiline2multiline(e,n){let r=[Number.POSITIVE_INFINITY,new s.Segment];for(let i of e)for(let l of n){let[o,u]=E.distance(i.shape,l.shape);s.Utils.LT(o,r[0])&&(r=[o,u])}return r}}s.Distance=E;const{Multiline:tv,Point:xh,Segment:nv,Polygon:Eh}=s;function Qu(t){return new xh(t.split(" ").map(Number))}function Ph(t){return t.split(", ").map(Qu)}function Gu(t){const e=Ph(t);let n=[];for(let r=0;r<e.length-1;r++)n.push(new nv(e[r],e[r+1]));return new tv(n)}function rv(t){return t.replace(/\(\(/,"").replace(/\)\)$/,"").split("), (").map(Gu)}function Th(t){const e=t.replace(/\(\(/,"").replace(/\)\)$/,"").split("), ("),n=new Eh;let r;return e.forEach((i,l)=>{let o=i.split(", ").map(a=>new xh(a.split(" ").map(Number)));const u=n.addFace(o);l===0?r=u.orientation():u.orientation()===r&&u.reverse()}),n}function iv(t){const n=t.split(/\)\), \(\(/).map(l=>"(("+l+"))").map(Th),r=new Eh;return n.reduce((l,o)=>[...l,...o==null?void 0:o.faces],[]).forEach(l=>r.addFace([...l==null?void 0:l.shapes])),r}function lv(t){if(t.startsWith("POLYGON")){const e=t.replace(/^POLYGON /,"");return Th(e)}else{const e=t.replace(/^MULTIPOLYGON \(\(\((.*)\)\)\)$/,"$1");return iv(e)}}function ov(t){return t.split(`
`).map(n=>n.match(/\(([^)]+)\)/)[1]).map(Qu)}function sv(t){return t.split(`
`).map(n=>n.match(/\(([^)]+)\)/)[1]).map(Gu).reduce((n,r)=>[...n,...r],[])}function kh(t){if(t.startsWith("POINT")){const e=t.replace(/^POINT \(/,"").replace(/\)$/,"");return Qu(e)}else if(t.startsWith("MULTIPOINT")){const e=t.replace(/^MULTIPOINT \(/,"").replace(/\)$/,"");return Ph(e)}else if(t.startsWith("LINESTRING")){const e=t.replace(/^LINESTRING \(/,"").replace(/\)$/,"");return Gu(e)}else if(t.startsWith("MULTILINESTRING")){const e=t.replace(/^MULTILINESTRING /,"");return rv(e)}else{if(t.startsWith("POLYGON")||t.startsWith("MULTIPOLYGON"))return lv(t);if(t.startsWith("GEOMETRYCOLLECTION")){const e=/(?<type>POINT|LINESTRING|POLYGON|MULTIPOINT|MULTILINESTRING|MULTIPOLYGON) \((?:[^\(\)]|\([^\)]*\))*\)/g,n=t.match(e);return n[0].startsWith("GEOMETRYCOLLECTION")&&(n[0]=n[0].replace("GEOMETRYCOLLECTION (","")),n.map(kh).map(i=>i instanceof Array?i:[i]).reduce((i,l)=>[...i,...l],[])}else{if(Ch(t))return ov(t);if(Lh(t))return sv(t)}}return[]}function Ch(t){var e;return(e=t.split(`
`))==null?void 0:e.every(n=>n.includes("POINT"))}function Lh(t){var e;return(e=t.split(`
`))==null?void 0:e.every(n=>n.includes("LINESTRING"))}function uv(t){return t.startsWith("POINT")||Ch(t)||t.startsWith("LINESTRING")||Lh(t)||t.startsWith("MULTILINESTRING")||t.startsWith("POLYGON")||t.startsWith("MULTIPOINT")||t.startsWith("MULTIPOLYGON")||t.startsWith("GEOMETRYCOLLECTION")}s.isWktString=uv;s.parseWKT=kh;s.BooleanOperations=T0;s.Relations=mh;function Bt(t,e,n){return new W((t.x-e.x)*n,(t.y-e.y)*n)}function Yl(t,e,n){return new W(t.x/n+e.x,t.y/n+e.y)}var j=(t=>(t.canvasSize="canvasSize",t.canvas="canvas",t.context="context",t.screenMouseLocation="screenMouseLocation",t.activeTool="activeTool",t.entities="entities",t.activeEntity="activeEntity",t.shouldDrawCursor="shouldDrawCursor",t.helperEntities="helperEntities",t.debugEntities="debugEntities",t.angleStep="angleStep",t.screenOffset="screenOffset",t.screenScale="screenScale",t.panStartLocation="panStartLocation",t.snapPoint="snapPoint",t.snapPointOnAngleGuide="snapPointOnAngleGuide",t.hoveredSnapPoints="hoveredSnapPoints",t.lastDrawTimestamp="lastDrawTimestamp",t))(j||{});function av(){let t=[],e=t.length;function n(){return t[e-1]}return{push:r=>(t.length=e,t[e++]=r,console.log("stack push",JSON.stringify(t,null,2)),n()),replace:r=>(t[e-1]=r,console.log("stack replace",JSON.stringify(t,null,2)),n()),peek:()=>n(),undo:()=>(e>1&&(e-=1),console.log("stack undo",JSON.stringify(t,null,2)),n()),redo:()=>(e<t.length&&(e+=1),console.log("stack redo",JSON.stringify(t,null,2)),n()),clear:r=>{e=e-t.slice(0,e).filter(i=>i.variable===r).length,t=t.filter(i=>i.variable!==r)}}}function Xn(t){const e=[];for(const n of t)n&&e.push(n);return e}function Sc(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(t.toString()!=="[object Object]")return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const cv="[object RegExp]",fv="[object String]",dv="[object Number]",hv="[object Boolean]",xc="[object Arguments]",pv="[object Symbol]",mv="[object Date]",gv="[object Map]",vv="[object Set]",yv="[object Array]",_v="[object Function]",wv="[object ArrayBuffer]",No="[object Object]",Sv="[object Error]",xv="[object DataView]",Ev="[object Uint8Array]",Pv="[object Uint8ClampedArray]",Tv="[object Uint16Array]",kv="[object Uint32Array]",Cv="[object BigUint64Array]",Lv="[object Int8Array]",Iv="[object Int16Array]",Nv="[object Int32Array]",Av="[object BigInt64Array]",Ov="[object Float32Array]",Mv="[object Float64Array]";function Ec(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Pc(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function Rv(t,e){if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return st(t,e)}return st(t,e)}function st(t,e,n){if(Object.is(t,e))return!0;let r=Pc(t),i=Pc(e);if(r===xc&&(r=No),i===xc&&(i=No),r!==i)return!1;switch(r){case fv:return t.toString()===e.toString();case dv:{const u=t.valueOf(),a=e.valueOf();return u===a||Number.isNaN(u)&&Number.isNaN(a)}case hv:case mv:case pv:return Object.is(t.valueOf(),e.valueOf());case cv:return t.source===e.source&&t.flags===e.flags;case _v:return t===e}n=n??new Map;const l=n.get(t),o=n.get(e);if(l!=null&&o!=null)return l===e;n.set(t,e),n.set(e,t);try{switch(r){case gv:{if(t.size!==e.size)return!1;for(const[u,a]of t.entries())if(!e.has(u)||!st(a,e.get(u),n))return!1;return!0}case vv:{if(t.size!==e.size)return!1;const u=Array.from(t.values()),a=Array.from(e.values());for(let c=0;c<u.length;c++){const f=u[c],p=a.findIndex(m=>st(f,m,n));if(p===-1)return!1;a.splice(p,1)}return!0}case yv:case Ev:case Pv:case Tv:case kv:case Cv:case Lv:case Iv:case Nv:case Av:case Ov:case Mv:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let u=0;u<t.length;u++)if(!st(t[u],e[u],n))return!1;return!0}case wv:return t.byteLength!==e.byteLength?!1:st(new Uint8Array(t),new Uint8Array(e),n);case xv:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:st(t.buffer,e.buffer,n);case Sv:return t.name===e.name&&t.message===e.message;case No:{if(!(st(t.constructor,e.constructor,n)||Sc(t)&&Sc(e)))return!1;const a=[...Object.keys(t),...Ec(t)],c=[...Object.keys(e),...Ec(e)];if(a.length!==c.length)return!1;for(let f=0;f<a.length;f++){const p=a[f],m=t[p];if(!Object.prototype.hasOwnProperty.call(e,p))return!1;const v=e[p];if(!st(m,v,n))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}let Ih=new W(0,0),Nh=null,Yu=new W(0,0),Ah=K.Line,ti=[],Oh=[],ql=[],Pl=null,Mh=!1,Rh=[],zv=[],Tl=45,ni=new W(0,0),ri=1,zh=null,Uh=null,Dh=null,Fh=[],Bh=0;const jh=()=>Ih,Uv=()=>Nh,Vh=()=>Yu,at=()=>Ah,it=()=>ti,Ao=()=>ql,pn=()=>Pl,Dv=()=>Mh,Fv=()=>Rh,Bv=()=>zv,zs=()=>Tl,Kl=()=>ni,Zn=()=>ri,jv=()=>zh,Us=()=>Uh,$h=()=>Dh,Ds=()=>Fh,Vv=()=>Bh,Xl=()=>Yl(Yu,ni,ri),$v=()=>ti.filter(t=>!ql.includes(t.id)),Fn=t=>ql.includes(t.id),qu=t=>Oh.includes(t.id),Hv=t=>Ih=t,Wv=t=>Nh=t,Qv=t=>Yu=t,Er=t=>{qh(j.activeTool),Ah=t},Zl=t=>{pi(j.entities,ti),ti=t},lt=t=>{pi(j.activeEntity,Pl),Pl=t},Hh=t=>Oh=t,ct=t=>ql=t,Ku=t=>Mh=t,Gv=t=>Rh=t,Yv=t=>{qh(j.activeTool),pi(j.angleStep,Tl),Tl=t},Wh=t=>{pi(j.screenOffset,ni),ni=t},qv=t=>{pi(j.screenScale,ri),ri=t},Xu=t=>zh=t,Kv=t=>Uh=t,Xv=t=>Dh=t,Zv=t=>Fh=t,Jv=t=>Bh=t,bv=[j.activeTool,j.angleStep],ey=[j.entities,j.activeEntity,j.angleStep,j.screenOffset,j.screenScale],ty=[j.angleStep,j.screenOffset,j.screenScale],Nn=av();function pi(t,e){if(!ey.includes(t))return;const n=Nn.peek();if(!Rv(e,n==null?void 0:n.value)){if(t!==j.activeEntity&&Nn.clear(j.activeEntity),ty.includes(t)&&(n==null?void 0:n.variable)===t){Nn.replace({variable:t,value:e});return}Nn.push({variable:t,value:e})}}function Qh(t){const e=t.variable,n=t.value;switch(e){case j.entities:ti=n;break;case j.activeEntity:Pl=n;break;case j.angleStep:Tl=n;break;case j.screenOffset:ni=n;break;case j.screenScale:ri=n;break}}function Gh(){const t=Nn.undo();t&&Qh(t)}function Yh(){const t=Nn.redo();t&&Qh(t)}function qh(t){bv.includes(t)&&(console.log("triggering react update for: ",t),window.dispatchEvent(new CustomEvent(t)))}const Fs=1e-6,Ui=10,Di=30,ny="#111",ry="#fff",iy="#666666",ly="#FFFF00",Zu=15,oy=15,Kh=15,z=15,Ju=1e3,sy=3,uy="#b6ff9a",ay="#6899f3",cy=.1;var Xh={exports:{}};(function(t,e){(function(n,r){r()})(ur,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,p){var m=new XMLHttpRequest;m.open("GET",c),m.responseType="blob",m.onload=function(){a(m.response,f,p)},m.onerror=function(){console.error("could not download file")},m.send()}function i(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function l(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ur=="object"&&ur.global===ur?ur:void 0,u=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(c,f,p){var m=o.URL||o.webkitURL,v=document.createElement("a");f=f||c.name||"download",v.download=f,v.rel="noopener",typeof c=="string"?(v.href=c,v.origin===location.origin?l(v):i(v.href)?r(c,f,p):l(v,v.target="_blank")):(v.href=m.createObjectURL(c),setTimeout(function(){m.revokeObjectURL(v.href)},4e4),setTimeout(function(){l(v)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,p){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,p),f);else if(i(c))r(c,f,p);else{var m=document.createElement("a");m.href=c,m.target="_blank",setTimeout(function(){l(m)})}}:function(c,f,p,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,p);var v=c.type==="application/octet-stream",w=/constructor/i.test(o.HTMLElement)||o.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||v&&w||u)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var h=I.result;h=_?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=h:location=h,m=null},I.readAsDataURL(c)}else{var g=o.URL||o.webkitURL,d=g.createObjectURL(c);m?m.location=d:location.href=d,m=null,setTimeout(function(){g.revokeObjectURL(d)},4e4)}});o.saveAs=a.saveAs=a,t.exports=a})})(Xh);var fy=Xh.exports;function dy(t,e){let n=e.x,r=e.y,i=0,l=0;const o=[];t.forEach(c=>{const f=c.getBoundingBox();f&&(n=Math.min(n,f.xmin),r=Math.min(r,f.ymin),i=Math.max(i,f.xmax),l=Math.max(l,f.ymax))}),console.log("exporting svg",o);const u=i-n+Ui*2,a=l-r+Ui*2;return t.forEach(c=>{const f=c.getShape();if(!f)return;const m=f.translate(new yh(new W(n,r),new W(Ui,Ui))).svg();m&&o.push(m)}),`
      <svg width="${u}" height="${a}" xmlns="http://www.w3.org/2000/svg">
        <rect x="0" y="0" width="${u}" height="${a}" fill="white" />
        ${o.join("")}
      </svg>
    `}function hy(){const t=it(),e=jh(),n=dy(t,e),r=new Blob([n],{type:"text/svg;charset=utf-8"});fy.saveAs(r,"open-web-cad--drawing.svg")}const py=()=>{const[t,e]=O.useState(K.Line),[n,r]=O.useState(45),i=O.useCallback(()=>{console.log("fetching state updates from outside: ",{activeTool:at(),angleStep:zs()}),e(at()),r(zs())},[]);O.useEffect(()=>(window.addEventListener(j.activeTool,i),window.addEventListener(j.angleStep,i),()=>{window.removeEventListener(j.activeTool,i),window.removeEventListener(j.angleStep,i)}),[i]);const l=O.useCallback(u=>{console.log("set active tool: ",u),e(u),Er(u),lt(null),ct([])},[]),o=O.useCallback(u=>{r(u),Yv(u)},[]);return B.jsxs("div",{className:"controls absolute top-0 left-0 flex flex-col gap-1 m-1",children:[B.jsx(Le,{title:"Select (s)",icon:xt.Direction,onClick:()=>l(K.Select),active:t===K.Select}),B.jsx(Le,{title:"Line (l)",icon:xt.Line,onClick:()=>l(K.Line),active:t===K.Line}),B.jsx(Le,{title:"Rectangle (r)",icon:xt.Square,onClick:()=>l(K.Rectangle),active:t===K.Rectangle}),B.jsx(Le,{title:"Circle (c)",icon:xt.Circle,onClick:()=>l(K.Circle),active:t===K.Circle}),B.jsx(Le,{className:"mt-2",title:"Undo (ctrl + z)",icon:xt.AntiClockwise,onClick:()=>Gh()}),B.jsx(Le,{title:"Redo (ctrl + shift + z",icon:xt.Clockwise,onClick:()=>Yh()}),B.jsxs(Qg,{className:"mt-2",title:"Snap angles",label:n+"",children:[B.jsx(Le,{title:"Add guide every 5 degrees",label:"5",onClick:()=>o(5),active:n===5}),B.jsx(Le,{title:"Add guide every 15 degrees",label:"15",onClick:()=>o(15),active:n===15}),B.jsx(Le,{title:"Add guide every 30 degrees",label:"30",onClick:()=>o(30),active:n===30}),B.jsx(Le,{title:"Add guide every 45 degrees",label:"45",onClick:()=>o(45),active:n===45}),B.jsx(Le,{title:"Add guide every 90 degrees",label:"90",onClick:()=>o(90),active:n===90})]}),B.jsx(Le,{className:"mt-2",title:"Export SVG",label:"SVG",onClick:()=>hy()})]})};function my(){return B.jsx("div",{children:B.jsx(py,{})})}var $=(t=>(t.AngleGuide="AngleGuide",t.LineEndPoint="LineEndPoint",t.Intersection="Intersection",t.CircleCenter="CircleCenter",t.CircleCardinal="CircleCardinal",t.CircleTangent="CircleTangent",t.LineMidPoint="LineMidPoint",t.Point="Point",t))($||{}),kl=(t=>(t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Back=3]="Back",t[t.Forward=4]="Forward",t))(kl||{});function Tc(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];for(let i=n;i<t.length;i++){if(n===i)continue;const l=t[i];e.push(...r.getIntersections(l))}}return e}function Zh(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Bs(t,e){let n=null,r=1/0;return t.forEach(i=>{const l=Zh(i.point,e);l<r&&(r=l,n=i)}),[r,n]}function js(t,e,n){const[r,i]=Bs(t.filter(u=>u.type!==$.AngleGuide),e);if(r<n)return i;const[l,o]=Bs(t.filter(u=>u.type===$.AngleGuide),e);return l<n?o:null}class Vs{constructor(e,n){Ce(this,"id",crypto.randomUUID());Ce(this,"segment",null);Ce(this,"startPoint",null);e instanceof Zi?(this.startPoint=e.start,this.segment=e):e&&n?(this.startPoint=e,this.segment=new Zi(e,n)):e&&(this.startPoint=e)}send(e){if(this.startPoint){if(!this.segment)return this.segment=new Zi(this.startPoint,e),!0}else return this.startPoint=e,!1;return!0}draw(e){if(!this.startPoint)return;let n,r;this.segment?(n=this.segment.start,r=this.segment.end):(n=this.startPoint,r=new W(e.worldMouseLocation.x,e.worldMouseLocation.y));const i=Bt(n,e.screenOffset,e.screenZoom),l=Bt(r,e.screenOffset,e.screenZoom);e.context.beginPath(),e.context.moveTo(i.x,i.y),e.context.lineTo(l.x,l.y),e.context.stroke()}intersectsWithBox(e){return this.segment?this.segment.intersect(e).length>0:!1}isContainedInBox(e){return this.segment?e.contains(this.segment):!1}getBoundingBox(){return this.segment?this.segment.box:null}getShape(){return this.segment}getSnapPoints(){var e,n;return!((e=this.segment)!=null&&e.start)||!((n=this.segment)!=null&&n.end)?[]:[{point:this.segment.start,type:$.LineEndPoint},{point:this.segment.end,type:$.LineEndPoint},{point:this.segment.middle(),type:$.LineMidPoint}]}getIntersections(e){const n=e.getShape();return!this.segment||!n?[]:this.segment.intersect(n)}getFirstPoint(){return this.startPoint}distanceTo(e){return this.segment?this.segment.distanceTo(e):null}getSvgString(){var e;return((e=this.segment)==null?void 0:e.svg())||null}}function gy(t,e){let n=0;const r=[];for(;n<t;)r.push(e(n)),n++;return r}function vy(t,e){return gy(180/e,n=>{const i=n*e*(Math.PI/180),l=t.x+Math.cos(i),o=t.y+Math.sin(i);return new Vs(new W(t.x-1e4*(l-t.x),t.y-1e4*(o-t.y)),new W(t.x+1e4*(l-t.x),t.y+1e4*(o-t.y)))})}function bu(t,e){let n=null,r=[Number.MAX_SAFE_INTEGER,null];return e.forEach(i=>{const l=i.distanceTo(t);l&&l[0]<r[0]&&(r=l,n=i)}),[r[0],r[1],n]}function yy(t,e,n,r,i){let l=null,o=null;const u=[],a=[];e.forEach(v=>{const w=vy(v,r),_=bu(n,w);_[0]<oy&&(a.push(_[2]),u.push({point:_[1].start,type:$.AngleGuide}))});const c=[...t.flatMap(v=>v.getSnapPoints()),...Tc(Xn(t)).map(v=>({point:v,type:$.Intersection}))],f=js(c,n,i);f&&(l=f);const p=[...u,...Tc([...Xn(t),...a]).map(v=>({point:v,type:$.Intersection}))],m=js(p,n,i);return m&&(o=m),{angleGuides:a,entitySnapPoint:l,angleSnapPoint:o}}function lr(t,e,n,r=ry,i=[]){t.strokeStyle=r,t.lineWidth=1,t.setLineDash(i),e&&(t.lineWidth=2),n&&t.setLineDash([5,5])}function _y(t,e){e.forEach(n=>{lr(t.context,qu(n),Fn(n)),n.draw(t)})}function wy(t,e){e.forEach(n=>{lr(t.context,qu(n),Fn(n),"#FF5500"),n.draw(t)})}function Sy(t,e,n){if(!e)return;const r=Bt(e.point,t.screenOffset,t.screenZoom);lr(t.context,!1,!1,ly);const i=t.context;switch(n&&(i.beginPath(),i.moveTo(r.x-z/2,r.y),i.lineTo(r.x+z/2,r.y),i.moveTo(r.x,r.y-z/2),i.lineTo(r.x,r.y+z/2),i.stroke()),e.type){case $.LineEndPoint:i.strokeRect(r.x-z/2,r.y-z/2,z,z);break;case $.LineMidPoint:i.beginPath(),i.moveTo(r.x,r.y-z/2),i.lineTo(r.x-z/2,r.y+z/2),i.lineTo(r.x+z/2,r.y+z/2),i.closePath(),i.stroke();break;case $.AngleGuide:i.beginPath(),i.moveTo(r.x-z/2,r.y-z/2),i.lineTo(r.x+z/2,r.y-z/2),i.lineTo(r.x-z/2,r.y+z/2),i.lineTo(r.x+z/2,r.y+z/2),i.closePath(),i.stroke();break;case $.Intersection:i.beginPath(),i.moveTo(r.x-z/2,r.y-z/2),i.lineTo(r.x+z/2,r.y+z/2),i.moveTo(r.x+z/2,r.y-z/2),i.lineTo(r.x-z/2,r.y+z/2),i.stroke();break;case $.CircleCenter:i.beginPath(),i.arc(r.x,r.y,z/2,0,2*Math.PI),i.stroke();break;case $.CircleCardinal:i.beginPath(),i.moveTo(r.x,r.y-z/2),i.lineTo(r.x-z/2,r.y),i.lineTo(r.x,r.y+z/2),i.lineTo(r.x+z/2,r.y),i.closePath(),i.stroke();break}}function xy(t,e){e.forEach(n=>{lr(t.context,qu(n),Fn(n),iy,[1,5]),n.draw(t)})}function Ey(t,e){lr(t.context,!1,!1),e==null||e.draw(t)}function Py(t,e){e&&(lr(t.context,!1,!1),t.context.beginPath(),t.context.moveTo(t.screenMouseLocation.x,t.screenMouseLocation.y-Di),t.context.lineTo(t.screenMouseLocation.x,t.screenMouseLocation.y+Di),t.context.moveTo(t.screenMouseLocation.x-Di,t.screenMouseLocation.y),t.context.lineTo(t.screenMouseLocation.x+Di,t.screenMouseLocation.y),t.context.stroke())}function Ty(t){var e,n;t.canvasSize!==null&&t.context&&(t.context.fillStyle=ny,t.context.fillRect(0,0,(e=t.canvasSize)==null?void 0:e.x,(n=t.canvasSize)==null?void 0:n.y))}function ky(t,e){return Math.abs(t.x-e.x)<Fs&&Math.abs(t.y-e.y)<Fs}function Cy(t,e,n,r,i,l,o,u,a,c){Ty(t),xy(t,r),_y(t,e),wy(t,n),Ey(t,i);const[,f]=Bs(Xn([l,o]),a),p=!!f&&u.some(m=>m.milliSecondsHovered>Ju&&ky(m.snapPoint.point,f.point));Sy(t,f,p),Py(t,c)}function Ly(t){const e=it();let r=pn();r||(r=new Vs,lt(r)),r.send(t)&&(Zl([...e,r]),r=new Vs,lt(r),r.send(t))}class Iy{constructor(){Ce(this,"id",crypto.randomUUID());Ce(this,"rectangle",null);Ce(this,"startPoint",null)}send(e){if(this.startPoint){if(!this.rectangle)return this.rectangle=new en(Math.min(this.startPoint.x,e.x),Math.min(this.startPoint.y,e.y),Math.max(this.startPoint.x,e.x),Math.max(this.startPoint.y,e.y)),!0}else return this.startPoint=e,!1;return!0}draw(e){if(!this.startPoint&&!this.rectangle)return;let n,r;this.rectangle?(n=this.rectangle.high,r=this.rectangle.low):(n=this.startPoint,r=new W(e.worldMouseLocation.x,e.worldMouseLocation.y));const i=Bt(n,e.screenOffset,e.screenZoom),l=Bt(r,e.screenOffset,e.screenZoom);e.context.beginPath(),e.context.strokeRect(i.x,i.y,l.x-i.x,l.y-i.y)}intersectsWithBox(e){return this.rectangle?mh.relate(this.rectangle,e).B2B.length>0:!1}isContainedInBox(e){return this.rectangle?e.contains(this.rectangle):!1}distanceTo(e){if(!this.rectangle)return null;const n=this.rectangle.toSegments().map(i=>i.distanceTo(e));let r=[Number.MAX_SAFE_INTEGER,null];return n.forEach(i=>{i[0]<r[0]&&(r=i)}),r}getBoundingBox(){return this.rectangle?this.rectangle:null}getShape(){return this.rectangle}getSnapPoints(){if(!this.rectangle)return[];const e=this.rectangle.toPoints(),n=this.rectangle.toSegments();return[{point:e[0],type:$.LineEndPoint},{point:e[1],type:$.LineEndPoint},{point:e[2],type:$.LineEndPoint},{point:e[3],type:$.LineEndPoint},{point:n[0].middle(),type:$.LineMidPoint},{point:n[1].middle(),type:$.LineMidPoint},{point:n[2].middle(),type:$.LineMidPoint},{point:n[3].middle(),type:$.LineMidPoint}]}getIntersections(e){const n=e.getShape();return!this.rectangle||!n?[]:this.rectangle.toSegments().flatMap(r=>r.intersect(n))}getFirstPoint(){return this.startPoint}getSvgString(){var n,r;const e=(n=this.rectangle)==null?void 0:n.svg();return((r=e==null?void 0:e.replace(/width=([0-9]+)/g,'width="$1"'))==null?void 0:r.replace(/height=([0-9]+)/g,'height="$1"'))||null}}function Ny(t){const e=it();let r=pn();r||(r=new Iy,lt(r)),r.send(new W(t.x,t.y))&&(Zl([...e,r]),lt(null))}class Ay{constructor(){Ce(this,"id",crypto.randomUUID());Ce(this,"circle",null);Ce(this,"centerPoint",null)}send(e){if(this.centerPoint){if(!this.circle)return this.circle=Sh(this.centerPoint,this.centerPoint.distanceTo(e)[0]),!0}else return this.centerPoint=vh(e.x,e.y),!1;return!0}draw(e){if(!this.centerPoint)return;let n;this.circle?n=this.circle.r:n=this.centerPoint.distanceTo(e.worldMouseLocation)[0];const r=Bt(this.centerPoint,e.screenOffset,e.screenZoom),i=n*e.screenZoom;e.context.beginPath(),e.context.arc(r.x,r.y,i,0,2*Math.PI),e.context.stroke()}intersectsWithBox(e){return this.circle?this.circle.intersect(e).length>0:!1}isContainedInBox(e){return this.circle?e.contains(this.circle):!1}getBoundingBox(){return this.circle?this.circle.box:null}getShape(){return this.circle}getSnapPoints(){return this.centerPoint===null||this.circle===null?[]:[{point:this.centerPoint,type:$.CircleCenter},{point:new W(this.centerPoint.x+this.circle.r,this.centerPoint.y),type:$.CircleCardinal},{point:new W(this.centerPoint.x-this.circle.r,this.centerPoint.y),type:$.CircleCardinal},{point:new W(this.centerPoint.x,this.centerPoint.y+this.circle.r),type:$.CircleCardinal},{point:new W(this.centerPoint.x,this.centerPoint.y-this.circle.r),type:$.CircleCardinal}]}getIntersections(e){const n=e.getShape();return!this.circle||!n?[]:this.circle.intersect(n)}getFirstPoint(){return this.centerPoint}distanceTo(e){return this.circle?this.circle.distanceTo(e):null}getSvgString(){var e;return((e=this.circle)==null?void 0:e.svg())||null}}function Oy(t){const e=it();let r=pn();r||(r=new Ay,lt(r)),r.send(t)&&(Zl([...e,r]),lt(null))}class kc{constructor(){Ce(this,"id",crypto.randomUUID());Ce(this,"rectangle",null);Ce(this,"startPoint",null)}send(e){if(this.startPoint){if(!this.rectangle)return this.rectangle=new en(Math.min(this.startPoint.x,e.x),Math.min(this.startPoint.y,e.y),Math.max(this.startPoint.x,e.x),Math.max(this.startPoint.y,e.y)),!0}else return this.startPoint=e,!1;return!0}draw(e){if(!this.startPoint&&!this.rectangle)return;let n,r;this.rectangle?(n=this.rectangle.high,r=this.rectangle.low):(n=this.startPoint,r=new W(e.worldMouseLocation.x,e.worldMouseLocation.y));const i=n.x>r.x,l=Bt(n,e.screenOffset,e.screenZoom),o=Bt(r,e.screenOffset,e.screenZoom);e.context.setLineDash([5,5]),e.context.strokeStyle=i?uy:ay,e.context.lineWidth=1,e.context.beginPath(),e.context.strokeRect(l.x,l.y,o.x-l.x,o.y-l.y)}isIntersectionSelection(){var e;return!this.rectangle||!this.startPoint?!1:Math.abs(this.startPoint.x-((e=this.rectangle)==null?void 0:e.xmin))>Fs}intersectsWithBox(e){return this.rectangle?this.rectangle.intersect(e):!1}isContainedInBox(e){return this.rectangle?e.contains(this.rectangle):!1}getBoundingBox(){return this.rectangle?this.rectangle:null}getShape(){return this.rectangle}getSnapPoints(){return[]}getIntersections(){return[]}getFirstPoint(){return this.startPoint}distanceTo(){return null}getSvgString(){var e;return((e=this.rectangle)==null?void 0:e.svg())||null}}function My(t,e,n){const r=pn();let i=null;r instanceof kc&&(i=r);const l=bu(t,it());if(l&&l[0]<Kh&&!i){const u=l[2];console.log("selecting entity close to the mouse: ",u),!e&&!n&&ct([]),e?Fn(u)?ct(Ao().filter(a=>a!==u.id)):ct([...Ao(),u.id]):ct([...Ao(),u.id])}i||(console.log("Start a new selection rectangle drag: ",i),i=new kc,lt(i));const o=i.send(new W(t.x,t.y));if(Hh([]),o){console.log("Finish selection: ",i);const u=i.isIntersectionSelection(),a=Xn(it().map(c=>{if(u){if(c.intersectsWithBox(i.getBoundingBox())||c.isContainedInBox(i.getBoundingBox()))return e&&Fn(c)?null:c.id}else if(c.isContainedInBox(i.getBoundingBox()))return e&&Fn(c)?null:c.id;return null}));ct(a),console.log("Set active entity to null"),lt(null)}}function Ry(t,e,n,r,i){if(!t)return;const l=e.at(-1);let o;l?Zh(t.point,l.snapPoint.point)<r?o=[...e.slice(0,e.length-1),{...l,milliSecondsHovered:l.milliSecondsHovered+i}]:l.milliSecondsHovered>=Ju?o=[...e,{snapPoint:t,milliSecondsHovered:i}]:o=[...e.slice(0,e.length-1),{snapPoint:t,milliSecondsHovered:i}]:o=[{snapPoint:t,milliSecondsHovered:i}];const u=o.slice(0,sy);n(u)}Oo.createRoot(document.getElementById("root")).render(B.jsx(yp.StrictMode,{children:B.jsx(my,{})}));function zy(){Ku(!0)}function Uy(t){const e=Kl();Ku(!0),Qv(new W(t.clientX,t.clientY));const n=jv(),r=Zn();if(n){const i=new W(e.x-(t.clientX-n.x)/r,e.y-(t.clientY-n.y)/r);Xu(new W(t.clientX,t.clientY)),Wh(i)}$y()}function Dy(){Ku(!1)}function Fy(t){const e=Kl(),n=Zn(),r=Xl(),i=n*(1-cy*(t.deltaY/Math.abs(t.deltaY)));qv(i);const l=Yl(Vh(),e,i);Wh(new W(e.x+(r.x-l.x),e.y+(r.y-l.y)))}function By(t){t.button===kl.Middle&&Xu(new W(t.clientX,t.clientY))}function jy(t){if(t.button===kl.Middle&&Xu(null),t.button===kl.Left){const e=at(),n=it(),r=pn(),i=Us(),l=$h(),o=Xl(),u=Zn(),a=Kl();console.log("mouse up",{activeTool:e,activeEntity:r,entities:n,mouse:{x:t.clientX,y:t.clientY}});const c=js(Xn([i,l]),o,Zu/u),f=Yl(new W(t.clientX,t.clientY),a,u),p=c?c.point:f;at()===K.Line&&Ly(p),at()===K.Rectangle&&Ny(p),at()===K.Circle&&Oy(p),at()===K.Select&&My(p,t.ctrlKey,t.shiftKey)}}function Vy(t){t.key==="Escape"?(t.preventDefault(),lt(null),Hh([]),ct([])):t.key==="Delete"?(t.preventDefault(),Zl($v()),ct([])):t.key==="z"&&t.ctrlKey&&!t.shiftKey?(t.preventDefault(),Gh()):t.key==="z"&&t.ctrlKey&&t.shiftKey?(t.preventDefault(),Yh()):t.key==="l"?(t.preventDefault(),Er(K.Line)):t.key==="c"?(t.preventDefault(),Er(K.Circle)):t.key==="r"?(t.preventDefault(),Er(K.Rectangle)):t.key==="s"&&(t.preventDefault(),Er(K.Select))}function $y(){const t=at(),e=zs(),n=pn(),r=it(),i=Zn(),l=Xl(),a=Ds().filter(c=>c.milliSecondsHovered>Ju).map(c=>c.snapPoint.point);if([K.Line,K.Rectangle,K.Circle].includes(t)){let c=null;n&&!n.getShape()&&n.getFirstPoint()&&(c=n.getFirstPoint());const{angleGuides:f,entitySnapPoint:p,angleSnapPoint:m}=yy(r,Xn([c,...a]),l,e,Zu/i);Gv(f),Kv(p),Xv(m)}}function Jh(t,e){const n=at(),r=it(),i=jh(),l=Vh(),o=Ds(),u=Xl(),a=Zn(),c=Kl(),f=Dv(),p=Bv(),m=Vv(),v=e-m;Jv(e);const w={context:t,canvasSize:i,worldMouseLocation:u,screenMouseLocation:l,screenOffset:c,screenZoom:a};if(n===K.Select){const[_,,I]=bu(Yl(l,c,a),r);_<Kh&&ct([I.id])}Ry(Us(),Ds(),Zv,Zu/Zn(),v),Cy(w,it(),p,Fv(),pn(),Us(),$h(),o,u,f),requestAnimationFrame(_=>{Jh(t,_)})}function Cc(){console.log("handle window resize",{width:window.innerWidth,height:window.innerHeight}),Hv(new W(window.innerWidth,window.innerHeight));const t=Uv();t&&(t.width=window.innerWidth,t.height=window.innerHeight)}function Hy(){const t=document.getElementsByTagName("canvas")[0];if(t){Wv(t),t.addEventListener("mousedown",By),t.addEventListener("mousemove",Uy),t.addEventListener("mouseup",jy),t.addEventListener("wheel",Fy),t.addEventListener("mouseout",Dy),t.addEventListener("mouseenter",zy),document.addEventListener("keyup",Vy),window.addEventListener("resize",Cc),Cc();const e=t.getContext("2d");if(!e)return;Jh(e,0)}}document.addEventListener("DOMContentLoaded",()=>{Hy()});
