var Cp=Object.defineProperty;var Lp=(t,e,n)=>e in t?Cp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $=(t,e,n)=>Lp(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var wr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ip(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ef={exports:{}},$l={},tf={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi=Symbol.for("react.element"),Ap=Symbol.for("react.portal"),Np=Symbol.for("react.fragment"),Op=Symbol.for("react.strict_mode"),Mp=Symbol.for("react.profiler"),zp=Symbol.for("react.provider"),Rp=Symbol.for("react.context"),Up=Symbol.for("react.forward_ref"),Dp=Symbol.for("react.suspense"),Fp=Symbol.for("react.memo"),Bp=Symbol.for("react.lazy"),Pa=Symbol.iterator;function jp(t){return t===null||typeof t!="object"?null:(t=Pa&&t[Pa]||t["@@iterator"],typeof t=="function"?t:null)}var nf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rf=Object.assign,lf={};function or(t,e,n){this.props=t,this.context=e,this.refs=lf,this.updater=n||nf}or.prototype.isReactComponent={};or.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};or.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function of(){}of.prototype=or.prototype;function lu(t,e,n){this.props=t,this.context=e,this.refs=lf,this.updater=n||nf}var ou=lu.prototype=new of;ou.constructor=lu;rf(ou,or.prototype);ou.isPureReactComponent=!0;var Ta=Array.isArray,sf=Object.prototype.hasOwnProperty,su={current:null},uf={key:!0,ref:!0,__self:!0,__source:!0};function af(t,e,n){var r,i={},l=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(l=""+e.key),e)sf.call(e,r)&&!uf.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var a=Array(u),c=0;c<u;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:pi,type:t,key:l,ref:o,props:i,_owner:su.current}}function Vp(t,e){return{$$typeof:pi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uu(t){return typeof t=="object"&&t!==null&&t.$$typeof===pi}function $p(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ka=/\/+/g;function _o(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$p(""+t.key):e.toString(36)}function Ji(t,e,n,r,i){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pi:case Ap:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+_o(o,0):r,Ta(i)?(n="",t!=null&&(n=t.replace(ka,"$&/")+"/"),Ji(i,e,n,"",function(c){return c})):i!=null&&(uu(i)&&(i=Vp(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ka,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ta(t))for(var u=0;u<t.length;u++){l=t[u];var a=r+_o(l,u);o+=Ji(l,e,n,a,i)}else if(a=jp(t),typeof a=="function")for(t=a.call(t),u=0;!(l=t.next()).done;)l=l.value,a=r+_o(l,u++),o+=Ji(l,e,n,a,i);else if(l==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ai(t,e,n){if(t==null)return t;var r=[],i=0;return Ji(t,r,"","",function(l){return e.call(n,l,i++)}),r}function Hp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pe={current:null},Zi={transition:null},Wp={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Zi,ReactCurrentOwner:su};function cf(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:Ai,forEach:function(t,e,n){Ai(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ai(t,function(){e++}),e},toArray:function(t){return Ai(t,function(e){return e})||[]},only:function(t){if(!uu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};D.Component=or;D.Fragment=Np;D.Profiler=Mp;D.PureComponent=lu;D.StrictMode=Op;D.Suspense=Dp;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wp;D.act=cf;D.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rf({},t.props),i=t.key,l=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,o=su.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(a in e)sf.call(e,a)&&!uf.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&u!==void 0?u[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){u=Array(a);for(var c=0;c<a;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:pi,type:t.type,key:i,ref:l,props:r,_owner:o}};D.createContext=function(t){return t={$$typeof:Rp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zp,_context:t},t.Consumer=t};D.createElement=af;D.createFactory=function(t){var e=af.bind(null,t);return e.type=t,e};D.createRef=function(){return{current:null}};D.forwardRef=function(t){return{$$typeof:Up,render:t}};D.isValidElement=uu;D.lazy=function(t){return{$$typeof:Bp,_payload:{_status:-1,_result:t},_init:Hp}};D.memo=function(t,e){return{$$typeof:Fp,type:t,compare:e===void 0?null:e}};D.startTransition=function(t){var e=Zi.transition;Zi.transition={};try{t()}finally{Zi.transition=e}};D.unstable_act=cf;D.useCallback=function(t,e){return Pe.current.useCallback(t,e)};D.useContext=function(t){return Pe.current.useContext(t)};D.useDebugValue=function(){};D.useDeferredValue=function(t){return Pe.current.useDeferredValue(t)};D.useEffect=function(t,e){return Pe.current.useEffect(t,e)};D.useId=function(){return Pe.current.useId()};D.useImperativeHandle=function(t,e,n){return Pe.current.useImperativeHandle(t,e,n)};D.useInsertionEffect=function(t,e){return Pe.current.useInsertionEffect(t,e)};D.useLayoutEffect=function(t,e){return Pe.current.useLayoutEffect(t,e)};D.useMemo=function(t,e){return Pe.current.useMemo(t,e)};D.useReducer=function(t,e,n){return Pe.current.useReducer(t,e,n)};D.useRef=function(t){return Pe.current.useRef(t)};D.useState=function(t){return Pe.current.useState(t)};D.useSyncExternalStore=function(t,e,n){return Pe.current.useSyncExternalStore(t,e,n)};D.useTransition=function(){return Pe.current.useTransition()};D.version="18.3.1";tf.exports=D;var N=tf.exports;const Qp=Ip(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp=N,Yp=Symbol.for("react.element"),qp=Symbol.for("react.fragment"),Kp=Object.prototype.hasOwnProperty,Xp=Gp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jp={key:!0,ref:!0,__self:!0,__source:!0};function ff(t,e,n){var r,i={},l=null,o=null;n!==void 0&&(l=""+n),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Kp.call(e,r)&&!Jp.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Yp,type:t,key:l,ref:o,props:i,_owner:Xp.current}}$l.Fragment=qp;$l.jsx=ff;$l.jsxs=ff;ef.exports=$l;var M=ef.exports,Jo={},df={exports:{}},De={},hf={exports:{}},pf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,O){var z=C.length;C.push(O);e:for(;0<z;){var ne=z-1>>>1,ue=C[ne];if(0<i(ue,O))C[ne]=O,C[z]=ue,z=ne;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var O=C[0],z=C.pop();if(z!==O){C[0]=z;e:for(var ne=0,ue=C.length,Li=ue>>>1;ne<Li;){var Zt=2*(ne+1)-1,wo=C[Zt],bt=Zt+1,Ii=C[bt];if(0>i(wo,z))bt<ue&&0>i(Ii,wo)?(C[ne]=Ii,C[bt]=z,ne=bt):(C[ne]=wo,C[Zt]=z,ne=Zt);else if(bt<ue&&0>i(Ii,z))C[ne]=Ii,C[bt]=z,ne=bt;else break e}}return O}function i(C,O){var z=C.sortIndex-O.sortIndex;return z!==0?z:C.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var a=[],c=[],f=1,h=null,g=3,v=!1,_=!1,w=!1,I=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(C){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=C)r(c),O.sortIndex=O.expirationTime,e(a,O);else break;O=n(c)}}function y(C){if(w=!1,p(C),!_)if(n(a)!==null)_=!0,vo(S);else{var O=n(c);O!==null&&yo(y,O.startTime-C)}}function S(C,O){_=!1,w&&(w=!1,m(L),L=-1),v=!0;var z=g;try{for(p(O),h=n(a);h!==null&&(!(h.expirationTime>O)||C&&!Oe());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,g=h.priorityLevel;var ue=ne(h.expirationTime<=O);O=t.unstable_now(),typeof ue=="function"?h.callback=ue:h===n(a)&&r(a),p(O)}else r(a);h=n(a)}if(h!==null)var Li=!0;else{var Zt=n(c);Zt!==null&&yo(y,Zt.startTime-O),Li=!1}return Li}finally{h=null,g=z,v=!1}}var P=!1,k=null,L=-1,j=5,A=-1;function Oe(){return!(t.unstable_now()-A<j)}function vr(){if(k!==null){var C=t.unstable_now();A=C;var O=!0;try{O=k(!0,C)}finally{O?yr():(P=!1,k=null)}}else P=!1}var yr;if(typeof d=="function")yr=function(){d(vr)};else if(typeof MessageChannel<"u"){var Ea=new MessageChannel,kp=Ea.port2;Ea.port1.onmessage=vr,yr=function(){kp.postMessage(null)}}else yr=function(){I(vr,0)};function vo(C){k=C,P||(P=!0,yr())}function yo(C,O){L=I(function(){C(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,vo(S))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(C){switch(g){case 1:case 2:case 3:var O=3;break;default:O=g}var z=g;g=O;try{return C()}finally{g=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,O){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var z=g;g=C;try{return O()}finally{g=z}},t.unstable_scheduleCallback=function(C,O,z){var ne=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ne+z:ne):z=ne,C){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=z+ue,C={id:f++,callback:O,priorityLevel:C,startTime:z,expirationTime:ue,sortIndex:-1},z>ne?(C.sortIndex=z,e(c,C),n(a)===null&&C===n(c)&&(w?(m(L),L=-1):w=!0,yo(y,z-ne))):(C.sortIndex=ue,e(a,C),_||v||(_=!0,vo(S))),C},t.unstable_shouldYield=Oe,t.unstable_wrapCallback=function(C){var O=g;return function(){var z=g;g=O;try{return C.apply(this,arguments)}finally{g=z}}}})(pf);hf.exports=pf;var Zp=hf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=N,Ue=Zp;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gf=new Set,Yr={};function yn(t,e){qn(t,e),qn(t+"Capture",e)}function qn(t,e){for(Yr[t]=e,t=0;t<e.length;t++)gf.add(e[t])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zo=Object.prototype.hasOwnProperty,eg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ca={},La={};function tg(t){return Zo.call(La,t)?!0:Zo.call(Ca,t)?!1:eg.test(t)?La[t]=!0:(Ca[t]=!0,!1)}function ng(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rg(t,e,n,r){if(e===null||typeof e>"u"||ng(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Te(t,e,n,r,i,l,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=l,this.removeEmptyString=o}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){me[t]=new Te(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];me[e]=new Te(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){me[t]=new Te(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){me[t]=new Te(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){me[t]=new Te(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){me[t]=new Te(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){me[t]=new Te(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){me[t]=new Te(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){me[t]=new Te(t,5,!1,t.toLowerCase(),null,!1,!1)});var au=/[\-:]([a-z])/g;function cu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(au,cu);me[e]=new Te(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(au,cu);me[e]=new Te(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(au,cu);me[e]=new Te(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){me[t]=new Te(t,1,!1,t.toLowerCase(),null,!1,!1)});me.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){me[t]=new Te(t,1,!1,t.toLowerCase(),null,!0,!0)});function fu(t,e,n,r){var i=me.hasOwnProperty(e)?me[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rg(e,n,i,r)&&(n=null),r||i===null?tg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tt=bp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ni=Symbol.for("react.element"),kn=Symbol.for("react.portal"),Cn=Symbol.for("react.fragment"),du=Symbol.for("react.strict_mode"),bo=Symbol.for("react.profiler"),mf=Symbol.for("react.provider"),vf=Symbol.for("react.context"),hu=Symbol.for("react.forward_ref"),es=Symbol.for("react.suspense"),ts=Symbol.for("react.suspense_list"),pu=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),yf=Symbol.for("react.offscreen"),Ia=Symbol.iterator;function _r(t){return t===null||typeof t!="object"?null:(t=Ia&&t[Ia]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,xo;function Ir(t){if(xo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xo=e&&e[1]||""}return`
`+xo+t}var So=!1;function Eo(t,e){if(!t||So)return"";So=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),l=r.stack.split(`
`),o=i.length-1,u=l.length-1;1<=o&&0<=u&&i[o]!==l[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==l[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==l[u]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=u);break}}}finally{So=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ir(t):""}function ig(t){switch(t.tag){case 5:return Ir(t.type);case 16:return Ir("Lazy");case 13:return Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 2:case 15:return t=Eo(t.type,!1),t;case 11:return t=Eo(t.type.render,!1),t;case 1:return t=Eo(t.type,!0),t;default:return""}}function ns(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cn:return"Fragment";case kn:return"Portal";case bo:return"Profiler";case du:return"StrictMode";case es:return"Suspense";case ts:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vf:return(t.displayName||"Context")+".Consumer";case mf:return(t._context.displayName||"Context")+".Provider";case hu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pu:return e=t.displayName||null,e!==null?e:ns(t.type)||"Memo";case Ct:e=t._payload,t=t._init;try{return ns(t(e))}catch{}}return null}function lg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ns(e);case 8:return e===du?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ht(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function og(t){var e=wf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Oi(t){t._valueTracker||(t._valueTracker=og(t))}function _f(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rs(t,e){var n=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Aa(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ht(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xf(t,e){e=e.checked,e!=null&&fu(t,"checked",e,!1)}function is(t,e){xf(t,e);var n=Ht(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ls(t,e.type,n):e.hasOwnProperty("defaultValue")&&ls(t,e.type,Ht(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Na(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ls(t,e,n){(e!=="number"||fl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ar=Array.isArray;function jn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ht(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function os(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Oa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(Ar(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ht(n)}}function Sf(t,e){var n=Ht(e.value),r=Ht(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ma(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ef(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ss(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ef(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mi,Pf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mi=Mi||document.createElement("div"),Mi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sg=["Webkit","ms","Moz","O"];Object.keys(Rr).forEach(function(t){sg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rr[e]=Rr[t]})});function Tf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rr.hasOwnProperty(t)&&Rr[t]?(""+e).trim():e+"px"}function kf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Tf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ug=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function us(t,e){if(e){if(ug[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function as(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cs=null;function gu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fs=null,Vn=null,$n=null;function za(t){if(t=vi(t)){if(typeof fs!="function")throw Error(x(280));var e=t.stateNode;e&&(e=Yl(e),fs(t.stateNode,t.type,e))}}function Cf(t){Vn?$n?$n.push(t):$n=[t]:Vn=t}function Lf(){if(Vn){var t=Vn,e=$n;if($n=Vn=null,za(t),e)for(t=0;t<e.length;t++)za(e[t])}}function If(t,e){return t(e)}function Af(){}var Po=!1;function Nf(t,e,n){if(Po)return t(e,n);Po=!0;try{return If(t,e,n)}finally{Po=!1,(Vn!==null||$n!==null)&&(Af(),Lf())}}function Kr(t,e){var n=t.stateNode;if(n===null)return null;var r=Yl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var ds=!1;if(_t)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){ds=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{ds=!1}function ag(t,e,n,r,i,l,o,u,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Ur=!1,dl=null,hl=!1,hs=null,cg={onError:function(t){Ur=!0,dl=t}};function fg(t,e,n,r,i,l,o,u,a){Ur=!1,dl=null,ag.apply(cg,arguments)}function dg(t,e,n,r,i,l,o,u,a){if(fg.apply(this,arguments),Ur){if(Ur){var c=dl;Ur=!1,dl=null}else throw Error(x(198));hl||(hl=!0,hs=c)}}function wn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Of(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ra(t){if(wn(t)!==t)throw Error(x(188))}function hg(t){var e=t.alternate;if(!e){if(e=wn(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return Ra(i),t;if(l===r)return Ra(i),e;l=l.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=l;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=l;break}if(u===r){o=!0,r=i,n=l;break}u=u.sibling}if(!o){for(u=l.child;u;){if(u===n){o=!0,n=l,r=i;break}if(u===r){o=!0,r=l,n=i;break}u=u.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function Mf(t){return t=hg(t),t!==null?zf(t):null}function zf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zf(t);if(e!==null)return e;t=t.sibling}return null}var Rf=Ue.unstable_scheduleCallback,Ua=Ue.unstable_cancelCallback,pg=Ue.unstable_shouldYield,gg=Ue.unstable_requestPaint,re=Ue.unstable_now,mg=Ue.unstable_getCurrentPriorityLevel,mu=Ue.unstable_ImmediatePriority,Uf=Ue.unstable_UserBlockingPriority,pl=Ue.unstable_NormalPriority,vg=Ue.unstable_LowPriority,Df=Ue.unstable_IdlePriority,Hl=null,at=null;function yg(t){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Hl,t,void 0,(t.current.flags&128)===128)}catch{}}var Je=Math.clz32?Math.clz32:xg,wg=Math.log,_g=Math.LN2;function xg(t){return t>>>=0,t===0?32:31-(wg(t)/_g|0)|0}var zi=64,Ri=4194304;function Nr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,l=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=Nr(u):(l&=o,l!==0&&(r=Nr(l)))}else o=n&~i,o!==0?r=Nr(o):l!==0&&(r=Nr(l));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,l=e&-e,i>=l||i===16&&(l&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Je(e),i=1<<n,r|=t[n],e&=~i;return r}function Sg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,l=t.pendingLanes;0<l;){var o=31-Je(l),u=1<<o,a=i[o];a===-1?(!(u&n)||u&r)&&(i[o]=Sg(u,e)):a<=e&&(t.expiredLanes|=u),l&=~u}}function ps(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ff(){var t=zi;return zi<<=1,!(zi&4194240)&&(zi=64),t}function To(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Je(e),t[e]=n}function Pg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Je(n),l=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~l}}function vu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Je(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var W=0;function Bf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jf,yu,Vf,$f,Hf,gs=!1,Ui=[],zt=null,Rt=null,Ut=null,Xr=new Map,Jr=new Map,At=[],Tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Da(t,e){switch(t){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":Xr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(e.pointerId)}}function Sr(t,e,n,r,i,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},e!==null&&(e=vi(e),e!==null&&yu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kg(t,e,n,r,i){switch(e){case"focusin":return zt=Sr(zt,t,e,n,r,i),!0;case"dragenter":return Rt=Sr(Rt,t,e,n,r,i),!0;case"mouseover":return Ut=Sr(Ut,t,e,n,r,i),!0;case"pointerover":var l=i.pointerId;return Xr.set(l,Sr(Xr.get(l)||null,t,e,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,Jr.set(l,Sr(Jr.get(l)||null,t,e,n,r,i)),!0}return!1}function Wf(t){var e=rn(t.target);if(e!==null){var n=wn(e);if(n!==null){if(e=n.tag,e===13){if(e=Of(n),e!==null){t.blockedOn=e,Hf(t.priority,function(){Vf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ms(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cs=r,n.target.dispatchEvent(r),cs=null}else return e=vi(n),e!==null&&yu(e),t.blockedOn=n,!1;e.shift()}return!0}function Fa(t,e,n){bi(t)&&n.delete(e)}function Cg(){gs=!1,zt!==null&&bi(zt)&&(zt=null),Rt!==null&&bi(Rt)&&(Rt=null),Ut!==null&&bi(Ut)&&(Ut=null),Xr.forEach(Fa),Jr.forEach(Fa)}function Er(t,e){t.blockedOn===e&&(t.blockedOn=null,gs||(gs=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Cg)))}function Zr(t){function e(i){return Er(i,t)}if(0<Ui.length){Er(Ui[0],t);for(var n=1;n<Ui.length;n++){var r=Ui[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zt!==null&&Er(zt,t),Rt!==null&&Er(Rt,t),Ut!==null&&Er(Ut,t),Xr.forEach(e),Jr.forEach(e),n=0;n<At.length;n++)r=At[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<At.length&&(n=At[0],n.blockedOn===null);)Wf(n),n.blockedOn===null&&At.shift()}var Hn=Tt.ReactCurrentBatchConfig,ml=!0;function Lg(t,e,n,r){var i=W,l=Hn.transition;Hn.transition=null;try{W=1,wu(t,e,n,r)}finally{W=i,Hn.transition=l}}function Ig(t,e,n,r){var i=W,l=Hn.transition;Hn.transition=null;try{W=4,wu(t,e,n,r)}finally{W=i,Hn.transition=l}}function wu(t,e,n,r){if(ml){var i=ms(t,e,n,r);if(i===null)Ro(t,e,r,vl,n),Da(t,r);else if(kg(i,t,e,n,r))r.stopPropagation();else if(Da(t,r),e&4&&-1<Tg.indexOf(t)){for(;i!==null;){var l=vi(i);if(l!==null&&jf(l),l=ms(t,e,n,r),l===null&&Ro(t,e,r,vl,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else Ro(t,e,r,null,n)}}var vl=null;function ms(t,e,n,r){if(vl=null,t=gu(r),t=rn(t),t!==null)if(e=wn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Of(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vl=t,null}function Qf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mg()){case mu:return 1;case Uf:return 4;case pl:case vg:return 16;case Df:return 536870912;default:return 16}default:return 16}}var Ot=null,_u=null,el=null;function Gf(){if(el)return el;var t,e=_u,n=e.length,r,i="value"in Ot?Ot.value:Ot.textContent,l=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[l-r];r++);return el=i.slice(t,1<r?1-r:void 0)}function tl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Di(){return!0}function Ba(){return!1}function Fe(t){function e(n,r,i,l,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Di:Ba,this.isPropagationStopped=Ba,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),e}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=Fe(sr),mi=ee({},sr,{view:0,detail:0}),Ag=Fe(mi),ko,Co,Pr,Wl=ee({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pr&&(Pr&&t.type==="mousemove"?(ko=t.screenX-Pr.screenX,Co=t.screenY-Pr.screenY):Co=ko=0,Pr=t),ko)},movementY:function(t){return"movementY"in t?t.movementY:Co}}),ja=Fe(Wl),Ng=ee({},Wl,{dataTransfer:0}),Og=Fe(Ng),Mg=ee({},mi,{relatedTarget:0}),Lo=Fe(Mg),zg=ee({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Rg=Fe(zg),Ug=ee({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dg=Fe(Ug),Fg=ee({},sr,{data:0}),Va=Fe(Fg),Bg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $g(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Vg[t])?!!e[t]:!1}function Su(){return $g}var Hg=ee({},mi,{key:function(t){if(t.key){var e=Bg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(t){return t.type==="keypress"?tl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wg=Fe(Hg),Qg=ee({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$a=Fe(Qg),Gg=ee({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),Yg=Fe(Gg),qg=ee({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kg=Fe(qg),Xg=ee({},Wl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jg=Fe(Xg),Zg=[9,13,27,32],Eu=_t&&"CompositionEvent"in window,Dr=null;_t&&"documentMode"in document&&(Dr=document.documentMode);var bg=_t&&"TextEvent"in window&&!Dr,Yf=_t&&(!Eu||Dr&&8<Dr&&11>=Dr),Ha=" ",Wa=!1;function qf(t,e){switch(t){case"keyup":return Zg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ln=!1;function em(t,e){switch(t){case"compositionend":return Kf(e);case"keypress":return e.which!==32?null:(Wa=!0,Ha);case"textInput":return t=e.data,t===Ha&&Wa?null:t;default:return null}}function tm(t,e){if(Ln)return t==="compositionend"||!Eu&&qf(t,e)?(t=Gf(),el=_u=Ot=null,Ln=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yf&&e.locale!=="ko"?null:e.data;default:return null}}var nm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nm[t.type]:e==="textarea"}function Xf(t,e,n,r){Cf(r),e=yl(e,"onChange"),0<e.length&&(n=new xu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fr=null,br=null;function rm(t){sd(t,0)}function Ql(t){var e=Nn(t);if(_f(e))return t}function im(t,e){if(t==="change")return e}var Jf=!1;if(_t){var Io;if(_t){var Ao="oninput"in document;if(!Ao){var Ga=document.createElement("div");Ga.setAttribute("oninput","return;"),Ao=typeof Ga.oninput=="function"}Io=Ao}else Io=!1;Jf=Io&&(!document.documentMode||9<document.documentMode)}function Ya(){Fr&&(Fr.detachEvent("onpropertychange",Zf),br=Fr=null)}function Zf(t){if(t.propertyName==="value"&&Ql(br)){var e=[];Xf(e,br,t,gu(t)),Nf(rm,e)}}function lm(t,e,n){t==="focusin"?(Ya(),Fr=e,br=n,Fr.attachEvent("onpropertychange",Zf)):t==="focusout"&&Ya()}function om(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ql(br)}function sm(t,e){if(t==="click")return Ql(e)}function um(t,e){if(t==="input"||t==="change")return Ql(e)}function am(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var be=typeof Object.is=="function"?Object.is:am;function ei(t,e){if(be(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zo.call(e,i)||!be(t[i],e[i]))return!1}return!0}function qa(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ka(t,e){var n=qa(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qa(n)}}function bf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ed(){for(var t=window,e=fl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fl(t.document)}return e}function Pu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cm(t){var e=ed(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bf(n.ownerDocument.documentElement,n)){if(r!==null&&Pu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!t.extend&&l>r&&(i=r,r=l,l=i),i=Ka(n,l);var o=Ka(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),l>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fm=_t&&"documentMode"in document&&11>=document.documentMode,In=null,vs=null,Br=null,ys=!1;function Xa(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ys||In==null||In!==fl(r)||(r=In,"selectionStart"in r&&Pu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Br&&ei(Br,r)||(Br=r,r=yl(vs,"onSelect"),0<r.length&&(e=new xu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=In)))}function Fi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var An={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionend:Fi("Transition","TransitionEnd")},No={},td={};_t&&(td=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function Gl(t){if(No[t])return No[t];if(!An[t])return t;var e=An[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in td)return No[t]=e[n];return t}var nd=Gl("animationend"),rd=Gl("animationiteration"),id=Gl("animationstart"),ld=Gl("transitionend"),od=new Map,Ja="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qt(t,e){od.set(t,e),yn(e,[t])}for(var Oo=0;Oo<Ja.length;Oo++){var Mo=Ja[Oo],dm=Mo.toLowerCase(),hm=Mo[0].toUpperCase()+Mo.slice(1);qt(dm,"on"+hm)}qt(nd,"onAnimationEnd");qt(rd,"onAnimationIteration");qt(id,"onAnimationStart");qt("dblclick","onDoubleClick");qt("focusin","onFocus");qt("focusout","onBlur");qt(ld,"onTransitionEnd");qn("onMouseEnter",["mouseout","mouseover"]);qn("onMouseLeave",["mouseout","mouseover"]);qn("onPointerEnter",["pointerout","pointerover"]);qn("onPointerLeave",["pointerout","pointerover"]);yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Za(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dg(r,e,void 0,t),t.currentTarget=null}function sd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var l=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],a=u.instance,c=u.currentTarget;if(u=u.listener,a!==l&&i.isPropagationStopped())break e;Za(i,u,c),l=a}else for(o=0;o<r.length;o++){if(u=r[o],a=u.instance,c=u.currentTarget,u=u.listener,a!==l&&i.isPropagationStopped())break e;Za(i,u,c),l=a}}}if(hl)throw t=hs,hl=!1,hs=null,t}function Y(t,e){var n=e[Es];n===void 0&&(n=e[Es]=new Set);var r=t+"__bubble";n.has(r)||(ud(e,t,2,!1),n.add(r))}function zo(t,e,n){var r=0;e&&(r|=4),ud(n,t,r,e)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function ti(t){if(!t[Bi]){t[Bi]=!0,gf.forEach(function(n){n!=="selectionchange"&&(pm.has(n)||zo(n,!1,t),zo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bi]||(e[Bi]=!0,zo("selectionchange",!1,e))}}function ud(t,e,n,r){switch(Qf(e)){case 1:var i=Lg;break;case 4:i=Ig;break;default:i=wu}n=i.bind(null,e,n,t),i=void 0,!ds||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ro(t,e,n,r,i){var l=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;u!==null;){if(o=rn(u),o===null)return;if(a=o.tag,a===5||a===6){r=l=o;continue e}u=u.parentNode}}r=r.return}Nf(function(){var c=l,f=gu(n),h=[];e:{var g=od.get(t);if(g!==void 0){var v=xu,_=t;switch(t){case"keypress":if(tl(n)===0)break e;case"keydown":case"keyup":v=Wg;break;case"focusin":_="focus",v=Lo;break;case"focusout":_="blur",v=Lo;break;case"beforeblur":case"afterblur":v=Lo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ja;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Yg;break;case nd:case rd:case id:v=Rg;break;case ld:v=Kg;break;case"scroll":v=Ag;break;case"wheel":v=Jg;break;case"copy":case"cut":case"paste":v=Dg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=$a}var w=(e&4)!==0,I=!w&&t==="scroll",m=w?g!==null?g+"Capture":null:g;w=[];for(var d=c,p;d!==null;){p=d;var y=p.stateNode;if(p.tag===5&&y!==null&&(p=y,m!==null&&(y=Kr(d,m),y!=null&&w.push(ni(d,y,p)))),I)break;d=d.return}0<w.length&&(g=new v(g,_,null,n,f),h.push({event:g,listeners:w}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==cs&&(_=n.relatedTarget||n.fromElement)&&(rn(_)||_[xt]))break e;if((v||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=c,_=_?rn(_):null,_!==null&&(I=wn(_),_!==I||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=c),v!==_)){if(w=ja,y="onMouseLeave",m="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(w=$a,y="onPointerLeave",m="onPointerEnter",d="pointer"),I=v==null?g:Nn(v),p=_==null?g:Nn(_),g=new w(y,d+"leave",v,n,f),g.target=I,g.relatedTarget=p,y=null,rn(f)===c&&(w=new w(m,d+"enter",_,n,f),w.target=p,w.relatedTarget=I,y=w),I=y,v&&_)t:{for(w=v,m=_,d=0,p=w;p;p=Pn(p))d++;for(p=0,y=m;y;y=Pn(y))p++;for(;0<d-p;)w=Pn(w),d--;for(;0<p-d;)m=Pn(m),p--;for(;d--;){if(w===m||m!==null&&w===m.alternate)break t;w=Pn(w),m=Pn(m)}w=null}else w=null;v!==null&&ba(h,g,v,w,!1),_!==null&&I!==null&&ba(h,I,_,w,!0)}}e:{if(g=c?Nn(c):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var S=im;else if(Qa(g))if(Jf)S=um;else{S=om;var P=lm}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=sm);if(S&&(S=S(t,c))){Xf(h,S,n,f);break e}P&&P(t,g,c),t==="focusout"&&(P=g._wrapperState)&&P.controlled&&g.type==="number"&&ls(g,"number",g.value)}switch(P=c?Nn(c):window,t){case"focusin":(Qa(P)||P.contentEditable==="true")&&(In=P,vs=c,Br=null);break;case"focusout":Br=vs=In=null;break;case"mousedown":ys=!0;break;case"contextmenu":case"mouseup":case"dragend":ys=!1,Xa(h,n,f);break;case"selectionchange":if(fm)break;case"keydown":case"keyup":Xa(h,n,f)}var k;if(Eu)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Ln?qf(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Yf&&n.locale!=="ko"&&(Ln||L!=="onCompositionStart"?L==="onCompositionEnd"&&Ln&&(k=Gf()):(Ot=f,_u="value"in Ot?Ot.value:Ot.textContent,Ln=!0)),P=yl(c,L),0<P.length&&(L=new Va(L,t,null,n,f),h.push({event:L,listeners:P}),k?L.data=k:(k=Kf(n),k!==null&&(L.data=k)))),(k=bg?em(t,n):tm(t,n))&&(c=yl(c,"onBeforeInput"),0<c.length&&(f=new Va("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=k))}sd(h,e)})}function ni(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=Kr(t,n),l!=null&&r.unshift(ni(t,l,i)),l=Kr(t,e),l!=null&&r.push(ni(t,l,i))),t=t.return}return r}function Pn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ba(t,e,n,r,i){for(var l=e._reactName,o=[];n!==null&&n!==r;){var u=n,a=u.alternate,c=u.stateNode;if(a!==null&&a===r)break;u.tag===5&&c!==null&&(u=c,i?(a=Kr(n,l),a!=null&&o.unshift(ni(n,a,u))):i||(a=Kr(n,l),a!=null&&o.push(ni(n,a,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gm=/\r\n?/g,mm=/\u0000|\uFFFD/g;function ec(t){return(typeof t=="string"?t:""+t).replace(gm,`
`).replace(mm,"")}function ji(t,e,n){if(e=ec(e),ec(t)!==e&&n)throw Error(x(425))}function wl(){}var ws=null,_s=null;function xs(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ss=typeof setTimeout=="function"?setTimeout:void 0,vm=typeof clearTimeout=="function"?clearTimeout:void 0,tc=typeof Promise=="function"?Promise:void 0,ym=typeof queueMicrotask=="function"?queueMicrotask:typeof tc<"u"?function(t){return tc.resolve(null).then(t).catch(wm)}:Ss;function wm(t){setTimeout(function(){throw t})}function Uo(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zr(e)}function Dt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ur=Math.random().toString(36).slice(2),lt="__reactFiber$"+ur,ri="__reactProps$"+ur,xt="__reactContainer$"+ur,Es="__reactEvents$"+ur,_m="__reactListeners$"+ur,xm="__reactHandles$"+ur;function rn(t){var e=t[lt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xt]||n[lt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=nc(t);t!==null;){if(n=t[lt])return n;t=nc(t)}return e}t=n,n=t.parentNode}return null}function vi(t){return t=t[lt]||t[xt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function Yl(t){return t[ri]||null}var Ps=[],On=-1;function Kt(t){return{current:t}}function K(t){0>On||(t.current=Ps[On],Ps[On]=null,On--)}function G(t,e){On++,Ps[On]=t.current,t.current=e}var Wt={},_e=Kt(Wt),Ie=Kt(!1),an=Wt;function Kn(t,e){var n=t.type.contextTypes;if(!n)return Wt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=e[l];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ae(t){return t=t.childContextTypes,t!=null}function _l(){K(Ie),K(_e)}function rc(t,e,n){if(_e.current!==Wt)throw Error(x(168));G(_e,e),G(Ie,n)}function ad(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(x(108,lg(t)||"Unknown",i));return ee({},n,r)}function xl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wt,an=_e.current,G(_e,t),G(Ie,Ie.current),!0}function ic(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=ad(t,e,an),r.__reactInternalMemoizedMergedChildContext=t,K(Ie),K(_e),G(_e,t)):K(Ie),G(Ie,n)}var gt=null,ql=!1,Do=!1;function cd(t){gt===null?gt=[t]:gt.push(t)}function Sm(t){ql=!0,cd(t)}function Xt(){if(!Do&&gt!==null){Do=!0;var t=0,e=W;try{var n=gt;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gt=null,ql=!1}catch(i){throw gt!==null&&(gt=gt.slice(t+1)),Rf(mu,Xt),i}finally{W=e,Do=!1}}return null}var Mn=[],zn=0,Sl=null,El=0,je=[],Ve=0,cn=null,mt=1,vt="";function tn(t,e){Mn[zn++]=El,Mn[zn++]=Sl,Sl=t,El=e}function fd(t,e,n){je[Ve++]=mt,je[Ve++]=vt,je[Ve++]=cn,cn=t;var r=mt;t=vt;var i=32-Je(r)-1;r&=~(1<<i),n+=1;var l=32-Je(e)+i;if(30<l){var o=i-i%5;l=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mt=1<<32-Je(e)+i|n<<i|r,vt=l+t}else mt=1<<l|n<<i|r,vt=t}function Tu(t){t.return!==null&&(tn(t,1),fd(t,1,0))}function ku(t){for(;t===Sl;)Sl=Mn[--zn],Mn[zn]=null,El=Mn[--zn],Mn[zn]=null;for(;t===cn;)cn=je[--Ve],je[Ve]=null,vt=je[--Ve],je[Ve]=null,mt=je[--Ve],je[Ve]=null}var Re=null,ze=null,X=!1,Ke=null;function dd(t,e){var n=$e(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Re=t,ze=Dt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Re=t,ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cn!==null?{id:mt,overflow:vt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$e(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Re=t,ze=null,!0):!1;default:return!1}}function Ts(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ks(t){if(X){var e=ze;if(e){var n=e;if(!lc(t,e)){if(Ts(t))throw Error(x(418));e=Dt(n.nextSibling);var r=Re;e&&lc(t,e)?dd(r,n):(t.flags=t.flags&-4097|2,X=!1,Re=t)}}else{if(Ts(t))throw Error(x(418));t.flags=t.flags&-4097|2,X=!1,Re=t}}}function oc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Re=t}function Vi(t){if(t!==Re)return!1;if(!X)return oc(t),X=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xs(t.type,t.memoizedProps)),e&&(e=ze)){if(Ts(t))throw hd(),Error(x(418));for(;e;)dd(t,e),e=Dt(e.nextSibling)}if(oc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ze=Dt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ze=null}}else ze=Re?Dt(t.stateNode.nextSibling):null;return!0}function hd(){for(var t=ze;t;)t=Dt(t.nextSibling)}function Xn(){ze=Re=null,X=!1}function Cu(t){Ke===null?Ke=[t]:Ke.push(t)}var Em=Tt.ReactCurrentBatchConfig;function Tr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var i=r,l=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(o){var u=i.refs;o===null?delete u[l]:u[l]=o},e._stringRef=l,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function $i(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sc(t){var e=t._init;return e(t._payload)}function pd(t){function e(m,d){if(t){var p=m.deletions;p===null?(m.deletions=[d],m.flags|=16):p.push(d)}}function n(m,d){if(!t)return null;for(;d!==null;)e(m,d),d=d.sibling;return null}function r(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function i(m,d){return m=Vt(m,d),m.index=0,m.sibling=null,m}function l(m,d,p){return m.index=p,t?(p=m.alternate,p!==null?(p=p.index,p<d?(m.flags|=2,d):p):(m.flags|=2,d)):(m.flags|=1048576,d)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function u(m,d,p,y){return d===null||d.tag!==6?(d=Wo(p,m.mode,y),d.return=m,d):(d=i(d,p),d.return=m,d)}function a(m,d,p,y){var S=p.type;return S===Cn?f(m,d,p.props.children,y,p.key):d!==null&&(d.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ct&&sc(S)===d.type)?(y=i(d,p.props),y.ref=Tr(m,d,p),y.return=m,y):(y=ul(p.type,p.key,p.props,null,m.mode,y),y.ref=Tr(m,d,p),y.return=m,y)}function c(m,d,p,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=Qo(p,m.mode,y),d.return=m,d):(d=i(d,p.children||[]),d.return=m,d)}function f(m,d,p,y,S){return d===null||d.tag!==7?(d=un(p,m.mode,y,S),d.return=m,d):(d=i(d,p),d.return=m,d)}function h(m,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Wo(""+d,m.mode,p),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ni:return p=ul(d.type,d.key,d.props,null,m.mode,p),p.ref=Tr(m,null,d),p.return=m,p;case kn:return d=Qo(d,m.mode,p),d.return=m,d;case Ct:var y=d._init;return h(m,y(d._payload),p)}if(Ar(d)||_r(d))return d=un(d,m.mode,p,null),d.return=m,d;$i(m,d)}return null}function g(m,d,p,y){var S=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:u(m,d,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ni:return p.key===S?a(m,d,p,y):null;case kn:return p.key===S?c(m,d,p,y):null;case Ct:return S=p._init,g(m,d,S(p._payload),y)}if(Ar(p)||_r(p))return S!==null?null:f(m,d,p,y,null);$i(m,p)}return null}function v(m,d,p,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(p)||null,u(d,m,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ni:return m=m.get(y.key===null?p:y.key)||null,a(d,m,y,S);case kn:return m=m.get(y.key===null?p:y.key)||null,c(d,m,y,S);case Ct:var P=y._init;return v(m,d,p,P(y._payload),S)}if(Ar(y)||_r(y))return m=m.get(p)||null,f(d,m,y,S,null);$i(d,y)}return null}function _(m,d,p,y){for(var S=null,P=null,k=d,L=d=0,j=null;k!==null&&L<p.length;L++){k.index>L?(j=k,k=null):j=k.sibling;var A=g(m,k,p[L],y);if(A===null){k===null&&(k=j);break}t&&k&&A.alternate===null&&e(m,k),d=l(A,d,L),P===null?S=A:P.sibling=A,P=A,k=j}if(L===p.length)return n(m,k),X&&tn(m,L),S;if(k===null){for(;L<p.length;L++)k=h(m,p[L],y),k!==null&&(d=l(k,d,L),P===null?S=k:P.sibling=k,P=k);return X&&tn(m,L),S}for(k=r(m,k);L<p.length;L++)j=v(k,m,L,p[L],y),j!==null&&(t&&j.alternate!==null&&k.delete(j.key===null?L:j.key),d=l(j,d,L),P===null?S=j:P.sibling=j,P=j);return t&&k.forEach(function(Oe){return e(m,Oe)}),X&&tn(m,L),S}function w(m,d,p,y){var S=_r(p);if(typeof S!="function")throw Error(x(150));if(p=S.call(p),p==null)throw Error(x(151));for(var P=S=null,k=d,L=d=0,j=null,A=p.next();k!==null&&!A.done;L++,A=p.next()){k.index>L?(j=k,k=null):j=k.sibling;var Oe=g(m,k,A.value,y);if(Oe===null){k===null&&(k=j);break}t&&k&&Oe.alternate===null&&e(m,k),d=l(Oe,d,L),P===null?S=Oe:P.sibling=Oe,P=Oe,k=j}if(A.done)return n(m,k),X&&tn(m,L),S;if(k===null){for(;!A.done;L++,A=p.next())A=h(m,A.value,y),A!==null&&(d=l(A,d,L),P===null?S=A:P.sibling=A,P=A);return X&&tn(m,L),S}for(k=r(m,k);!A.done;L++,A=p.next())A=v(k,m,L,A.value,y),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?L:A.key),d=l(A,d,L),P===null?S=A:P.sibling=A,P=A);return t&&k.forEach(function(vr){return e(m,vr)}),X&&tn(m,L),S}function I(m,d,p,y){if(typeof p=="object"&&p!==null&&p.type===Cn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ni:e:{for(var S=p.key,P=d;P!==null;){if(P.key===S){if(S=p.type,S===Cn){if(P.tag===7){n(m,P.sibling),d=i(P,p.props.children),d.return=m,m=d;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ct&&sc(S)===P.type){n(m,P.sibling),d=i(P,p.props),d.ref=Tr(m,P,p),d.return=m,m=d;break e}n(m,P);break}else e(m,P);P=P.sibling}p.type===Cn?(d=un(p.props.children,m.mode,y,p.key),d.return=m,m=d):(y=ul(p.type,p.key,p.props,null,m.mode,y),y.ref=Tr(m,d,p),y.return=m,m=y)}return o(m);case kn:e:{for(P=p.key;d!==null;){if(d.key===P)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(m,d.sibling),d=i(d,p.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else e(m,d);d=d.sibling}d=Qo(p,m.mode,y),d.return=m,m=d}return o(m);case Ct:return P=p._init,I(m,d,P(p._payload),y)}if(Ar(p))return _(m,d,p,y);if(_r(p))return w(m,d,p,y);$i(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(n(m,d.sibling),d=i(d,p),d.return=m,m=d):(n(m,d),d=Wo(p,m.mode,y),d.return=m,m=d),o(m)):n(m,d)}return I}var Jn=pd(!0),gd=pd(!1),Pl=Kt(null),Tl=null,Rn=null,Lu=null;function Iu(){Lu=Rn=Tl=null}function Au(t){var e=Pl.current;K(Pl),t._currentValue=e}function Cs(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wn(t,e){Tl=t,Lu=Rn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Le=!0),t.firstContext=null)}function We(t){var e=t._currentValue;if(Lu!==t)if(t={context:t,memoizedValue:e,next:null},Rn===null){if(Tl===null)throw Error(x(308));Rn=t,Tl.dependencies={lanes:0,firstContext:t}}else Rn=Rn.next=t;return e}var ln=null;function Nu(t){ln===null?ln=[t]:ln.push(t)}function md(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Nu(e)):(n.next=i.next,i.next=n),e.interleaved=n,St(t,r)}function St(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lt=!1;function Ou(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ft(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,St(t,n)}return i=r.interleaved,i===null?(e.next=e,Nu(r)):(e.next=i.next,i.next=e),r.interleaved=e,St(t,n)}function nl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vu(t,n)}}function uc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?i=l=e:l=l.next=e}else i=l=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kl(t,e,n,r){var i=t.updateQueue;Lt=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var a=u,c=a.next;a.next=null,o===null?l=c:o.next=c,o=a;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==o&&(u===null?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=a))}if(l!==null){var h=i.baseState;o=0,f=c=a=null,u=l;do{var g=u.lane,v=u.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var _=t,w=u;switch(g=e,v=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){h=_.call(v,h,g);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,g=typeof _=="function"?_.call(v,h,g):_,g==null)break e;h=ee({},h,g);break e;case 2:Lt=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[u]:g.push(u))}else v={eventTime:v,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(c=f=v,a=h):f=f.next=v,o|=g;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(a=h),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else l===null&&(i.shared.lanes=0);dn|=o,t.lanes=o,t.memoizedState=h}}function ac(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var yi={},ct=Kt(yi),ii=Kt(yi),li=Kt(yi);function on(t){if(t===yi)throw Error(x(174));return t}function Mu(t,e){switch(G(li,e),G(ii,t),G(ct,yi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ss(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ss(e,t)}K(ct),G(ct,e)}function Zn(){K(ct),K(ii),K(li)}function yd(t){on(li.current);var e=on(ct.current),n=ss(e,t.type);e!==n&&(G(ii,t),G(ct,n))}function zu(t){ii.current===t&&(K(ct),K(ii))}var J=Kt(0);function Cl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fo=[];function Ru(){for(var t=0;t<Fo.length;t++)Fo[t]._workInProgressVersionPrimary=null;Fo.length=0}var rl=Tt.ReactCurrentDispatcher,Bo=Tt.ReactCurrentBatchConfig,fn=0,b=null,oe=null,ce=null,Ll=!1,jr=!1,oi=0,Pm=0;function ve(){throw Error(x(321))}function Uu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!be(t[n],e[n]))return!1;return!0}function Du(t,e,n,r,i,l){if(fn=l,b=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rl.current=t===null||t.memoizedState===null?Lm:Im,t=n(r,i),jr){l=0;do{if(jr=!1,oi=0,25<=l)throw Error(x(301));l+=1,ce=oe=null,e.updateQueue=null,rl.current=Am,t=n(r,i)}while(jr)}if(rl.current=Il,e=oe!==null&&oe.next!==null,fn=0,ce=oe=b=null,Ll=!1,e)throw Error(x(300));return t}function Fu(){var t=oi!==0;return oi=0,t}function nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?b.memoizedState=ce=t:ce=ce.next=t,ce}function Qe(){if(oe===null){var t=b.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var e=ce===null?b.memoizedState:ce.next;if(e!==null)ce=e,oe=t;else{if(t===null)throw Error(x(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ce===null?b.memoizedState=ce=t:ce=ce.next=t}return ce}function si(t,e){return typeof e=="function"?e(t):e}function jo(t){var e=Qe(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=oe,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var u=o=null,a=null,c=l;do{var f=c.lane;if((fn&f)===f)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(u=a=h,o=r):a=a.next=h,b.lanes|=f,dn|=f}c=c.next}while(c!==null&&c!==l);a===null?o=r:a.next=u,be(r,e.memoizedState)||(Le=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do l=i.lane,b.lanes|=l,dn|=l,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vo(t){var e=Qe(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,l=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do l=t(l,o.action),o=o.next;while(o!==i);be(l,e.memoizedState)||(Le=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,r]}function wd(){}function _d(t,e){var n=b,r=Qe(),i=e(),l=!be(r.memoizedState,i);if(l&&(r.memoizedState=i,Le=!0),r=r.queue,Bu(Ed.bind(null,n,r,t),[t]),r.getSnapshot!==e||l||ce!==null&&ce.memoizedState.tag&1){if(n.flags|=2048,ui(9,Sd.bind(null,n,r,i,e),void 0,null),fe===null)throw Error(x(349));fn&30||xd(n,e,i)}return i}function xd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=b.updateQueue,e===null?(e={lastEffect:null,stores:null},b.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sd(t,e,n,r){e.value=n,e.getSnapshot=r,Pd(e)&&Td(t)}function Ed(t,e,n){return n(function(){Pd(e)&&Td(t)})}function Pd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!be(t,n)}catch{return!0}}function Td(t){var e=St(t,1);e!==null&&Ze(e,t,1,-1)}function cc(t){var e=nt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},e.queue=t,t=t.dispatch=Cm.bind(null,b,t),[e.memoizedState,t]}function ui(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=b.updateQueue,e===null?(e={lastEffect:null,stores:null},b.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kd(){return Qe().memoizedState}function il(t,e,n,r){var i=nt();b.flags|=t,i.memoizedState=ui(1|e,n,void 0,r===void 0?null:r)}function Kl(t,e,n,r){var i=Qe();r=r===void 0?null:r;var l=void 0;if(oe!==null){var o=oe.memoizedState;if(l=o.destroy,r!==null&&Uu(r,o.deps)){i.memoizedState=ui(e,n,l,r);return}}b.flags|=t,i.memoizedState=ui(1|e,n,l,r)}function fc(t,e){return il(8390656,8,t,e)}function Bu(t,e){return Kl(2048,8,t,e)}function Cd(t,e){return Kl(4,2,t,e)}function Ld(t,e){return Kl(4,4,t,e)}function Id(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ad(t,e,n){return n=n!=null?n.concat([t]):null,Kl(4,4,Id.bind(null,e,t),n)}function ju(){}function Nd(t,e){var n=Qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Od(t,e){var n=Qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Md(t,e,n){return fn&21?(be(n,e)||(n=Ff(),b.lanes|=n,dn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Le=!0),t.memoizedState=n)}function Tm(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=Bo.transition;Bo.transition={};try{t(!1),e()}finally{W=n,Bo.transition=r}}function zd(){return Qe().memoizedState}function km(t,e,n){var r=jt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rd(t))Ud(e,n);else if(n=md(t,e,n,r),n!==null){var i=Ee();Ze(n,t,r,i),Dd(n,e,r)}}function Cm(t,e,n){var r=jt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rd(t))Ud(e,i);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var o=e.lastRenderedState,u=l(o,n);if(i.hasEagerState=!0,i.eagerState=u,be(u,o)){var a=e.interleaved;a===null?(i.next=i,Nu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=md(t,e,i,r),n!==null&&(i=Ee(),Ze(n,t,r,i),Dd(n,e,r))}}function Rd(t){var e=t.alternate;return t===b||e!==null&&e===b}function Ud(t,e){jr=Ll=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Dd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vu(t,n)}}var Il={readContext:We,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Lm={readContext:We,useCallback:function(t,e){return nt().memoizedState=[t,e===void 0?null:e],t},useContext:We,useEffect:fc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,il(4194308,4,Id.bind(null,e,t),n)},useLayoutEffect:function(t,e){return il(4194308,4,t,e)},useInsertionEffect:function(t,e){return il(4,2,t,e)},useMemo:function(t,e){var n=nt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=km.bind(null,b,t),[r.memoizedState,t]},useRef:function(t){var e=nt();return t={current:t},e.memoizedState=t},useState:cc,useDebugValue:ju,useDeferredValue:function(t){return nt().memoizedState=t},useTransition:function(){var t=cc(!1),e=t[0];return t=Tm.bind(null,t[1]),nt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=b,i=nt();if(X){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),fe===null)throw Error(x(349));fn&30||xd(r,e,n)}i.memoizedState=n;var l={value:n,getSnapshot:e};return i.queue=l,fc(Ed.bind(null,r,l,t),[t]),r.flags|=2048,ui(9,Sd.bind(null,r,l,n,e),void 0,null),n},useId:function(){var t=nt(),e=fe.identifierPrefix;if(X){var n=vt,r=mt;n=(r&~(1<<32-Je(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=oi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Pm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Im={readContext:We,useCallback:Nd,useContext:We,useEffect:Bu,useImperativeHandle:Ad,useInsertionEffect:Cd,useLayoutEffect:Ld,useMemo:Od,useReducer:jo,useRef:kd,useState:function(){return jo(si)},useDebugValue:ju,useDeferredValue:function(t){var e=Qe();return Md(e,oe.memoizedState,t)},useTransition:function(){var t=jo(si)[0],e=Qe().memoizedState;return[t,e]},useMutableSource:wd,useSyncExternalStore:_d,useId:zd,unstable_isNewReconciler:!1},Am={readContext:We,useCallback:Nd,useContext:We,useEffect:Bu,useImperativeHandle:Ad,useInsertionEffect:Cd,useLayoutEffect:Ld,useMemo:Od,useReducer:Vo,useRef:kd,useState:function(){return Vo(si)},useDebugValue:ju,useDeferredValue:function(t){var e=Qe();return oe===null?e.memoizedState=t:Md(e,oe.memoizedState,t)},useTransition:function(){var t=Vo(si)[0],e=Qe().memoizedState;return[t,e]},useMutableSource:wd,useSyncExternalStore:_d,useId:zd,unstable_isNewReconciler:!1};function Ye(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ls(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xl={isMounted:function(t){return(t=t._reactInternals)?wn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ee(),i=jt(t),l=yt(r,i);l.payload=e,n!=null&&(l.callback=n),e=Ft(t,l,i),e!==null&&(Ze(e,t,i,r),nl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ee(),i=jt(t),l=yt(r,i);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=Ft(t,l,i),e!==null&&(Ze(e,t,i,r),nl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ee(),r=jt(t),i=yt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ft(t,i,r),e!==null&&(Ze(e,t,r,n),nl(e,t,r))}};function dc(t,e,n,r,i,l,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,l,o):e.prototype&&e.prototype.isPureReactComponent?!ei(n,r)||!ei(i,l):!0}function Fd(t,e,n){var r=!1,i=Wt,l=e.contextType;return typeof l=="object"&&l!==null?l=We(l):(i=Ae(e)?an:_e.current,r=e.contextTypes,l=(r=r!=null)?Kn(t,i):Wt),e=new e(n,l),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=l),e}function hc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xl.enqueueReplaceState(e,e.state,null)}function Is(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ou(t);var l=e.contextType;typeof l=="object"&&l!==null?i.context=We(l):(l=Ae(e)?an:_e.current,i.context=Kn(t,l)),i.state=t.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(Ls(t,e,l,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xl.enqueueReplaceState(i,i.state,null),kl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bn(t,e){try{var n="",r=e;do n+=ig(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:e,stack:i,digest:null}}function $o(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function As(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Nm=typeof WeakMap=="function"?WeakMap:Map;function Bd(t,e,n){n=yt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nl||(Nl=!0,js=r),As(t,e)},n}function jd(t,e,n){n=yt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){As(t,e)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){As(t,e),typeof r!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function pc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Nm;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Qm.bind(null,t,e,n),e.then(t,t))}function gc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mc(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yt(-1,1),e.tag=2,Ft(n,e,1))),n.lanes|=1),t)}var Om=Tt.ReactCurrentOwner,Le=!1;function Se(t,e,n,r){e.child=t===null?gd(e,null,n,r):Jn(e,t.child,n,r)}function vc(t,e,n,r,i){n=n.render;var l=e.ref;return Wn(e,i),r=Du(t,e,n,r,l,i),n=Fu(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Et(t,e,i)):(X&&n&&Tu(e),e.flags|=1,Se(t,e,r,i),e.child)}function yc(t,e,n,r,i){if(t===null){var l=n.type;return typeof l=="function"&&!qu(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=l,Vd(t,e,l,r,i)):(t=ul(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!(t.lanes&i)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:ei,n(o,r)&&t.ref===e.ref)return Et(t,e,i)}return e.flags|=1,t=Vt(l,r),t.ref=e.ref,t.return=e,e.child=t}function Vd(t,e,n,r,i){if(t!==null){var l=t.memoizedProps;if(ei(l,r)&&t.ref===e.ref)if(Le=!1,e.pendingProps=r=l,(t.lanes&i)!==0)t.flags&131072&&(Le=!0);else return e.lanes=t.lanes,Et(t,e,i)}return Ns(t,e,n,r,i)}function $d(t,e,n){var r=e.pendingProps,i=r.children,l=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Dn,Me),Me|=n;else{if(!(n&1073741824))return t=l!==null?l.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,G(Dn,Me),Me|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,G(Dn,Me),Me|=r}else l!==null?(r=l.baseLanes|n,e.memoizedState=null):r=n,G(Dn,Me),Me|=r;return Se(t,e,i,n),e.child}function Hd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ns(t,e,n,r,i){var l=Ae(n)?an:_e.current;return l=Kn(e,l),Wn(e,i),n=Du(t,e,n,r,l,i),r=Fu(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Et(t,e,i)):(X&&r&&Tu(e),e.flags|=1,Se(t,e,n,i),e.child)}function wc(t,e,n,r,i){if(Ae(n)){var l=!0;xl(e)}else l=!1;if(Wn(e,i),e.stateNode===null)ll(t,e),Fd(e,n,r),Is(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=We(c):(c=Ae(n)?an:_e.current,c=Kn(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||a!==c)&&hc(e,o,r,c),Lt=!1;var g=e.memoizedState;o.state=g,kl(e,r,o,i),a=e.memoizedState,u!==r||g!==a||Ie.current||Lt?(typeof f=="function"&&(Ls(e,n,f,r),a=e.memoizedState),(u=Lt||dc(e,n,u,r,g,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,vd(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:Ye(e.type,u),o.props=c,h=e.pendingProps,g=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=We(a):(a=Ae(n)?an:_e.current,a=Kn(e,a));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==h||g!==a)&&hc(e,o,r,a),Lt=!1,g=e.memoizedState,o.state=g,kl(e,r,o,i);var _=e.memoizedState;u!==h||g!==_||Ie.current||Lt?(typeof v=="function"&&(Ls(e,n,v,r),_=e.memoizedState),(c=Lt||dc(e,n,c,r,g,_,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Os(t,e,n,r,l,i)}function Os(t,e,n,r,i,l){Hd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ic(e,n,!1),Et(t,e,l);r=e.stateNode,Om.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Jn(e,t.child,null,l),e.child=Jn(e,null,u,l)):Se(t,e,u,l),e.memoizedState=r.state,i&&ic(e,n,!0),e.child}function Wd(t){var e=t.stateNode;e.pendingContext?rc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rc(t,e.context,!1),Mu(t,e.containerInfo)}function _c(t,e,n,r,i){return Xn(),Cu(i),e.flags|=256,Se(t,e,n,r),e.child}var Ms={dehydrated:null,treeContext:null,retryLane:0};function zs(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qd(t,e,n){var r=e.pendingProps,i=J.current,l=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(l=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),G(J,i&1),t===null)return ks(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,l?(r=e.mode,l=e.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=bl(o,r,0,null),t=un(t,r,n,null),l.return=e,t.return=e,l.sibling=t,e.child=l,e.child.memoizedState=zs(n),e.memoizedState=Ms,t):Vu(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Mm(t,e,o,r,u,i,n);if(l){l=r.fallback,o=e.mode,i=t.child,u=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Vt(i,a),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?l=Vt(u,l):(l=un(l,o,n,null),l.flags|=2),l.return=e,r.return=e,r.sibling=l,e.child=r,r=l,l=e.child,o=t.child.memoizedState,o=o===null?zs(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=t.childLanes&~n,e.memoizedState=Ms,r}return l=t.child,t=l.sibling,r=Vt(l,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vu(t,e){return e=bl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hi(t,e,n,r){return r!==null&&Cu(r),Jn(e,t.child,null,n),t=Vu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Mm(t,e,n,r,i,l,o){if(n)return e.flags&256?(e.flags&=-257,r=$o(Error(x(422))),Hi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(l=r.fallback,i=e.mode,r=bl({mode:"visible",children:r.children},i,0,null),l=un(l,i,o,null),l.flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,e.mode&1&&Jn(e,t.child,null,o),e.child.memoizedState=zs(o),e.memoizedState=Ms,l);if(!(e.mode&1))return Hi(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,l=Error(x(419)),r=$o(l,r,void 0),Hi(t,e,o,r)}if(u=(o&t.childLanes)!==0,Le||u){if(r=fe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,St(t,i),Ze(r,t,i,-1))}return Yu(),r=$o(Error(x(421))),Hi(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Gm.bind(null,t),i._reactRetry=e,null):(t=l.treeContext,ze=Dt(i.nextSibling),Re=e,X=!0,Ke=null,t!==null&&(je[Ve++]=mt,je[Ve++]=vt,je[Ve++]=cn,mt=t.id,vt=t.overflow,cn=e),e=Vu(e,r.children),e.flags|=4096,e)}function xc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cs(t.return,e,n)}function Ho(t,e,n,r,i){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function Gd(t,e,n){var r=e.pendingProps,i=r.revealOrder,l=r.tail;if(Se(t,e,r.children,n),r=J.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xc(t,n,e);else if(t.tag===19)xc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(G(J,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Cl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ho(e,!1,i,n,l);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Cl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ho(e,!0,n,null,l);break;case"together":Ho(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ll(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Et(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=Vt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zm(t,e,n){switch(e.tag){case 3:Wd(e),Xn();break;case 5:yd(e);break;case 1:Ae(e.type)&&xl(e);break;case 4:Mu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;G(Pl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(G(J,J.current&1),e.flags|=128,null):n&e.child.childLanes?Qd(t,e,n):(G(J,J.current&1),t=Et(t,e,n),t!==null?t.sibling:null);G(J,J.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Gd(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),G(J,J.current),r)break;return null;case 22:case 23:return e.lanes=0,$d(t,e,n)}return Et(t,e,n)}var Yd,Rs,qd,Kd;Yd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rs=function(){};qd=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,on(ct.current);var l=null;switch(n){case"input":i=rs(t,i),r=rs(t,r),l=[];break;case"select":i=ee({},i,{value:void 0}),r=ee({},r,{value:void 0}),l=[];break;case"textarea":i=os(t,i),r=os(t,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wl)}us(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yr.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var a=r[c];if(u=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==u&&(a!=null||u!=null))if(c==="style")if(u){for(o in u)!u.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&u[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(l||(l=[]),l.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(l=l||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(l=l||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&Y("scroll",t),l||u===a||(l=[])):(l=l||[]).push(c,a))}n&&(l=l||[]).push("style",n);var c=l;(e.updateQueue=c)&&(e.flags|=4)}};Kd=function(t,e,n,r){n!==r&&(e.flags|=4)};function kr(t,e){if(!X)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Rm(t,e,n){var r=e.pendingProps;switch(ku(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(e),null;case 1:return Ae(e.type)&&_l(),ye(e),null;case 3:return r=e.stateNode,Zn(),K(Ie),K(_e),Ru(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ke!==null&&(Hs(Ke),Ke=null))),Rs(t,e),ye(e),null;case 5:zu(e);var i=on(li.current);if(n=e.type,t!==null&&e.stateNode!=null)qd(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return ye(e),null}if(t=on(ct.current),Vi(e)){r=e.stateNode,n=e.type;var l=e.memoizedProps;switch(r[lt]=e,r[ri]=l,t=(e.mode&1)!==0,n){case"dialog":Y("cancel",r),Y("close",r);break;case"iframe":case"object":case"embed":Y("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Y(Or[i],r);break;case"source":Y("error",r);break;case"img":case"image":case"link":Y("error",r),Y("load",r);break;case"details":Y("toggle",r);break;case"input":Aa(r,l),Y("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Y("invalid",r);break;case"textarea":Oa(r,l),Y("invalid",r)}us(n,l),i=null;for(var o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="children"?typeof u=="string"?r.textContent!==u&&(l.suppressHydrationWarning!==!0&&ji(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(l.suppressHydrationWarning!==!0&&ji(r.textContent,u,t),i=["children",""+u]):Yr.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Y("scroll",r)}switch(n){case"input":Oi(r),Na(r,l,!0);break;case"textarea":Oi(r),Ma(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=wl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ef(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lt]=e,t[ri]=r,Yd(t,e,!1,!1),e.stateNode=t;e:{switch(o=as(n,r),n){case"dialog":Y("cancel",t),Y("close",t),i=r;break;case"iframe":case"object":case"embed":Y("load",t),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Y(Or[i],t);i=r;break;case"source":Y("error",t),i=r;break;case"img":case"image":case"link":Y("error",t),Y("load",t),i=r;break;case"details":Y("toggle",t),i=r;break;case"input":Aa(t,r),i=rs(t,r),Y("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ee({},r,{value:void 0}),Y("invalid",t);break;case"textarea":Oa(t,r),i=os(t,r),Y("invalid",t);break;default:i=r}us(n,i),u=i;for(l in u)if(u.hasOwnProperty(l)){var a=u[l];l==="style"?kf(t,a):l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Pf(t,a)):l==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&qr(t,a):typeof a=="number"&&qr(t,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Yr.hasOwnProperty(l)?a!=null&&l==="onScroll"&&Y("scroll",t):a!=null&&fu(t,l,a,o))}switch(n){case"input":Oi(t),Na(t,r,!1);break;case"textarea":Oi(t),Ma(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ht(r.value));break;case"select":t.multiple=!!r.multiple,l=r.value,l!=null?jn(t,!!r.multiple,l,!1):r.defaultValue!=null&&jn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ye(e),null;case 6:if(t&&e.stateNode!=null)Kd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=on(li.current),on(ct.current),Vi(e)){if(r=e.stateNode,n=e.memoizedProps,r[lt]=e,(l=r.nodeValue!==n)&&(t=Re,t!==null))switch(t.tag){case 3:ji(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ji(r.nodeValue,n,(t.mode&1)!==0)}l&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lt]=e,e.stateNode=r}return ye(e),null;case 13:if(K(J),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(X&&ze!==null&&e.mode&1&&!(e.flags&128))hd(),Xn(),e.flags|=98560,l=!1;else if(l=Vi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!l)throw Error(x(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(x(317));l[lt]=e}else Xn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ye(e),l=!1}else Ke!==null&&(Hs(Ke),Ke=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||J.current&1?se===0&&(se=3):Yu())),e.updateQueue!==null&&(e.flags|=4),ye(e),null);case 4:return Zn(),Rs(t,e),t===null&&ti(e.stateNode.containerInfo),ye(e),null;case 10:return Au(e.type._context),ye(e),null;case 17:return Ae(e.type)&&_l(),ye(e),null;case 19:if(K(J),l=e.memoizedState,l===null)return ye(e),null;if(r=(e.flags&128)!==0,o=l.rendering,o===null)if(r)kr(l,!1);else{if(se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cl(t),o!==null){for(e.flags|=128,kr(l,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)l=n,t=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,t=o.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return G(J,J.current&1|2),e.child}t=t.sibling}l.tail!==null&&re()>er&&(e.flags|=128,r=!0,kr(l,!1),e.lanes=4194304)}else{if(!r)if(t=Cl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),kr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!X)return ye(e),null}else 2*re()-l.renderingStartTime>er&&n!==1073741824&&(e.flags|=128,r=!0,kr(l,!1),e.lanes=4194304);l.isBackwards?(o.sibling=e.child,e.child=o):(n=l.last,n!==null?n.sibling=o:e.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=re(),e.sibling=null,n=J.current,G(J,r?n&1|2:n&1),e):(ye(e),null);case 22:case 23:return Gu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Me&1073741824&&(ye(e),e.subtreeFlags&6&&(e.flags|=8192)):ye(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function Um(t,e){switch(ku(e),e.tag){case 1:return Ae(e.type)&&_l(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zn(),K(Ie),K(_e),Ru(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zu(e),null;case 13:if(K(J),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));Xn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(J),null;case 4:return Zn(),null;case 10:return Au(e.type._context),null;case 22:case 23:return Gu(),null;case 24:return null;default:return null}}var Wi=!1,we=!1,Dm=typeof WeakSet=="function"?WeakSet:Set,T=null;function Un(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){te(t,e,r)}else n.current=null}function Us(t,e,n){try{n()}catch(r){te(t,e,r)}}var Sc=!1;function Fm(t,e){if(ws=ml,t=ed(),Pu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,u=-1,a=-1,c=0,f=0,h=t,g=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(u=o+i),h!==l||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)g=h,h=v;for(;;){if(h===t)break t;if(g===n&&++c===i&&(u=o),g===l&&++f===r&&(a=o),(v=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=v}n=u===-1||a===-1?null:{start:u,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(_s={focusedElem:t,selectionRange:n},ml=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,I=_.memoizedState,m=e.stateNode,d=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ye(e.type,w),I);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(y){te(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return _=Sc,Sc=!1,_}function Vr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var l=i.destroy;i.destroy=void 0,l!==void 0&&Us(e,n,l)}i=i.next}while(i!==r)}}function Jl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ds(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xd(t){var e=t.alternate;e!==null&&(t.alternate=null,Xd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lt],delete e[ri],delete e[Es],delete e[_m],delete e[xm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jd(t){return t.tag===5||t.tag===3||t.tag===4}function Ec(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fs(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wl));else if(r!==4&&(t=t.child,t!==null))for(Fs(t,e,n),t=t.sibling;t!==null;)Fs(t,e,n),t=t.sibling}function Bs(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bs(t,e,n),t=t.sibling;t!==null;)Bs(t,e,n),t=t.sibling}var he=null,qe=!1;function kt(t,e,n){for(n=n.child;n!==null;)Zd(t,e,n),n=n.sibling}function Zd(t,e,n){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Hl,n)}catch{}switch(n.tag){case 5:we||Un(n,e);case 6:var r=he,i=qe;he=null,kt(t,e,n),he=r,qe=i,he!==null&&(qe?(t=he,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(qe?(t=he,n=n.stateNode,t.nodeType===8?Uo(t.parentNode,n):t.nodeType===1&&Uo(t,n),Zr(t)):Uo(he,n.stateNode));break;case 4:r=he,i=qe,he=n.stateNode.containerInfo,qe=!0,kt(t,e,n),he=r,qe=i;break;case 0:case 11:case 14:case 15:if(!we&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&Us(n,e,o),i=i.next}while(i!==r)}kt(t,e,n);break;case 1:if(!we&&(Un(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){te(n,e,u)}kt(t,e,n);break;case 21:kt(t,e,n);break;case 22:n.mode&1?(we=(r=we)||n.memoizedState!==null,kt(t,e,n),we=r):kt(t,e,n);break;default:kt(t,e,n)}}function Pc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Dm),e.forEach(function(r){var i=Ym.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ge(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:he=u.stateNode,qe=!1;break e;case 3:he=u.stateNode.containerInfo,qe=!0;break e;case 4:he=u.stateNode.containerInfo,qe=!0;break e}u=u.return}if(he===null)throw Error(x(160));Zd(l,o,i),he=null,qe=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){te(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bd(e,t),e=e.sibling}function bd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ge(e,t),tt(t),r&4){try{Vr(3,t,t.return),Jl(3,t)}catch(w){te(t,t.return,w)}try{Vr(5,t,t.return)}catch(w){te(t,t.return,w)}}break;case 1:Ge(e,t),tt(t),r&512&&n!==null&&Un(n,n.return);break;case 5:if(Ge(e,t),tt(t),r&512&&n!==null&&Un(n,n.return),t.flags&32){var i=t.stateNode;try{qr(i,"")}catch(w){te(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var l=t.memoizedProps,o=n!==null?n.memoizedProps:l,u=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{u==="input"&&l.type==="radio"&&l.name!=null&&xf(i,l),as(u,o);var c=as(u,l);for(o=0;o<a.length;o+=2){var f=a[o],h=a[o+1];f==="style"?kf(i,h):f==="dangerouslySetInnerHTML"?Pf(i,h):f==="children"?qr(i,h):fu(i,f,h,c)}switch(u){case"input":is(i,l);break;case"textarea":Sf(i,l);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?jn(i,!!l.multiple,v,!1):g!==!!l.multiple&&(l.defaultValue!=null?jn(i,!!l.multiple,l.defaultValue,!0):jn(i,!!l.multiple,l.multiple?[]:"",!1))}i[ri]=l}catch(w){te(t,t.return,w)}}break;case 6:if(Ge(e,t),tt(t),r&4){if(t.stateNode===null)throw Error(x(162));i=t.stateNode,l=t.memoizedProps;try{i.nodeValue=l}catch(w){te(t,t.return,w)}}break;case 3:if(Ge(e,t),tt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zr(e.containerInfo)}catch(w){te(t,t.return,w)}break;case 4:Ge(e,t),tt(t);break;case 13:Ge(e,t),tt(t),i=t.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(Wu=re())),r&4&&Pc(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(we=(c=we)||f,Ge(e,t),we=c):Ge(e,t),tt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(T=t,f=t.child;f!==null;){for(h=T=f;T!==null;){switch(g=T,v=g.child,g.tag){case 0:case 11:case 14:case 15:Vr(4,g,g.return);break;case 1:Un(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){te(r,n,w)}}break;case 5:Un(g,g.return);break;case 22:if(g.memoizedState!==null){kc(h);continue}}v!==null?(v.return=g,T=v):kc(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(u=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=Tf("display",o))}catch(w){te(t,t.return,w)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){te(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ge(e,t),tt(t),r&4&&Pc(t);break;case 21:break;default:Ge(e,t),tt(t)}}function tt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jd(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qr(i,""),r.flags&=-33);var l=Ec(t);Bs(t,l,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=Ec(t);Fs(t,u,o);break;default:throw Error(x(161))}}catch(a){te(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Bm(t,e,n){T=t,eh(t)}function eh(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var i=T,l=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Wi;if(!o){var u=i.alternate,a=u!==null&&u.memoizedState!==null||we;u=Wi;var c=we;if(Wi=o,(we=a)&&!c)for(T=i;T!==null;)o=T,a=o.child,o.tag===22&&o.memoizedState!==null?Cc(i):a!==null?(a.return=o,T=a):Cc(i);for(;l!==null;)T=l,eh(l),l=l.sibling;T=i,Wi=u,we=c}Tc(t)}else i.subtreeFlags&8772&&l!==null?(l.return=i,T=l):Tc(t)}}function Tc(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:we||Jl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!we)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ye(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&ac(e,l,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ac(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Zr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}we||e.flags&512&&Ds(e)}catch(g){te(e,e.return,g)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function kc(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function Cc(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jl(4,e)}catch(a){te(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){te(e,i,a)}}var l=e.return;try{Ds(e)}catch(a){te(e,l,a)}break;case 5:var o=e.return;try{Ds(e)}catch(a){te(e,o,a)}}}catch(a){te(e,e.return,a)}if(e===t){T=null;break}var u=e.sibling;if(u!==null){u.return=e.return,T=u;break}T=e.return}}var jm=Math.ceil,Al=Tt.ReactCurrentDispatcher,$u=Tt.ReactCurrentOwner,He=Tt.ReactCurrentBatchConfig,B=0,fe=null,le=null,ge=0,Me=0,Dn=Kt(0),se=0,ai=null,dn=0,Zl=0,Hu=0,$r=null,Ce=null,Wu=0,er=1/0,ht=null,Nl=!1,js=null,Bt=null,Qi=!1,Mt=null,Ol=0,Hr=0,Vs=null,ol=-1,sl=0;function Ee(){return B&6?re():ol!==-1?ol:ol=re()}function jt(t){return t.mode&1?B&2&&ge!==0?ge&-ge:Em.transition!==null?(sl===0&&(sl=Ff()),sl):(t=W,t!==0||(t=window.event,t=t===void 0?16:Qf(t.type)),t):1}function Ze(t,e,n,r){if(50<Hr)throw Hr=0,Vs=null,Error(x(185));gi(t,n,r),(!(B&2)||t!==fe)&&(t===fe&&(!(B&2)&&(Zl|=n),se===4&&Nt(t,ge)),Ne(t,r),n===1&&B===0&&!(e.mode&1)&&(er=re()+500,ql&&Xt()))}function Ne(t,e){var n=t.callbackNode;Eg(t,e);var r=gl(t,t===fe?ge:0);if(r===0)n!==null&&Ua(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ua(n),e===1)t.tag===0?Sm(Lc.bind(null,t)):cd(Lc.bind(null,t)),ym(function(){!(B&6)&&Xt()}),n=null;else{switch(Bf(r)){case 1:n=mu;break;case 4:n=Uf;break;case 16:n=pl;break;case 536870912:n=Df;break;default:n=pl}n=uh(n,th.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function th(t,e){if(ol=-1,sl=0,B&6)throw Error(x(327));var n=t.callbackNode;if(Qn()&&t.callbackNode!==n)return null;var r=gl(t,t===fe?ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ml(t,r);else{e=r;var i=B;B|=2;var l=rh();(fe!==t||ge!==e)&&(ht=null,er=re()+500,sn(t,e));do try{Hm();break}catch(u){nh(t,u)}while(!0);Iu(),Al.current=l,B=i,le!==null?e=0:(fe=null,ge=0,e=se)}if(e!==0){if(e===2&&(i=ps(t),i!==0&&(r=i,e=$s(t,i))),e===1)throw n=ai,sn(t,0),Nt(t,r),Ne(t,re()),n;if(e===6)Nt(t,r);else{if(i=t.current.alternate,!(r&30)&&!Vm(i)&&(e=Ml(t,r),e===2&&(l=ps(t),l!==0&&(r=l,e=$s(t,l))),e===1))throw n=ai,sn(t,0),Nt(t,r),Ne(t,re()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:nn(t,Ce,ht);break;case 3:if(Nt(t,r),(r&130023424)===r&&(e=Wu+500-re(),10<e)){if(gl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ee(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ss(nn.bind(null,t,Ce,ht),e);break}nn(t,Ce,ht);break;case 4:if(Nt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Je(r);l=1<<o,o=e[o],o>i&&(i=o),r&=~l}if(r=i,r=re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jm(r/1960))-r,10<r){t.timeoutHandle=Ss(nn.bind(null,t,Ce,ht),r);break}nn(t,Ce,ht);break;case 5:nn(t,Ce,ht);break;default:throw Error(x(329))}}}return Ne(t,re()),t.callbackNode===n?th.bind(null,t):null}function $s(t,e){var n=$r;return t.current.memoizedState.isDehydrated&&(sn(t,e).flags|=256),t=Ml(t,e),t!==2&&(e=Ce,Ce=n,e!==null&&Hs(e)),t}function Hs(t){Ce===null?Ce=t:Ce.push.apply(Ce,t)}function Vm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!be(l(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nt(t,e){for(e&=~Hu,e&=~Zl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Je(e),r=1<<n;t[n]=-1,e&=~r}}function Lc(t){if(B&6)throw Error(x(327));Qn();var e=gl(t,0);if(!(e&1))return Ne(t,re()),null;var n=Ml(t,e);if(t.tag!==0&&n===2){var r=ps(t);r!==0&&(e=r,n=$s(t,r))}if(n===1)throw n=ai,sn(t,0),Nt(t,e),Ne(t,re()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nn(t,Ce,ht),Ne(t,re()),null}function Qu(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(er=re()+500,ql&&Xt())}}function hn(t){Mt!==null&&Mt.tag===0&&!(B&6)&&Qn();var e=B;B|=1;var n=He.transition,r=W;try{if(He.transition=null,W=1,t)return t()}finally{W=r,He.transition=n,B=e,!(B&6)&&Xt()}}function Gu(){Me=Dn.current,K(Dn)}function sn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vm(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(ku(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_l();break;case 3:Zn(),K(Ie),K(_e),Ru();break;case 5:zu(r);break;case 4:Zn();break;case 13:K(J);break;case 19:K(J);break;case 10:Au(r.type._context);break;case 22:case 23:Gu()}n=n.return}if(fe=t,le=t=Vt(t.current,null),ge=Me=e,se=0,ai=null,Hu=Zl=dn=0,Ce=$r=null,ln!==null){for(e=0;e<ln.length;e++)if(n=ln[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=i,r.next=o}n.pending=r}ln=null}return t}function nh(t,e){do{var n=le;try{if(Iu(),rl.current=Il,Ll){for(var r=b.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ll=!1}if(fn=0,ce=oe=b=null,jr=!1,oi=0,$u.current=null,n===null||n.return===null){se=1,ai=e,le=null;break}e:{var l=t,o=n.return,u=n,a=e;if(e=ge,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,f=u,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=gc(o);if(v!==null){v.flags&=-257,mc(v,o,u,l,e),v.mode&1&&pc(l,c,e),e=v,a=c;var _=e.updateQueue;if(_===null){var w=new Set;w.add(a),e.updateQueue=w}else _.add(a);break e}else{if(!(e&1)){pc(l,c,e),Yu();break e}a=Error(x(426))}}else if(X&&u.mode&1){var I=gc(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),mc(I,o,u,l,e),Cu(bn(a,u));break e}}l=a=bn(a,u),se!==4&&(se=2),$r===null?$r=[l]:$r.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var m=Bd(l,a,e);uc(l,m);break e;case 1:u=a;var d=l.type,p=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Bt===null||!Bt.has(p)))){l.flags|=65536,e&=-e,l.lanes|=e;var y=jd(l,u,e);uc(l,y);break e}}l=l.return}while(l!==null)}lh(n)}catch(S){e=S,le===n&&n!==null&&(le=n=n.return);continue}break}while(!0)}function rh(){var t=Al.current;return Al.current=Il,t===null?Il:t}function Yu(){(se===0||se===3||se===2)&&(se=4),fe===null||!(dn&268435455)&&!(Zl&268435455)||Nt(fe,ge)}function Ml(t,e){var n=B;B|=2;var r=rh();(fe!==t||ge!==e)&&(ht=null,sn(t,e));do try{$m();break}catch(i){nh(t,i)}while(!0);if(Iu(),B=n,Al.current=r,le!==null)throw Error(x(261));return fe=null,ge=0,se}function $m(){for(;le!==null;)ih(le)}function Hm(){for(;le!==null&&!pg();)ih(le)}function ih(t){var e=sh(t.alternate,t,Me);t.memoizedProps=t.pendingProps,e===null?lh(t):le=e,$u.current=null}function lh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Um(n,e),n!==null){n.flags&=32767,le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{se=6,le=null;return}}else if(n=Rm(n,e,Me),n!==null){le=n;return}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);se===0&&(se=5)}function nn(t,e,n){var r=W,i=He.transition;try{He.transition=null,W=1,Wm(t,e,n,r)}finally{He.transition=i,W=r}return null}function Wm(t,e,n,r){do Qn();while(Mt!==null);if(B&6)throw Error(x(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var l=n.lanes|n.childLanes;if(Pg(t,l),t===fe&&(le=fe=null,ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qi||(Qi=!0,uh(pl,function(){return Qn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=He.transition,He.transition=null;var o=W;W=1;var u=B;B|=4,$u.current=null,Fm(t,n),bd(n,t),cm(_s),ml=!!ws,_s=ws=null,t.current=n,Bm(n),gg(),B=u,W=o,He.transition=l}else t.current=n;if(Qi&&(Qi=!1,Mt=t,Ol=i),l=t.pendingLanes,l===0&&(Bt=null),yg(n.stateNode),Ne(t,re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nl)throw Nl=!1,t=js,js=null,t;return Ol&1&&t.tag!==0&&Qn(),l=t.pendingLanes,l&1?t===Vs?Hr++:(Hr=0,Vs=t):Hr=0,Xt(),null}function Qn(){if(Mt!==null){var t=Bf(Ol),e=He.transition,n=W;try{if(He.transition=null,W=16>t?16:t,Mt===null)var r=!1;else{if(t=Mt,Mt=null,Ol=0,B&6)throw Error(x(331));var i=B;for(B|=4,T=t.current;T!==null;){var l=T,o=l.child;if(T.flags&16){var u=l.deletions;if(u!==null){for(var a=0;a<u.length;a++){var c=u[a];for(T=c;T!==null;){var f=T;switch(f.tag){case 0:case 11:case 15:Vr(8,f,l)}var h=f.child;if(h!==null)h.return=f,T=h;else for(;T!==null;){f=T;var g=f.sibling,v=f.return;if(Xd(f),f===c){T=null;break}if(g!==null){g.return=v,T=g;break}T=v}}}var _=l.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var I=w.sibling;w.sibling=null,w=I}while(w!==null)}}T=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,T=o;else e:for(;T!==null;){if(l=T,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Vr(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,T=m;break e}T=l.return}}var d=t.current;for(T=d;T!==null;){o=T;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,T=p;else e:for(o=d;T!==null;){if(u=T,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Jl(9,u)}}catch(S){te(u,u.return,S)}if(u===o){T=null;break e}var y=u.sibling;if(y!==null){y.return=u.return,T=y;break e}T=u.return}}if(B=i,Xt(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Hl,t)}catch{}r=!0}return r}finally{W=n,He.transition=e}}return!1}function Ic(t,e,n){e=bn(n,e),e=Bd(t,e,1),t=Ft(t,e,1),e=Ee(),t!==null&&(gi(t,1,e),Ne(t,e))}function te(t,e,n){if(t.tag===3)Ic(t,t,n);else for(;e!==null;){if(e.tag===3){Ic(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bt===null||!Bt.has(r))){t=bn(n,t),t=jd(e,t,1),e=Ft(e,t,1),t=Ee(),e!==null&&(gi(e,1,t),Ne(e,t));break}}e=e.return}}function Qm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ee(),t.pingedLanes|=t.suspendedLanes&n,fe===t&&(ge&n)===n&&(se===4||se===3&&(ge&130023424)===ge&&500>re()-Wu?sn(t,0):Hu|=n),Ne(t,e)}function oh(t,e){e===0&&(t.mode&1?(e=Ri,Ri<<=1,!(Ri&130023424)&&(Ri=4194304)):e=1);var n=Ee();t=St(t,e),t!==null&&(gi(t,e,n),Ne(t,n))}function Gm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),oh(t,n)}function Ym(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),oh(t,n)}var sh;sh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ie.current)Le=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Le=!1,zm(t,e,n);Le=!!(t.flags&131072)}else Le=!1,X&&e.flags&1048576&&fd(e,El,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ll(t,e),t=e.pendingProps;var i=Kn(e,_e.current);Wn(e,n),i=Du(null,e,r,t,i,n);var l=Fu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ae(r)?(l=!0,xl(e)):l=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ou(e),i.updater=Xl,e.stateNode=i,i._reactInternals=e,Is(e,r,t,n),e=Os(null,e,r,!0,l,n)):(e.tag=0,X&&l&&Tu(e),Se(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ll(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Km(r),t=Ye(r,t),i){case 0:e=Ns(null,e,r,t,n);break e;case 1:e=wc(null,e,r,t,n);break e;case 11:e=vc(null,e,r,t,n);break e;case 14:e=yc(null,e,r,Ye(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ye(r,i),Ns(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ye(r,i),wc(t,e,r,i,n);case 3:e:{if(Wd(e),t===null)throw Error(x(387));r=e.pendingProps,l=e.memoizedState,i=l.element,vd(t,e),kl(e,r,null,n);var o=e.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){i=bn(Error(x(423)),e),e=_c(t,e,r,n,i);break e}else if(r!==i){i=bn(Error(x(424)),e),e=_c(t,e,r,n,i);break e}else for(ze=Dt(e.stateNode.containerInfo.firstChild),Re=e,X=!0,Ke=null,n=gd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xn(),r===i){e=Et(t,e,n);break e}Se(t,e,r,n)}e=e.child}return e;case 5:return yd(e),t===null&&ks(e),r=e.type,i=e.pendingProps,l=t!==null?t.memoizedProps:null,o=i.children,xs(r,i)?o=null:l!==null&&xs(r,l)&&(e.flags|=32),Hd(t,e),Se(t,e,o,n),e.child;case 6:return t===null&&ks(e),null;case 13:return Qd(t,e,n);case 4:return Mu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Jn(e,null,r,n):Se(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ye(r,i),vc(t,e,r,i,n);case 7:return Se(t,e,e.pendingProps,n),e.child;case 8:return Se(t,e,e.pendingProps.children,n),e.child;case 12:return Se(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,l=e.memoizedProps,o=i.value,G(Pl,r._currentValue),r._currentValue=o,l!==null)if(be(l.value,o)){if(l.children===i.children&&!Ie.current){e=Et(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var u=l.dependencies;if(u!==null){o=l.child;for(var a=u.firstContext;a!==null;){if(a.context===r){if(l.tag===1){a=yt(-1,n&-n),a.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a}}l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Cs(l.return,n,e),u.lanes|=n;break}a=a.next}}else if(l.tag===10)o=l.type===e.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(x(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Cs(o,n,e),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===e){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Se(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Wn(e,n),i=We(i),r=r(i),e.flags|=1,Se(t,e,r,n),e.child;case 14:return r=e.type,i=Ye(r,e.pendingProps),i=Ye(r.type,i),yc(t,e,r,i,n);case 15:return Vd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ye(r,i),ll(t,e),e.tag=1,Ae(r)?(t=!0,xl(e)):t=!1,Wn(e,n),Fd(e,r,i),Is(e,r,i,n),Os(null,e,r,!0,t,n);case 19:return Gd(t,e,n);case 22:return $d(t,e,n)}throw Error(x(156,e.tag))};function uh(t,e){return Rf(t,e)}function qm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(t,e,n,r){return new qm(t,e,n,r)}function qu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Km(t){if(typeof t=="function")return qu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hu)return 11;if(t===pu)return 14}return 2}function Vt(t,e){var n=t.alternate;return n===null?(n=$e(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ul(t,e,n,r,i,l){var o=2;if(r=t,typeof t=="function")qu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cn:return un(n.children,i,l,e);case du:o=8,i|=8;break;case bo:return t=$e(12,n,e,i|2),t.elementType=bo,t.lanes=l,t;case es:return t=$e(13,n,e,i),t.elementType=es,t.lanes=l,t;case ts:return t=$e(19,n,e,i),t.elementType=ts,t.lanes=l,t;case yf:return bl(n,i,l,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mf:o=10;break e;case vf:o=9;break e;case hu:o=11;break e;case pu:o=14;break e;case Ct:o=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=$e(o,n,e,i),e.elementType=t,e.type=r,e.lanes=l,e}function un(t,e,n,r){return t=$e(7,t,r,e),t.lanes=n,t}function bl(t,e,n,r){return t=$e(22,t,r,e),t.elementType=yf,t.lanes=n,t.stateNode={isHidden:!1},t}function Wo(t,e,n){return t=$e(6,t,null,e),t.lanes=n,t}function Qo(t,e,n){return e=$e(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xm(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=To(0),this.expirationTimes=To(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=To(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ku(t,e,n,r,i,l,o,u,a){return t=new Xm(t,e,n,u,a),e===1?(e=1,l===!0&&(e|=8)):e=0,l=$e(3,null,null,e),t.current=l,l.stateNode=t,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ou(l),t}function Jm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ah(t){if(!t)return Wt;t=t._reactInternals;e:{if(wn(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ae(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(Ae(n))return ad(t,n,e)}return e}function ch(t,e,n,r,i,l,o,u,a){return t=Ku(n,r,!0,t,i,l,o,u,a),t.context=ah(null),n=t.current,r=Ee(),i=jt(n),l=yt(r,i),l.callback=e??null,Ft(n,l,i),t.current.lanes=i,gi(t,i,r),Ne(t,r),t}function eo(t,e,n,r){var i=e.current,l=Ee(),o=jt(i);return n=ah(n),e.context===null?e.context=n:e.pendingContext=n,e=yt(l,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ft(i,e,o),t!==null&&(Ze(t,i,o,l),nl(t,i,o)),o}function zl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ac(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xu(t,e){Ac(t,e),(t=t.alternate)&&Ac(t,e)}function Zm(){return null}var fh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ju(t){this._internalRoot=t}to.prototype.render=Ju.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));eo(t,e,null,null)};to.prototype.unmount=Ju.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hn(function(){eo(null,t,null,null)}),e[xt]=null}};function to(t){this._internalRoot=t}to.prototype.unstable_scheduleHydration=function(t){if(t){var e=$f();t={blockedOn:null,target:t,priority:e};for(var n=0;n<At.length&&e!==0&&e<At[n].priority;n++);At.splice(n,0,t),n===0&&Wf(t)}};function Zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function no(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nc(){}function bm(t,e,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var c=zl(o);l.call(c)}}var o=ch(e,r,t,0,null,!1,!1,"",Nc);return t._reactRootContainer=o,t[xt]=o.current,ti(t.nodeType===8?t.parentNode:t),hn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var c=zl(a);u.call(c)}}var a=Ku(t,0,!1,null,null,!1,!1,"",Nc);return t._reactRootContainer=a,t[xt]=a.current,ti(t.nodeType===8?t.parentNode:t),hn(function(){eo(e,a,n,r)}),a}function ro(t,e,n,r,i){var l=n._reactRootContainer;if(l){var o=l;if(typeof i=="function"){var u=i;i=function(){var a=zl(o);u.call(a)}}eo(e,o,t,i)}else o=bm(n,e,t,i,r);return zl(o)}jf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nr(e.pendingLanes);n!==0&&(vu(e,n|1),Ne(e,re()),!(B&6)&&(er=re()+500,Xt()))}break;case 13:hn(function(){var r=St(t,1);if(r!==null){var i=Ee();Ze(r,t,1,i)}}),Xu(t,1)}};yu=function(t){if(t.tag===13){var e=St(t,134217728);if(e!==null){var n=Ee();Ze(e,t,134217728,n)}Xu(t,134217728)}};Vf=function(t){if(t.tag===13){var e=jt(t),n=St(t,e);if(n!==null){var r=Ee();Ze(n,t,e,r)}Xu(t,e)}};$f=function(){return W};Hf=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};fs=function(t,e,n){switch(e){case"input":if(is(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yl(r);if(!i)throw Error(x(90));_f(r),is(r,i)}}}break;case"textarea":Sf(t,n);break;case"select":e=n.value,e!=null&&jn(t,!!n.multiple,e,!1)}};If=Qu;Af=hn;var e0={usingClientEntryPoint:!1,Events:[vi,Nn,Yl,Cf,Lf,Qu]},Cr={findFiberByHostInstance:rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t0={bundleType:Cr.bundleType,version:Cr.version,rendererPackageName:Cr.rendererPackageName,rendererConfig:Cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Mf(t),t===null?null:t.stateNode},findFiberByHostInstance:Cr.findFiberByHostInstance||Zm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gi.isDisabled&&Gi.supportsFiber)try{Hl=Gi.inject(t0),at=Gi}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e0;De.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zu(e))throw Error(x(200));return Jm(t,e,null,n)};De.createRoot=function(t,e){if(!Zu(t))throw Error(x(299));var n=!1,r="",i=fh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ku(t,1,!1,null,null,n,!1,r,i),t[xt]=e.current,ti(t.nodeType===8?t.parentNode:t),new Ju(e)};De.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=Mf(e),t=t===null?null:t.stateNode,t};De.flushSync=function(t){return hn(t)};De.hydrate=function(t,e,n){if(!no(e))throw Error(x(200));return ro(null,t,e,!0,n)};De.hydrateRoot=function(t,e,n){if(!Zu(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",o=fh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ch(e,null,t,1,n??null,i,!1,l,o),t[xt]=e.current,ti(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new to(e)};De.render=function(t,e,n){if(!no(e))throw Error(x(200));return ro(null,t,e,!1,n)};De.unmountComponentAtNode=function(t){if(!no(t))throw Error(x(40));return t._reactRootContainer?(hn(function(){ro(null,null,t,!1,function(){t._reactRootContainer=null,t[xt]=null})}),!0):!1};De.unstable_batchedUpdates=Qu;De.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!no(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return ro(t,e,n,!1,r)};De.version="18.3.1-next-f1338f8080-20240426";function dh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dh)}catch(t){console.error(t)}}dh(),df.exports=De;var n0=df.exports,Oc=n0;Jo.createRoot=Oc.createRoot,Jo.hydrateRoot=Oc.hydrateRoot;const r0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M2 2l11 11M1.5 2.5a1 1 0 110-2 1 1 0 010 2zm12 12a1 1 0 110-2 1 1 0 010 2z",stroke:"currentColor"})),i0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M13.5.5h-12a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1v-12a1 1 0 00-1-1z",stroke:"currentColor"})),l0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M.5 7.5a7 7 0 1014 0 7 7 0 00-14 0z",stroke:"currentColor"})),o0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M.5.5l6 14 2-6 6-2-14-6z",stroke:"currentColor",strokeLinejoin:"round"})),s0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M13.5 3.5h.5v-.207l-.146-.147-.354.354zm-3-3l.354-.354L10.707 0H10.5v.5zm-7 4V4H3v.5h.5zm2 0H6V4h-.5v.5zm0 2V7H6v-.5h-.5zm-2 0H3V7h.5v-.5zm8-2h.5V4h-.5v.5zm0 2V7h.5v-.5h-.5zm-2 0H9V7h.5v-.5zm0-2V4H9v.5h.5zm-6 6V10H3v.5h.5zm2 0H6V10h-.5v.5zm0 2v.5H6v-.5h-.5zm-2 0H3v.5h.5v-.5zm6-2V10H9v.5h.5zm0 2H9v.5h.5v-.5zm2 0v.5h.5v-.5h-.5zm0-2h.5V10h-.5v.5zm1 3.5h-10v1h10v-1zM2 13.5v-12H1v12h1zm11-10v10h1v-10h-1zM2.5 1h8V0h-8v1zm7.646-.146l3 3 .708-.708-3-3-.708.708zM2.5 14a.5.5 0 01-.5-.5H1A1.5 1.5 0 002.5 15v-1zm10 1a1.5 1.5 0 001.5-1.5h-1a.5.5 0 01-.5.5v1zM2 1.5a.5.5 0 01.5-.5V0A1.5 1.5 0 001 1.5h1zM3.5 5h2V4h-2v1zM5 4.5v2h1v-2H5zM5.5 6h-2v1h2V6zM4 6.5v-2H3v2h1zm7-2v2h1v-2h-1zm.5 1.5h-2v1h2V6zm-1.5.5v-2H9v2h1zM9.5 5h2V4h-2v1zm-6 6h2v-1h-2v1zm1.5-.5v2h1v-2H5zm.5 1.5h-2v1h2v-1zm-1.5.5v-2H3v2h1zm5-2v2h1v-2H9zm.5 2.5h2v-1h-2v1zm2.5-.5v-2h-1v2h1zm-.5-2.5h-2v1h2v-1zm-6-4h4V5h-4v1zM4 6.5v4h1v-4H4zm6 0v4h1v-4h-1zM5.5 12h4v-1h-4v1z",fill:"currentColor"})),u0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M4.5 4.5v-3a1 1 0 011-1h8a1 1 0 011 1v8a1 1 0 01-1 1h-3m-6-6h-3a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1v-3m-6-6V7m0-2.5H7m3.5 6H8m2.5 0V8M8 4.5h2.5V7m-6 1v2.5H7",stroke:"currentColor"})),a0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M13.5 3.5h.5v-.207l-.146-.147-.354.354zm-3-3l.354-.354L10.707 0H10.5v.5zm-8 6V6H2v.5h.5zm0 2H2V9h.5v-.5zm2 0H5V8h-.5v.5zm0 2v.5H5v-.5h-.5zm2-1H6v.207l.146.147L6.5 9.5zm1 1l-.354.354.354.353.354-.353L7.5 10.5zm1-1l.354.354L9 9.707V9.5h-.5zm2-3V6H10v.5h.5zm0 4H10v.5h.5v-.5zm2 0v.5h.5v-.5h-.5zM2 5V1.5H1V5h1zm11-1.5V5h1V3.5h-1zM2.5 1h8V0h-8v1zm7.646-.146l3 3 .708-.708-3-3-.708.708zM2 1.5a.5.5 0 01.5-.5V0A1.5 1.5 0 001 1.5h1zM1 12v1.5h1V12H1zm1.5 3h10v-1h-10v1zM14 13.5V12h-1v1.5h1zM12.5 15a1.5 1.5 0 001.5-1.5h-1a.5.5 0 01-.5.5v1zM1 13.5A1.5 1.5 0 002.5 15v-1a.5.5 0 01-.5-.5H1zM5 6H2.5v1H5V6zm-3 .5v2h1v-2H2zM2.5 9h2V8h-2v1zM4 8.5v2h1v-2H4zm.5 1.5H2v1h2.5v-1zM6 6v3.5h1V6H6zm.146 3.854l1 1 .708-.708-1-1-.708.708zm1.708 1l1-1-.708-.708-1 1 .708.708zM9 9.5V6H8v3.5h1zM13 6h-2.5v1H13V6zm-3 .5v4h1v-4h-1zm.5 4.5h2v-1h-2v1zm2.5-.5v-2h-1v2h1z",fill:"currentColor"})),c0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M7.5 12L0 4h15l-7.5 8z",fill:"currentColor"})),f0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M7.5 3l7.5 8H0l7.5-8z",fill:"currentColor"})),d0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M7.5 4.793L3.293 9h8.414L7.5 4.793z",fill:"currentColor"})),h0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M7.5 10.207L11.707 6H3.293L7.5 10.207z",fill:"currentColor"})),p0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M6.5 2.499l-.354-.354-.353.354.353.353L6.5 2.5zm1-.5H7v1h.5v-1zM2 8.495v-.5H1v.5h1zM8.145.146l-1.999 2 .708.706L8.853.854 8.145.146zM6.146 2.852l2 1.999.707-.707-2-1.999-.707.707zM7.5 3C10.537 3 13 5.461 13 8.496h1A6.499 6.499 0 007.5 2v1zM13 8.495a5.499 5.499 0 01-5.5 5.496v1c3.589 0 6.5-2.909 6.5-6.496h-1zM7.5 13.99A5.499 5.499 0 012 8.495H1a6.499 6.499 0 006.5 6.496v-1z",fill:"currentColor"})),g0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M14 8.495v-.5h-1v.5h1zM7.5 2.999H8v-1h-.5v1zm1-.5l.353.353.354-.353-.354-.354-.353.354zM13 8.495a5.499 5.499 0 01-5.5 5.496v1c3.589 0 6.5-2.909 6.5-6.496h-1zM7.5 13.99A5.499 5.499 0 012 8.495H1a6.499 6.499 0 006.5 6.496v-1zM2 8.495a5.499 5.499 0 015.5-5.496v-1A6.499 6.499 0 001 8.495h1zM6.147.854l2 1.998.706-.707-2-1.999-.706.708zm2 1.291l-2 1.999.706.707 2-1.999-.706-.707z",fill:"currentColor"})),m0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M5.65 12.477a.5.5 0 10-.3-.954l.3.954zm-3.648-2.96l-.484-.128-.254.968.484.127.254-.968zM9 14.5v.5h1v-.5H9zm.063-4.813l-.054-.497a.5.5 0 00-.299.852l.352-.354zM12.5 5.913h.5V5.91l-.5.002zm-.833-2.007l-.466-.18a.5.5 0 00.112.533l.354-.353zm-.05-2.017l.456-.204a.5.5 0 00-.319-.276l-.137.48zm-2.173.792l-.126.484a.5.5 0 00.398-.064l-.272-.42zm-3.888 0l-.272.42a.5.5 0 00.398.064l-.126-.484zM3.383 1.89l-.137-.48a.5.5 0 00-.32.276l.457.204zm-.05 2.017l.354.353a.5.5 0 00.112-.534l-.466.181zM2.5 5.93H3v-.002l-.5.002zm3.438 3.758l.352.355a.5.5 0 00-.293-.851l-.06.496zM5.5 11H6l-.001-.037L5.5 11zM5 14.5v.5h1v-.5H5zm.35-2.977c-.603.19-.986.169-1.24.085-.251-.083-.444-.25-.629-.49a4.8 4.8 0 01-.27-.402c-.085-.139-.182-.302-.28-.447-.191-.281-.473-.633-.929-.753l-.254.968c.08.02.184.095.355.346.082.122.16.252.258.412.094.152.202.32.327.484.253.33.598.663 1.11.832.51.168 1.116.15 1.852-.081l-.3-.954zm4.65-.585c0-.318-.014-.608-.104-.878-.096-.288-.262-.51-.481-.727l-.705.71c.155.153.208.245.237.333.035.105.053.254.053.562h1zm-.884-.753c.903-.097 1.888-.325 2.647-.982.78-.675 1.237-1.729 1.237-3.29h-1c0 1.359-.39 2.1-.892 2.534-.524.454-1.258.653-2.099.743l.107.995zM13 5.91a3.354 3.354 0 00-.98-2.358l-.707.706c.438.44.685 1.034.687 1.655l1-.003zm-.867-1.824c.15-.384.22-.794.21-1.207l-1 .025a2.12 2.12 0 01-.142.82l.932.362zm.21-1.207a3.119 3.119 0 00-.27-1.195l-.913.408c.115.256.177.532.184.812l1-.025zm-.726-.99c.137-.481.137-.482.136-.482h-.003l-.004-.002a.462.462 0 00-.03-.007 1.261 1.261 0 00-.212-.024 2.172 2.172 0 00-.51.054c-.425.091-1.024.317-1.82.832l.542.84c.719-.464 1.206-.634 1.488-.694a1.2 1.2 0 01.306-.03l-.008-.001a.278.278 0 01-.01-.002l-.006-.002h-.003l-.002-.001c-.001 0-.002 0 .136-.482zm-2.047.307a8.209 8.209 0 00-4.14 0l.252.968a7.209 7.209 0 013.636 0l.252-.968zm-3.743.064c-.797-.514-1.397-.74-1.822-.83a2.17 2.17 0 00-.51-.053 1.259 1.259 0 00-.241.03l-.004.002h-.003l.136.481.137.481h-.001l-.002.001-.003.001a.327.327 0 01-.016.004l-.008.001h.008a1.19 1.19 0 01.298.03c.282.06.769.23 1.488.694l.543-.84zm-2.9-.576a3.12 3.12 0 00-.27 1.195l1 .025a2.09 2.09 0 01.183-.812l-.913-.408zm-.27 1.195c-.01.413.06.823.21 1.207l.932-.362a2.12 2.12 0 01-.143-.82l-1-.025zm.322.673a3.354 3.354 0 00-.726 1.091l.924.38c.118-.285.292-.545.51-.765l-.708-.706zm-.726 1.091A3.354 3.354 0 002 5.93l1-.003c0-.31.06-.616.177-.902l-.924-.38zM2 5.93c0 1.553.458 2.597 1.239 3.268.757.65 1.74.88 2.64.987l.118-.993C5.15 9.09 4.416 8.89 3.89 8.438 3.388 8.007 3 7.276 3 5.928H2zm3.585 3.404c-.5.498-.629 1.09-.584 1.704L6 10.963c-.03-.408.052-.683.291-.921l-.705-.709zM5 11v3.5h1V11H5zm5 3.5V13H9v1.5h1zm0-1.5v-2.063H9V13h1z",fill:"currentColor"})),v0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M3.5 3.5h8v8m-8-8V0m0 3.5H0m11.5 8h-8V6m8 5.5V15m0-3.5H15",stroke:"currentColor"})),y0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M.5 12.5v-10a1 1 0 011-1h4l2 2h6a1 1 0 011 1v8a1 1 0 01-1 1h-12a1 1 0 01-1-1z",stroke:"currentColor"})),w0=t=>N.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M4.5 14.5v-3a1 1 0 011-1h4a1 1 0 011 1v3m3 0h-12a1 1 0 01-1-1v-12a1 1 0 011-1h8.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V13.5a1 1 0 01-1 1z",stroke:"currentColor"}));var Be=(t=>(t.Line="Line",t.Square="Square",t.Circle="Circle",t.Direction="Direction",t.VectorDocument="VectorDocument",t.LayersDifference="LayersDifference",t.AntiClockwise="AntiClockwise",t.Clockwise="Clockwise",t.Github="Github",t.Crop="Crop",t.Folder="Folder",t.Save="Save",t.Svg="Svg",t.SolidDown="SolidDown",t.SolidUp="SolidUp",t.SolidUpSmall="SolidUpSmall",t.SolidDownSmall="SolidDownSmall",t))(Be||{});const _0={Line:r0,Square:i0,Circle:l0,Direction:o0,VectorDocument:s0,LayersDifference:u0,AntiClockwise:p0,Clockwise:g0,Github:m0,Crop:v0,Folder:y0,Save:w0,Svg:a0,SolidDown:c0,SolidUp:f0,SolidUpSmall:d0,SolidDownSmall:h0},hh=({name:t,className:e})=>{const n=_0[t];return M.jsx("div",{className:"icon w-5"+(e?" "+e:""),children:M.jsx(n,{})})};var Q=(t=>(t.Pencil="Pencil",t.Eraser="Eraser",t.Fill="Fill",t.Line="Line",t.Rectangle="Rectangle",t.Circle="Circle",t.Select="Select",t.Pan="Pan",t.Zoom="Zoom",t.Text="Text",t))(Q||{});const ie=({label:t,title:e,icon:n,onClick:r,active:i=!1,children:l,className:o,style:u})=>M.jsx(M.Fragment,{children:M.jsxs("button",{className:"bg-gray-950 text-blue-700 font-semibold py-2 px-2 border border-blue-500 rounded w-10 h-10 flex flex-row justify-center items-center hover:bg-blue-500 hover:text-white hover:border-transparent  data-[active=true]:bg-blue-500 data-[active=true]:text-white data-[active=true]:border-transparent"+(o?" "+o:""),style:u,"data-active":i,onClick:r,title:e,children:[n&&M.jsx(hh,{name:n}),t&&M.jsx("span",{children:t}),l]})}),Go=({label:t,title:e,icon:n,className:r,style:i,buttonStyle:l,children:o})=>{const[u,a]=N.useState(!1);return M.jsxs("div",{className:"flex flex-row gap-2 relative"+(r?" "+r:""),style:i,children:[M.jsx(ie,{icon:n,label:t,title:e,"data-active":u,onClick:()=>a(!u),style:l}),M.jsx(hh,{name:Be.SolidDownSmall,className:"-rotate-45 absolute -bottom-1 left-6 text-blue-700"}),u&&M.jsx("div",{className:"flex flex-row gap-1",onClick:()=>a(!1),children:o})]})},ph=!0,x0=!1,al={CCW:-1,CW:1,NOT_ORIENTABLE:0},S0=2*Math.PI,Rl=1,gh=0,rt=2,E0=3,P0=4,T0=1,k0=2,bu=0,Wr=1,Gn=2;var Ul=Object.freeze({__proto__:null,BOUNDARY:rt,CCW:ph,CONTAINS:E0,CW:x0,END_VERTEX:Gn,INSIDE:Rl,INTERLACE:P0,NOT_VERTEX:bu,ORIENTATION:al,OUTSIDE:gh,OVERLAP_OPPOSITE:k0,OVERLAP_SAME:T0,PIx2:S0,START_VERTEX:Wr});let ft=1e-6;function mh(t){ft=t}function vh(){return ft}const C0=3;function Ws(t){return t<ft&&t>-ft}function pn(t,e){return t-e<ft&&t-e>-ft}function yh(t,e){return t-e>ft}function L0(t,e){return t-e>-ft}function wh(t,e){return t-e<-ft}function I0(t,e){return t-e<ft}var A0=Object.freeze({__proto__:null,DECIMALS:C0,EQ:pn,EQ_0:Ws,GE:L0,GT:yh,LE:I0,LT:wh,getTolerance:vh,setTolerance:mh});let s={Utils:A0,Errors:void 0,Matrix:void 0,Planar_set:void 0,Point:void 0,Vector:void 0,Line:void 0,Circle:void 0,Segment:void 0,Arc:void 0,Box:void 0,Edge:void 0,Face:void 0,Ray:void 0,Ray_shooting:void 0,Multiline:void 0,Polygon:void 0,Distance:void 0,Inversion:void 0};for(let t in Ul)s[t]=Ul[t];Object.defineProperty(s,"DP_TOL",{get:function(){return vh()},set:function(t){mh(t)}});class q{static get ILLEGAL_PARAMETERS(){return new ReferenceError("Illegal Parameters")}static get ZERO_DIVISION(){return new Error("Zero division")}static get UNRESOLVED_BOUNDARY_CONFLICT(){return new Error("Unresolved boundary conflict in boolean operation")}static get INFINITE_LOOP(){return new Error("Infinite loop")}static get CANNOT_COMPLETE_BOOLEAN_OPERATION(){return new Error("Cannot complete boolean operation")}static get CANNOT_INVOKE_ABSTRACT_METHOD(){return new Error("Abstract method cannot be invoked")}static get OPERATION_IS_NOT_SUPPORTED(){return new Error("Operation is not supported")}static get UNSUPPORTED_SHAPE_TYPE(){return new Error("Unsupported shape type")}}s.Errors=q;class ea{constructor(e,n){this.first=e,this.last=n||this.first}[Symbol.iterator](){let e;return{next:()=>(e=e?e.next:this.first,{value:e,done:e===void 0})}}get size(){let e=0;for(let n of this)e++;return e}toArray(e=void 0,n=void 0){let r=[],i=e||this.first,l=n||this.last,o=i;if(o===void 0)return r;do r.push(o),o=o.next;while(o!==l.next);return r}append(e){return this.isEmpty()?this.first=e:(e.prev=this.last,this.last.next=e),this.last=e,this.last.next=void 0,this.first.prev=void 0,this}insert(e,n){if(this.isEmpty())this.first=e,this.last=e;else if(n==null)e.next=this.first,this.first.prev=e,this.first=e;else{let r=n.next;n.next=e,r&&(r.prev=e),e.prev=n,e.next=r,this.last===n&&(this.last=e)}return this.last.next=void 0,this.first.prev=void 0,this}remove(e){return e===this.first&&e===this.last?(this.first=void 0,this.last=void 0):(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this.first&&(this.first=e.next),e===this.last&&(this.last=e.prev)),this}isEmpty(){return this.first===void 0}static testInfiniteLoop(e){let n=e,r=e;do{if(n!=e&&n===r)throw q.INFINITE_LOOP;n=n.next,r=r.next.next}while(n!=e)}}const Mc={stroke:"black"};class N0{constructor(e=Mc){for(const n in e)this[n]=e[n];this.stroke=e.stroke??Mc.stroke}toAttributesString(){return Object.keys(this).reduce((e,n)=>e+(this[n]!==void 0?this.toAttrString(n,this[n]):""),"")}toAttrString(e,n){const r=e==="className"?"class":this.convertCamelToKebabCase(e);return n===null?`${r} `:`${r}="${n.toString()}" `}convertCamelToKebabCase(e){return e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).join("-").toLowerCase()}}function _n(t){return new N0(t).toAttributesString()}function ar(t,e){let n=[],[r,i,l]=t.standard,[o,u,a]=e.standard,c=r*u-i*o,f=l*u-i*a,h=r*a-l*o;if(!s.Utils.EQ_0(c)){let g,v;i===0?(g=l/r,v=h/c):u===0?(g=a/o,v=h/c):r===0?(g=f/c,v=l/i):o===0?(g=f/c,v=a/u):(g=f/c,v=h/c),n.push(new s.Point(g,v))}return n}function xn(t,e){let n=[],r=e.pc.projectionOn(t),i=e.pc.distanceTo(r)[0];if(s.Utils.EQ(i,e.r))n.push(r);else if(s.Utils.LT(i,e.r)){let l=Math.sqrt(e.r*e.r-i*i),o,u;o=t.norm.rotate90CCW().multiply(l),u=r.translate(o),n.push(u),o=t.norm.rotate90CW().multiply(l),u=r.translate(o),n.push(u)}return n}function tr(t,e){let n=[];for(let r of e.toSegments()){let i=wi(r,t);for(let l of i)Lh(l,n)||n.push(l)}return n}function io(t,e){let n=[];if(tr(t,e.box).length===0)return n;let r=new s.Circle(e.pc,e.r),i=xn(t,r);for(let l of i)l.on(e)&&n.push(l);return n}function wi(t,e){let n=[];if(t.ps.on(e)&&n.push(t.ps),t.pe.on(e)&&!t.isZeroLength()&&n.push(t.pe),n.length>0||t.isZeroLength()||t.ps.leftTo(e)&&t.pe.leftTo(e)||!t.ps.leftTo(e)&&!t.pe.leftTo(e))return n;let r=new s.Line(t.ps,t.pe);return ar(r,e)}function lo(t,e){let n=[];if(t.box.not_intersect(e.box))return n;if(t.isZeroLength())return t.ps.on(e)&&n.push(t.ps),n;if(e.isZeroLength())return e.ps.on(t)&&n.push(e.ps),n;let r=new s.Line(t.ps,t.pe),i=new s.Line(e.ps,e.pe);if(r.incidentTo(i))t.ps.on(e)&&n.push(t.ps),t.pe.on(e)&&n.push(t.pe),e.ps.on(t)&&!e.ps.equalTo(t.ps)&&!e.ps.equalTo(t.pe)&&n.push(e.ps),e.pe.on(t)&&!e.pe.equalTo(t.ps)&&!e.pe.equalTo(t.pe)&&n.push(e.pe);else{let l=ar(r,i);l.length>0&&zc(l[0],t)&&zc(l[0],e)&&n.push(l[0])}return n}function zc(t,e){const n=e.box;return s.Utils.LE(t.x,n.xmax)&&s.Utils.GE(t.x,n.xmin)&&s.Utils.LE(t.y,n.ymax)&&s.Utils.GE(t.y,n.ymin)}function oo(t,e){let n=[];if(t.box.not_intersect(e.box))return n;if(t.isZeroLength()){let[l,o]=t.ps.distanceTo(e.pc);return s.Utils.EQ(l,e.r)&&n.push(t.ps),n}let r=new s.Line(t.ps,t.pe),i=xn(r,e);for(let l of i)l.on(t)&&n.push(l);return n}function cr(t,e){let n=[];if(t.box.not_intersect(e.box))return n;if(t.isZeroLength())return t.ps.on(e)&&n.push(t.ps),n;let r=new s.Line(t.ps,t.pe),i=new s.Circle(e.pc,e.r),l=xn(r,i);for(let o of l)o.on(t)&&o.on(e)&&n.push(o);return n}function O0(t,e){let n=[];for(let r of e.toSegments()){let i=lo(r,t);for(let l of i)n.push(l)}return n}function _h(t,e){let n=[];if(t.box.not_intersect(e.box))return n;let r=new s.Vector(t.pc,e.pc),i=t.r,l=e.r;if(s.Utils.EQ_0(i)||s.Utils.EQ_0(l))return n;if(s.Utils.EQ_0(r.x)&&s.Utils.EQ_0(r.y)&&s.Utils.EQ(i,l))return n.push(t.pc.translate(-i,0)),n;let o=t.pc.distanceTo(e.pc)[0];if(s.Utils.GT(o,i+l)||s.Utils.LT(o,Math.abs(i-l)))return n;r.x/=o,r.y/=o;let u;if(s.Utils.EQ(o,i+l)||s.Utils.EQ(o,Math.abs(i-l)))return u=t.pc.translate(i*r.x,i*r.y),n.push(u),n;let a=i*i/(2*o)-l*l/(2*o)+o/2,c=t.pc.translate(a*r.x,a*r.y),f=Math.sqrt(i*i-a*a);return u=c.translate(r.rotate90CCW().multiply(f)),n.push(u),u=c.translate(r.rotate90CW().multiply(f)),n.push(u),n}function M0(t,e){let n=[];for(let r of e.toSegments()){let i=oo(r,t);for(let l of i)n.push(l)}return n}function xh(t,e){let n=[];if(t.box.not_intersect(e.box))return n;if(t.pc.equalTo(e.pc)&&s.Utils.EQ(t.r,e.r)){let o;return o=t.start,o.on(e)&&n.push(o),o=t.end,o.on(e)&&n.push(o),o=e.start,o.on(t)&&n.push(o),o=e.end,o.on(t)&&n.push(o),n}let r=new s.Circle(t.pc,t.r),i=new s.Circle(e.pc,e.r),l=r.intersect(i);for(let o of l)o.on(t)&&o.on(e)&&n.push(o);return n}function ta(t,e){let n=[];if(t.box.not_intersect(e.box))return n;if(e.pc.equalTo(t.pc)&&s.Utils.EQ(e.r,t.r))return n.push(t.start),n.push(t.end),n;let r=e,i=new s.Circle(t.pc,t.r),l=_h(r,i);for(let o of l)o.on(t)&&n.push(o);return n}function z0(t,e){let n=[];for(let r of e.toSegments()){let i=cr(r,t);for(let l of i)n.push(l)}return n}function Sh(t,e){return t.isSegment?lo(t.shape,e):cr(e,t.shape)}function Eh(t,e){return t.isSegment?cr(t.shape,e):xh(t.shape,e)}function Ph(t,e){return t.isSegment?wi(t.shape,e):io(e,t.shape)}function R0(t,e){return t.isSegment?ia(e,t.shape):la(e,t.shape)}function U0(t,e){return t.isSegment?oo(t.shape,e):ta(t.shape,e)}function na(t,e){let n=[];for(let r of e.edges)for(let i of Sh(r,t))n.push(i);return n}function ra(t,e){let n=[];for(let r of e.edges)for(let i of Eh(r,t))n.push(i);return n}function _i(t,e){let n=[];if(e.isEmpty())return n;for(let r of e.edges)for(let i of Ph(r,t))Lh(i,n)||n.push(i);return t.sortPoints(n)}function Th(t,e){let n=[];if(e.isEmpty())return n;for(let r of e.edges)for(let i of U0(r,t))n.push(i);return n}function kh(t,e){return t.isSegment?Sh(e,t.shape):t.isArc?Eh(e,t.shape):t.isLine?Ph(e,t.shape):t.isRay?R0(e,t.shape):[]}function Ch(t,e){let n=[];if(e.isEmpty()||t.shape.box.not_intersect(e.box))return n;let r=e.edges.search(t.shape.box);for(let i of r)n=[...n,...kh(t,i)];return n}function D0(t,e){let n=[];if(e.isEmpty()||t.size===0)return n;for(let r of t)n=[...n,...Ch(r,e)];return n}function F0(t,e){let n=[];if(t.isEmpty()||e.isEmpty()||t.box.not_intersect(e.box))return n;for(let r of t.edges)n=[...n,...Ch(r,e)];return n}function B0(t,e){return t instanceof s.Line?_i(t,e):t instanceof s.Segment?na(t,e):t instanceof s.Arc?ra(t,e):[]}function Lh(t,e){return e.some(n=>n.equalTo(t))}function Qt(t){return new s.Line(t.start,t.norm)}function ia(t,e){return wi(e,Qt(t)).filter(n=>t.contains(n))}function la(t,e){return io(Qt(t),e).filter(n=>t.contains(n))}function Ih(t,e){return xn(Qt(t),e).filter(n=>t.contains(n))}function j0(t,e){return tr(Qt(t),e).filter(n=>t.contains(n))}function Ah(t,e){return ar(Qt(t),e).filter(n=>t.contains(n))}function V0(t,e){return ar(Qt(t),Qt(e)).filter(n=>t.contains(n)).filter(n=>e.contains(n))}function Nh(t,e){return _i(Qt(t),e).filter(n=>t.contains(n))}function Oh(t,e){if(t.intersect&&t.intersect instanceof Function)return t.intersect(e);throw q.UNSUPPORTED_SHAPE_TYPE}function xi(t,e){let n=[];for(let r of e)n=[...n,...Oh(r,r.shape)];return n}function $0(t,e){let n=[];for(let r of t)for(let i of e)n=[...n,...Oh(r,i)];return n}let Sn=class Mr extends ea{constructor(...e){if(super(),this.isInfinite=!1,e.length===1&&e[0]instanceof Array&&e[0].length>0){let n=!1;const r=e[0],i=r.length,l=a=>a instanceof s.Segment||a instanceof s.Arc||a instanceof s.Ray||a instanceof s.Line,o=a=>a instanceof s.Segment||a instanceof s.Arc||a instanceof s.Ray,u=a=>a instanceof s.Segment||a instanceof s.Arc;if(n=i===1&&l(r[0])||i>1&&o(r[0])&&o(r[i-1])&&r.slice(1,i-1).every(u),n){this.isInfinite=r.some(a=>a instanceof s.Ray||a instanceof s.Line);for(let a of r){let c=new s.Edge(a);this.append(c)}this.setArcLength()}else throw s.Errors.ILLEGAL_PARAMETERS}}get edges(){return[...this]}get box(){return this.edges.reduce((e,n)=>e.merge(n.box),new s.Box)}get vertices(){let e=this.edges.map(n=>n.start);return e.push(this.last.end),e}get length(){if(this.isEmpty())return 0;if(this.isInfinite)return Number.POSITIVE_INFINITY;let e=0;for(let n of this)e+=n.length;return e}clone(){return new Mr(this.toShapes())}setArcLength(){for(let e of this)this.setOneEdgeArcLength(e)}setOneEdgeArcLength(e){e===this.first?e.arc_length=0:e.arc_length=e.prev.arc_length+e.prev.length}pointAtLength(e){if(e>this.length||e<0||this.isInfinite)return null;let n=null;for(let r of this)if(e>=r.arc_length&&(r===this.last||e<r.next.arc_length)){n=r.pointAtLength(e-r.arc_length);break}return n}addVertex(e,n){let r=n.shape.split(e);if(r[0]===null)return n.prev;if(r[1]===null)return n;let i=new s.Edge(r[0]),l=n.prev;return this.insert(i,l),n.shape=r[1],i}getChain(e,n){let r=[];for(let i=e;i!==n.next;i=i.next)r.push(i);return r}split(e){for(let n of e){let r=this.findEdgeByPoint(n);this.addVertex(n,r)}return this}findEdgeByPoint(e){let n;for(let r of this)if(r.shape.contains(e)){n=r;break}return n}distanceTo(e){if(e instanceof Point){const[n,r]=s.Distance.shape2multiline(e,this);return[n,r.reverse()]}if(e instanceof s.Line){const[n,r]=s.Distance.shape2multiline(e,this);return[n,r.reverse()]}if(e instanceof s.Circle){const[n,r]=s.Distance.shape2multiline(e,this);return[n,r.reverse()]}if(e instanceof s.Segment){const[n,r]=s.Distance.shape2multiline(e,this);return[n,r.reverse()]}if(e instanceof s.Arc){const[n,r]=s.Distance.shape2multiline(e,this);return[n,r.reverse()]}if(e instanceof s.Multiline)return s.Distance.multiline2multiline(this,e);throw s.Errors.UNSUPPORTED_SHAPE_TYPE}intersect(e){return e instanceof s.Multiline?$0(this,e):xi(e,this)}contains(e){if(e instanceof s.Point)return this.edges.some(n=>n.shape.contains(e));throw s.Errors.UNSUPPORTED_SHAPE_TYPE}translate(e){return new Mr(this.edges.map(n=>n.shape.translate(e)))}rotate(e=0,n=new s.Point){return new Mr(this.edges.map(r=>r.shape.rotate(e,n)))}transform(e=new s.Matrix){return new Mr(this.edges.map(n=>n.shape.transform(e)))}toShapes(){return this.edges.map(e=>e.shape.clone())}toJSON(){return this.edges.map(e=>e.toJSON())}svgPoints(){return this.vertices.map(e=>`${e.x},${e.y}`).join(" ")}dpath(){let e=`M${this.first.start.x},${this.first.start.y}`;for(let n of this)e+=n.svg();return e}svg(e={}){let n=`
<path ${_n({fill:"none",...e})} d="`;n+=`
M${this.first.start.x},${this.first.start.y}`;for(let r of this)n+=r.svg();return n+=`" >
</path>`,n}};s.Multiline=Sn;const H0=(...t)=>new s.Multiline(...t);s.multiline=H0;function nr(t,e,n){let r=n.length,i=t.shape.split(e);if(i.length===0)return;let l=0;i[0]===null?l=0:i[1]===null?l=t.shape.length:l=i[0].length;let o=bu;pn(l,0)&&(o|=Wr),pn(l,t.shape.length)&&(o|=Gn);let u;l===1/0?u=i[0].coord(e):u=o&Gn&&t.next&&t.next.arc_length===0?0:t.arc_length+l,n.push({id:r,pt:e,arc_length:u,edge_before:t,edge_after:void 0,face:t.face,is_vertex:o})}function ci(t){t.int_points1_sorted=It(t.int_points1),t.int_points2_sorted=It(t.int_points2)}function It(t){let e=new Map,n=0;for(let i of t)e.has(i.face)||(e.set(i.face,n),n++);for(let i of t)i.faceId=e.get(i.face);return t.slice().sort(W0)}function W0(t,e){return t.faceId<e.faceId?-1:t.faceId>e.faceId?1:t.arc_length<e.arc_length?-1:t.arc_length>e.arc_length?1:0}function oa(t){if(t.int_points1.length<2)return;let e=!1,n,r,i,l;for(let o=0;o<t.int_points1_sorted.length;o++)if(t.int_points1_sorted[o].id!==-1){n=t.int_points1_sorted[o],r=t.int_points2[n.id];for(let u=o+1;u<t.int_points1_sorted.length&&(i=t.int_points1_sorted[u],!!pn(i.arc_length,n.arc_length));u++)i.id!==-1&&(l=t.int_points2[i.id],l.id!==-1&&i.edge_before===n.edge_before&&i.edge_after===n.edge_after&&l.edge_before===r.edge_before&&l.edge_after===r.edge_after&&(i.id=-1,l.id=-1,e=!0))}r=t.int_points2_sorted[0],n=t.int_points1[r.id];for(let o=1;o<t.int_points2_sorted.length;o++){let u=t.int_points2_sorted[o];if(u.id===-1)continue;if(r.id===-1||!pn(u.arc_length,r.arc_length)){r=u,n=t.int_points1[r.id];continue}let a=t.int_points1[u.id];a.edge_before===n.edge_before&&a.edge_after===n.edge_after&&u.edge_before===r.edge_before&&u.edge_after===r.edge_after&&(a.id=-1,u.id=-1,e=!0)}e&&(t.int_points1=t.int_points1.filter(o=>o.id>=0),t.int_points2=t.int_points2.filter(o=>o.id>=0),t.int_points1.forEach((o,u)=>o.id=u),t.int_points2.forEach((o,u)=>o.id=u))}function Qs(t){for(let e of t)e.edge_before&&(e.edge_before.bvStart=void 0,e.edge_before.bvEnd=void 0,e.edge_before.bv=void 0,e.edge_before.overlap=void 0),e.edge_after&&(e.edge_after.bvStart=void 0,e.edge_after.bvEnd=void 0,e.edge_after.bv=void 0,e.edge_after.overlap=void 0);for(let e of t)e.edge_before&&(e.edge_before.bvEnd=rt),e.edge_after&&(e.edge_after.bvStart=rt)}function Gs(t,e){for(let n of t)n.edge_before&&n.edge_before.setInclusion(e),n.edge_after&&n.edge_after.setInclusion(e)}function Q0(t){let e,n,r,i=t.int_points1.length;for(let l=0;l<i;l++){let o=t.int_points1_sorted[l];o.face!==e&&(n=l,e=o.face);let u=l,a=rr(t.int_points1_sorted,l,e),c;u+a<i&&t.int_points1_sorted[u+a].face===e?c=u+a:c=n;let f=rr(t.int_points1_sorted,c,e);r=null;for(let m=c;m<c+f;m++){let d=t.int_points1_sorted[m];if(d.face===e&&t.int_points2[d.id].face===t.int_points2[o.id].face){r=d;break}}if(r===null)continue;let h=o.edge_after,g=r.edge_before;if(!(h.bv===rt&&g.bv===rt)||h!==g)continue;let v=t.int_points2[o.id],_=t.int_points2[r.id],w=v.edge_after,I=_.edge_before;w.bv===rt&&I.bv===rt&&w===I||(v=t.int_points2[r.id],_=t.int_points2[o.id],w=v.edge_after,I=_.edge_before),w.bv===rt&&I.bv===rt&&w===I&&h.setOverlap(w)}}function rr(t,e,n){let r,i,l=1;if(t.length===1)return 1;r=t[e];for(let o=e+1;o<t.length&&!(r.face!==n||(i=t[o],!(i.pt.equalTo(r.pt)&&i.edge_before===r.edge_before&&i.edge_after===r.edge_after)));o++)l++;return l}function ir(t,e){if(e){for(let n of e){let r=n.edge_before;if(n.is_vertex=bu,r.shape.start&&r.shape.start.equalTo(n.pt)&&(n.is_vertex|=Wr),r.shape.end&&r.shape.end.equalTo(n.pt)&&(n.is_vertex|=Gn),n.is_vertex&Wr){n.edge_before=r.prev,r.prev&&(n.is_vertex=Gn);continue}if(n.is_vertex&Gn)continue;let i=t.addVertex(n.pt,r);n.edge_before=i}for(let n of e)n.edge_before?n.edge_after=n.edge_before.next:t instanceof Sn&&n.is_vertex&Wr&&(n.edge_after=t.first)}}function Rc(t,e,n){const r=t.edge_before,i=e.edge_after,l=n.length;r.next=n[0],n[0].prev=r,n[l-1].next=i,i.prev=n[l-1]}const{INSIDE:st,OUTSIDE:ut,BOUNDARY:ae,OVERLAP_SAME:G0,OVERLAP_OPPOSITE:Y0}=Ul,{NOT_VERTEX:ky,START_VERTEX:Uc,END_VERTEX:Dc}=Ul,so=1,Si=2,gn=3;function q0(t,e){let[n,r]=Ei(t,e,so,!0);return n}function Ys(t,e){let r=e.clone().reverse(),[i,l]=Ei(t,r,gn,!0);return i}function Mh(t,e){let[n,r]=Ei(t,e,Si,!0);return n}function zh(t,e){let[n,r]=Ei(t,e,Si,!1),i=[];for(let o of n.faces)i=[...i,...[...o.edges].map(u=>u.shape)];let l=[];for(let o of r.faces)l=[...l,...[...o.edges].map(u=>u.shape)];return[i,l]}function qs(t,e){let[n,r]=Ei(t,e,gn,!1),i=[];for(let l of n.faces)i=[...i,...[...l.edges].map(o=>o.shape)];return i}function Rh(t,e){let n=t.clone(),r=e.clone(),i=Uh(n,r);ci(i),ir(n,i.int_points1_sorted),ir(r,i.int_points2_sorted),oa(i),ci(i);let l=i.int_points1_sorted.map(u=>u.pt),o=i.int_points2_sorted.map(u=>u.pt);return[l,o]}function K0(t,e,n,r){let i=Fc(t,n.int_points1),l=Fc(e,n.int_points2);for(Bc(i,e),Bc(l,t),Qs(n.int_points1),Qs(n.int_points2),Gs(n.int_points1,e),Gs(n.int_points2,t);J0(t,e,n.int_points1,n.int_points1_sorted,n.int_points2,n););Q0(n),Ks(t,r,n.int_points1_sorted,!0),Ks(e,r,n.int_points2_sorted,!1),jc(t,i,r,!0),jc(e,l,r,!1)}function X0(t,e,n,r){Z0(t,e,r,n.int_points2),b0(t,e,n),Xs(t,n.int_points1),Xs(e,n.int_points2),Js(t,n.int_points1,n.int_points2),Js(t,n.int_points2,n.int_points1)}function Ei(t,e,n,r){let i=t.clone(),l=e.clone(),o=Uh(i,l);return ci(o),ir(i,o.int_points1_sorted),ir(l,o.int_points2_sorted),oa(o),ci(o),K0(i,l,o,n),r&&X0(i,l,o,n),[i,l]}function Uh(t,e){let n={int_points1:[],int_points2:[]};for(let r of t.edges){let i=e.edges.search(r.box);for(let l of i){let o=r.shape.intersect(l.shape);for(let u of o)nr(r,u,n.int_points1),nr(l,u,n.int_points2)}}return n}function Fc(t,e){let n=[];for(let r of t.faces)e.find(i=>i.face===r)||n.push(r);return n}function Bc(t,e){for(let n of t)n.first.bv=n.first.bvStart=n.first.bvEnd=void 0,n.first.setInclusion(e)}function J0(t,e,n,r,i,l){let o,u,a,c=r.length,f=!1;for(let h=0;h<c;h++){let g=r[h];g.face!==o&&(u=h,o=g.face);let v=h,_=rr(r,h,o),w;v+_<c&&r[v+_].face===o?w=v+_:w=u;let I=rr(r,w,o);a=null;for(let p=w;p<w+I;p++){let y=r[p];if(y.face===o&&i[y.id].face===i[g.id].face){a=y;break}}if(a===null)continue;let m=g.edge_after,d=a.edge_before;if(m.bv===ae&&d.bv!=ae){m.bv=d.bv;continue}if(m.bv!=ae&&d.bv===ae){d.bv=m.bv;continue}if(m.bv===ae&&d.bv===ae&&m!=d||m.bv===st&&d.bv===ut||m.bv===ut&&d.bv===st){let p=m.next;for(;p!=d;)p.bvStart=void 0,p.bvEnd=void 0,p.bv=void 0,p.setInclusion(e),p=p.next}if(m.bv===ae&&d.bv===ae&&m!=d){let p=m.next,y;for(;p!=d;){if(p.bv!=ae){if(y===void 0)y=p.bv;else if(p.bv!=y)throw q.UNRESOLVED_BOUNDARY_CONFLICT}p=p.next}y!=null&&(m.bv=y,d.bv=y);continue}if(m.bv===st&&d.bv===ut||m.bv===ut&&d.bv===st){let p=m;for(;p!=d;){if(p.bvStart===m.bv&&p.bvEnd===d.bv){let[y,S]=p.shape.distanceTo(e);if(y<10*s.DP_TOL){nr(p,S.ps,n);let P=n[n.length-1];if(P.is_vertex&Uc)P.edge_after=p,P.edge_before=p.prev,p.bvStart=ae,p.bv=void 0,p.setInclusion(e);else if(P.is_vertex&Dc)P.edge_after=p.next,p.bvEnd=ae,p.bv=void 0,p.setInclusion(e);else{let j=e.addVertex(P.pt,p);P.edge_before=j,P.edge_after=j.next,j.setInclusion(e),j.next.bvStart=ae,j.next.bvEnd=void 0,j.next.bv=void 0,j.next.setInclusion(e)}let k=e.findEdgeByPoint(S.pe);nr(k,S.pe,i);let L=i[i.length-1];if(L.is_vertex&Uc)L.edge_after=k,L.edge_before=k.prev;else if(L.is_vertex&Dc)L.edge_after=k.next;else{let j=i.find(Oe=>Oe.edge_after===k),A=e.addVertex(L.pt,k);L.edge_before=A,L.edge_after=A.next,j&&(j.edge_after=A),A.bvStart=void 0,A.bvEnd=ae,A.bv=void 0,A.setInclusion(t),A.next.bvStart=ae,A.next.bvEnd=void 0,A.next.bv=void 0,A.next.setInclusion(t)}ci(l),f=!0;break}}p=p.next}if(f)break;throw q.UNRESOLVED_BOUNDARY_CONFLICT}}return f}function Ks(t,e,n,r){if(!n)return;let i,l,o,u;for(let a=0;a<n.length;a++){if(o=n[a],o.face!==i&&(l=a,i=o.face),i.isEmpty())continue;let c=a,f=rr(n,a,i),h;c+f<n.length&&n[c+f].face===o.face?h=c+f:h=l,u=n[h];let g=h,v=rr(n,g,i),_=o.edge_after,w=u.edge_before;if(_.bv===st&&w.bv===st&&e===so||_.bv===ut&&w.bv===ut&&e===Si||(_.bv===ut||w.bv===ut)&&e===gn&&!r||(_.bv===st||w.bv===st)&&e===gn&&r||_.bv===ae&&w.bv===ae&&_.overlap&G0&&r||_.bv===ae&&w.bv===ae&&_.overlap&Y0){t.removeChain(i,_,w);for(let I=c;I<c+f;I++)n[I].edge_after=void 0;for(let I=g;I<g+v;I++)n[I].edge_before=void 0}a+=f-1}}function Z0(t,e,n,r){for(let i of e.faces){for(let l of i)t.edges.add(l);r.find(l=>l.face===i)===void 0&&t.addFace(i.first,i.last)}}function b0(t,e,n){if(n.int_points1.length!==0)for(let r=0;r<n.int_points1.length;r++){let i=n.int_points1[r],l=n.int_points2[r];if(i.edge_before!==void 0&&i.edge_after===void 0&&l.edge_before===void 0&&l.edge_after!==void 0&&(i.edge_before.next=l.edge_after,l.edge_after.prev=i.edge_before,i.edge_after=l.edge_after,l.edge_before=i.edge_before),l.edge_before!==void 0&&l.edge_after===void 0&&i.edge_before===void 0&&i.edge_after!==void 0&&(l.edge_before.next=i.edge_after,i.edge_after.prev=l.edge_before,l.edge_after=i.edge_after,i.edge_before=l.edge_before),i.edge_before!==void 0&&i.edge_after===void 0)for(let o of n.int_points1_sorted)o!==i&&o.edge_before===void 0&&o.edge_after!==void 0&&o.pt.equalTo(i.pt)&&(i.edge_before.next=o.edge_after,o.edge_after.prev=i.edge_before,i.edge_after=o.edge_after,o.edge_before=i.edge_before);if(l.edge_before!==void 0&&l.edge_after===void 0)for(let o of n.int_points2_sorted)o!==l&&o.edge_before===void 0&&o.edge_after!==void 0&&o.pt.equalTo(l.pt)&&(l.edge_before.next=o.edge_after,o.edge_after.prev=l.edge_before,l.edge_after=o.edge_after,o.edge_before=l.edge_before)}}function Xs(t,e){for(let n of e)t.faces.delete(n.face),n.face=void 0,n.edge_before&&(n.edge_before.face=void 0),n.edge_after&&(n.edge_after.face=void 0)}function Js(t,e,n){for(let r of e){if(r.edge_before===void 0||r.edge_after===void 0||r.face||r.edge_after.face||r.edge_before.face)continue;let i=r.edge_after,l=r.edge_before;try{ea.testInfiniteLoop(i)}catch{throw q.CANNOT_COMPLETE_BOOLEAN_OPERATION}let o=t.addFace(i,l);for(let u of e)u.edge_before&&u.edge_after&&u.edge_before.face===o&&u.edge_after.face===o&&(u.face=o);for(let u of n)u.edge_before&&u.edge_after&&u.edge_before.face===o&&u.edge_after.face===o&&(u.face=o)}}function jc(t,e,n,r){for(let i of e){let l=i.first.bv;(n===so&&l===st||n===gn&&l===st&&r||n===gn&&l===ut&&!r||n===Si&&l===ut)&&t.deleteFace(i)}}var ev=Object.freeze({__proto__:null,BOOLEAN_INTERSECT:Si,BOOLEAN_SUBTRACT:gn,BOOLEAN_UNION:so,calculateIntersections:Rh,innerClip:zh,intersect:Mh,outerClip:qs,removeNotRelevantChains:Ks,removeOldFaces:Xs,restoreFaces:Js,subtract:Ys,unify:q0});const tv=RegExp("T.F..FFF.|T.F...F.."),nv=RegExp("T........|.T.......|...T.....|....T...."),rv=RegExp("FT.......|F..T.....|F...T...."),iv=RegExp("T.F..F..."),lv=RegExp("T.F..F...|.TF..F...|..FT.F...|..F.TF...");class fr{constructor(){this.m=new Array(9).fill(void 0)}get I2I(){return this.m[0]}set I2I(e){this.m[0]=e}get I2B(){return this.m[1]}set I2B(e){this.m[1]=e}get I2E(){return this.m[2]}set I2E(e){this.m[2]=e}get B2I(){return this.m[3]}set B2I(e){this.m[3]=e}get B2B(){return this.m[4]}set B2B(e){this.m[4]=e}get B2E(){return this.m[5]}set B2E(e){this.m[5]=e}get E2I(){return this.m[6]}set E2I(e){this.m[6]=e}get E2B(){return this.m[7]}set E2B(e){this.m[7]=e}get E2E(){return this.m[8]}set E2E(e){this.m[8]=e}toString(){return this.m.map(e=>e instanceof Array&&e.length>0?"T":e instanceof Array&&e.length===0?"F":"*").join("")}equal(){return tv.test(this.toString())}intersect(){return nv.test(this.toString())}touch(){return rv.test(this.toString())}inside(){return iv.test(this.toString())}covered(){return lv.test(this.toString())}}function Qr(t,e){let n,r=new s.Ray(e),i=new s.Line(r.pt,r.norm);const l=new s.Box(r.box.xmin-s.DP_TOL,r.box.ymin-s.DP_TOL,r.box.xmax,r.box.ymax+s.DP_TOL);if(t.box.not_intersect(l))return s.OUTSIDE;let o=t.edges.search(l);if(o.length===0)return s.OUTSIDE;for(let f of o)if(f.shape.contains(e))return s.BOUNDARY;let u=[...t.faces],a=[];for(let f of o)for(let h of r.intersect(f.shape)){if(h.equalTo(e))return s.BOUNDARY;a.push({pt:h,edge:f,face_index:u.indexOf(f.face)})}a.sort((f,h)=>wh(f.pt.x,h.pt.x)?-1:yh(f.pt.x,h.pt.x)?1:f.face_index<h.face_index?-1:f.face_index>h.face_index?1:f.edge.arc_length<h.edge.arc_length?-1:f.edge.arc_length>h.edge.arc_length?1:0);let c=0;for(let f=0;f<a.length;f++){let h=a[f];if(h.pt.equalTo(h.edge.shape.start)){if(f>0&&h.pt.equalTo(a[f-1].pt)&&h.face_index===a[f-1].face_index&&h.edge.prev===a[f-1].edge)continue;let g=h.edge.prev;for(;Ws(g.length);)g=g.prev;let v=g.shape.tangentInEnd(),_=h.pt.translate(v),w=h.edge.shape.tangentInStart(),I=h.pt.translate(w),m=_.leftTo(i),d=I.leftTo(i);(m&&!d||!m&&d)&&c++}else if(h.pt.equalTo(h.edge.shape.end)){if(f>0&&h.pt.equalTo(a[f-1].pt)&&h.face_index===a[f-1].face_index&&h.edge.next===a[f-1].edge)continue;let g=h.edge.next;for(;Ws(g.length);)g=g.next;let v=g.shape.tangentInStart(),_=h.pt.translate(v),w=h.edge.shape.tangentInEnd(),I=h.pt.translate(w),m=_.leftTo(i),d=I.leftTo(i);(m&&!d||!m&&d)&&c++}else if(h.edge.shape instanceof s.Segment)c++;else{let g=h.edge.shape.box;pn(h.pt.y,g.ymin)||pn(h.pt.y,g.ymax)||c++}}return n=c%2===1?Rl:gh,n}function ov(t,e){return dr(t,e).equal()}function Dh(t,e){return dr(t,e).intersect()}function sv(t,e){return dr(t,e).touch()}function uv(t,e){return!Dh(t,e)}function Fh(t,e){return dr(t,e).inside()}function Bh(t,e){return dr(t,e).covered()}function av(t,e){return Fh(e,t)}function jh(t,e){return Bh(e,t)}function dr(t,e){if(t instanceof s.Line&&e instanceof s.Line)return cv(t,e);if(t instanceof s.Line&&e instanceof s.Circle)return fv(t,e);if(t instanceof s.Line&&e instanceof s.Box)return dv(t,e);if(t instanceof s.Line&&e instanceof s.Polygon)return hv(t,e);if((t instanceof s.Segment||t instanceof s.Arc)&&e instanceof s.Polygon)return Vc(t,e);if((t instanceof s.Segment||t instanceof s.Arc)&&(e instanceof s.Circle||e instanceof s.Box))return Vc(t,new s.Polygon(e));if(t instanceof s.Polygon&&e instanceof s.Polygon)return Yi(t,e);if((t instanceof s.Circle||t instanceof s.Box)&&(e instanceof s.Circle||e instanceof s.Box))return Yi(new s.Polygon(t),new s.Polygon(e));if((t instanceof s.Circle||t instanceof s.Box)&&e instanceof s.Polygon)return Yi(new s.Polygon(t),e);if(t instanceof s.Polygon&&(e instanceof s.Circle||e instanceof s.Box))return Yi(t,new s.Polygon(e))}function cv(t,e){let n=new fr,r=ar(t,e);return r.length===0?t.contains(e.pt)&&e.contains(t.pt)?(n.I2I=[t],n.I2E=[],n.E2I=[]):(n.I2I=[],n.I2E=[t],n.E2I=[e]):(n.I2I=r,n.I2E=t.split(r),n.E2I=e.split(r)),n}function fv(t,e){let n=new fr,r=xn(t,e);if(r.length===0)n.I2I=[],n.I2B=[],n.I2E=[t],n.E2I=[e];else if(r.length===1)n.I2I=[],n.I2B=r,n.I2E=t.split(r),n.E2I=[e];else{let i=new Sn([t]),l=t.sortPoints(r);i.split(l);let o=i.toShapes();n.I2I=[o[1]],n.I2B=l,n.I2E=[o[0],o[2]],n.E2I=new s.Polygon([e.toArc()]).cutWithLine(t)}return n}function dv(t,e){let n=new fr,r=tr(t,e);if(r.length===0)n.I2I=[],n.I2B=[],n.I2E=[t],n.E2I=[e];else if(r.length===1)n.I2I=[],n.I2B=r,n.I2E=t.split(r),n.E2I=[e];else{let i=new Sn([t]),l=t.sortPoints(r);i.split(l);let o=i.toShapes();e.toSegments().some(u=>u.contains(r[0])&&u.contains(r[1]))?(n.I2I=[],n.I2B=[o[1]],n.I2E=[o[0],o[2]],n.E2I=[e]):(n.I2I=[o[1]],n.I2B=l,n.I2E=[o[0],o[2]],n.E2I=new s.Polygon(e.toSegments()).cutWithLine(t))}return n}function hv(t,e){let n=new fr,r=_i(t,e),i=new Sn([t]),l=r.length>0?r.slice():t.sortPoints(r);return i.split(l),[...i].forEach(o=>o.setInclusion(e)),n.I2I=[...i].filter(o=>o.bv===s.INSIDE).map(o=>o.shape),n.I2B=[...i].slice(1).map(o=>o.bv===s.BOUNDARY?o.shape:o.shape.start),n.I2E=[...i].filter(o=>o.bv===s.OUTSIDE).map(o=>o.shape),n.E2I=e.cutWithLine(t),n}function Vc(t,e){let n=new fr,r=B0(t,e),i=r.length>0?r.slice():t.sortPoints(r),l=new Sn([t]);l.split(i),[...l].forEach(o=>o.setInclusion(e)),n.I2I=[...l].filter(o=>o.bv===s.INSIDE).map(o=>o.shape),n.I2B=[...l].slice(1).map(o=>o.bv===s.BOUNDARY?o.shape:o.shape.start),n.I2E=[...l].filter(o=>o.bv===s.OUTSIDE).map(o=>o.shape),n.B2I=[],n.B2B=[],n.B2E=[];for(let o of[t.start,t.end])switch(Qr(e,o)){case s.INSIDE:n.B2I.push(o);break;case s.BOUNDARY:n.B2B.push(o);break;case s.OUTSIDE:n.B2E.push(o);break}return n}function Yi(t,e){let n=new fr,[r,i]=Rh(t,e),l=Mh(t,e),o=Ys(t,e),u=Ys(e,t),[a,c]=zh(t,e),f=qs(t,e),h=qs(e,t);return n.I2I=l.isEmpty()?[]:[l],n.I2B=c,n.I2E=o.isEmpty()?[]:[o],n.B2I=a,n.B2B=r,n.B2E=f,n.E2I=u.isEmpty()?[]:[u],n.E2B=h,n}var Vh=Object.freeze({__proto__:null,contain:av,cover:jh,covered:Bh,disjoint:uv,equal:ov,inside:Fh,intersect:Dh,relate:dr,touch:sv});class Xe{constructor(e=1,n=0,r=0,i=1,l=0,o=0){this.a=e,this.b=n,this.c=r,this.d=i,this.tx=l,this.ty=o}clone(){return new Xe(this.a,this.b,this.c,this.d,this.tx,this.ty)}transform(e){return[e[0]*this.a+e[1]*this.c+this.tx,e[0]*this.b+e[1]*this.d+this.ty]}multiply(e){return new Xe(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.tx+this.c*e.ty+this.tx,this.b*e.tx+this.d*e.ty+this.ty)}translate(...e){let n,r;if(e.length==1&&!isNaN(e[0].x)&&!isNaN(e[0].y))n=e[0].x,r=e[0].y;else if(e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")n=e[0],r=e[1];else throw q.ILLEGAL_PARAMETERS;return this.multiply(new Xe(1,0,0,1,n,r))}rotate(e,n=0,r=0){let i=Math.cos(e),l=Math.sin(e);return this.translate(n,r).multiply(new Xe(i,l,-l,i,0,0)).translate(-n,-r)}scale(e,n){return this.multiply(new Xe(e,0,0,n,0,0))}equalTo(e){return!(!s.Utils.EQ(this.tx,e.tx)||!s.Utils.EQ(this.ty,e.ty)||!s.Utils.EQ(this.a,e.a)||!s.Utils.EQ(this.b,e.b)||!s.Utils.EQ(this.c,e.c)||!s.Utils.EQ(this.d,e.d))}}s.Matrix=Xe;const pv=(...t)=>new s.Matrix(...t);s.matrix=pv;const gv=class Zs{constructor(e,n){this.low=e,this.high=n}clone(){return new Zs(this.low,this.high)}get max(){return this.clone()}less_than(e){return this.low<e.low||this.low===e.low&&this.high<e.high}equal_to(e){return this.low===e.low&&this.high===e.high}intersect(e){return!this.not_intersect(e)}not_intersect(e){return this.high<e.low||e.high<this.low}merge(e){return new Zs(this.low===void 0?e.low:this.low<e.low?this.low:e.low,this.high===void 0?e.high:this.high>e.high?this.high:e.high)}output(){return[this.low,this.high]}static comparable_max(e,n){return e.merge(n)}static comparable_less_than(e,n){return e<n}},de=0,H=1;class en{constructor(e=void 0,n=void 0,r=null,i=null,l=null,o=H){if(this.left=r,this.right=i,this.parent=l,this.color=o,this.item={key:e,value:n},e&&e instanceof Array&&e.length===2&&!Number.isNaN(e[0])&&!Number.isNaN(e[1])){let[u,a]=e;u>a&&([u,a]=[a,u]),this.item.key=new gv(u,a)}this.max=this.item.key?this.item.key.max:void 0}isNil(){return this.item.key===void 0&&this.item.value===void 0&&this.left===null&&this.right===null&&this.color===H}_value_less_than(e){return this.item.value&&e.item.value&&this.item.value.less_than?this.item.value.less_than(e.item.value):this.item.value<e.item.value}less_than(e){return this.item.value===this.item.key&&e.item.value===e.item.key?this.item.key.less_than(e.item.key):this.item.key.less_than(e.item.key)||this.item.key.equal_to(e.item.key)&&this._value_less_than(e)}_value_equal(e){return this.item.value&&e.item.value&&this.item.value.equal_to?this.item.value.equal_to(e.item.value):this.item.value===e.item.value}equal_to(e){return this.item.value===this.item.key&&e.item.value===e.item.key?this.item.key.equal_to(e.item.key):this.item.key.equal_to(e.item.key)&&this._value_equal(e)}intersect(e){return this.item.key.intersect(e.item.key)}copy_data(e){this.item.key=e.item.key,this.item.value=e.item.value}update_max(){if(this.max=this.item.key?this.item.key.max:void 0,this.right&&this.right.max){const e=this.item.key.constructor.comparable_max;this.max=e(this.max,this.right.max)}if(this.left&&this.left.max){const e=this.item.key.constructor.comparable_max;this.max=e(this.max,this.left.max)}}not_intersect_left_subtree(e){const n=this.item.key.constructor.comparable_less_than;let r=this.left.max.high!==void 0?this.left.max.high:this.left.max;return n(r,e.item.key.low)}not_intersect_right_subtree(e){const n=this.item.key.constructor.comparable_less_than;let r=this.right.max.low!==void 0?this.right.max.low:this.right.item.key.low;return n(e.item.key.high,r)}}class fi{constructor(){this.root=null,this.nil_node=new en}get size(){let e=0;return this.tree_walk(this.root,()=>e++),e}get keys(){let e=[];return this.tree_walk(this.root,n=>e.push(n.item.key.output?n.item.key.output():n.item.key)),e}get values(){let e=[];return this.tree_walk(this.root,n=>e.push(n.item.value)),e}get items(){let e=[];return this.tree_walk(this.root,n=>e.push({key:n.item.key.output?n.item.key.output():n.item.key,value:n.item.value})),e}isEmpty(){return this.root==null||this.root===this.nil_node}clear(){this.root=null}insert(e,n=e){if(e===void 0)return;let r=new en(e,n,this.nil_node,this.nil_node,null,de);return this.tree_insert(r),this.recalc_max(r),r}exist(e,n=e){let r=new en(e,n);return!!this.tree_search(this.root,r)}remove(e,n=e){let r=new en(e,n),i=this.tree_search(this.root,r);return i&&this.tree_delete(i),i}search(e,n=(r,i)=>r===i?i.output():r){let r=new en(e),i=[];return this.tree_search_interval(this.root,r,i),i.map(l=>n(l.item.value,l.item.key))}intersect_any(e){let n=new en(e);return this.tree_find_any_interval(this.root,n)}forEach(e){this.tree_walk(this.root,n=>e(n.item.key,n.item.value))}map(e){const n=new fi;return this.tree_walk(this.root,r=>n.insert(r.item.key,e(r.item.value,r.item.key))),n}*iterate(e,n=(r,i)=>r===i?i.output():r){let r;for(e?r=this.tree_search_nearest_forward(this.root,new en(e)):this.root&&(r=this.local_minimum(this.root));r;)yield n(r.item.value,r.item.key),r=this.tree_successor(r)}recalc_max(e){let n=e;for(;n.parent!=null;)n.parent.update_max(),n=n.parent}tree_insert(e){let n=this.root,r=null;if(this.root==null||this.root===this.nil_node)this.root=e;else{for(;n!==this.nil_node;)r=n,e.less_than(n)?n=n.left:n=n.right;e.parent=r,e.less_than(r)?r.left=e:r.right=e}this.insert_fixup(e)}insert_fixup(e){let n,r;for(n=e;n!==this.root&&n.parent.color===de;)n.parent===n.parent.parent.left?(r=n.parent.parent.right,r.color===de?(n.parent.color=H,r.color=H,n.parent.parent.color=de,n=n.parent.parent):(n===n.parent.right&&(n=n.parent,this.rotate_left(n)),n.parent.color=H,n.parent.parent.color=de,this.rotate_right(n.parent.parent))):(r=n.parent.parent.left,r.color===de?(n.parent.color=H,r.color=H,n.parent.parent.color=de,n=n.parent.parent):(n===n.parent.left&&(n=n.parent,this.rotate_right(n)),n.parent.color=H,n.parent.parent.color=de,this.rotate_left(n.parent.parent)));this.root.color=H}tree_delete(e){let n,r;e.left===this.nil_node||e.right===this.nil_node?n=e:n=this.tree_successor(e),n.left!==this.nil_node?r=n.left:r=n.right,r.parent=n.parent,n===this.root?this.root=r:(n===n.parent.left?n.parent.left=r:n.parent.right=r,n.parent.update_max()),this.recalc_max(r),n!==e&&(e.copy_data(n),e.update_max(),this.recalc_max(e)),n.color===H&&this.delete_fixup(r)}delete_fixup(e){let n=e,r;for(;n!==this.root&&n.parent!=null&&n.color===H;)n===n.parent.left?(r=n.parent.right,r.color===de&&(r.color=H,n.parent.color=de,this.rotate_left(n.parent),r=n.parent.right),r.left.color===H&&r.right.color===H?(r.color=de,n=n.parent):(r.right.color===H&&(r.color=de,r.left.color=H,this.rotate_right(r),r=n.parent.right),r.color=n.parent.color,n.parent.color=H,r.right.color=H,this.rotate_left(n.parent),n=this.root)):(r=n.parent.left,r.color===de&&(r.color=H,n.parent.color=de,this.rotate_right(n.parent),r=n.parent.left),r.left.color===H&&r.right.color===H?(r.color=de,n=n.parent):(r.left.color===H&&(r.color=de,r.right.color=H,this.rotate_left(r),r=n.parent.left),r.color=n.parent.color,n.parent.color=H,r.left.color=H,this.rotate_right(n.parent),n=this.root));n.color=H}tree_search(e,n){if(!(e==null||e===this.nil_node))return n.equal_to(e)?e:n.less_than(e)?this.tree_search(e.left,n):this.tree_search(e.right,n)}tree_search_nearest_forward(e,n){let r,i=e;for(;i&&i!==this.nil_node;)i.less_than(n)?i.intersect(n)?(r=i,i=i.left):i=i.right:((!r||i.less_than(r))&&(r=i),i=i.left);return r||null}tree_search_interval(e,n,r){e!=null&&e!==this.nil_node&&(e.left!==this.nil_node&&!e.not_intersect_left_subtree(n)&&this.tree_search_interval(e.left,n,r),e.intersect(n)&&r.push(e),e.right!==this.nil_node&&!e.not_intersect_right_subtree(n)&&this.tree_search_interval(e.right,n,r))}tree_find_any_interval(e,n){let r=!1;return e!=null&&e!==this.nil_node&&(e.left!==this.nil_node&&!e.not_intersect_left_subtree(n)&&(r=this.tree_find_any_interval(e.left,n)),r||(r=e.intersect(n)),!r&&e.right!==this.nil_node&&!e.not_intersect_right_subtree(n)&&(r=this.tree_find_any_interval(e.right,n))),r}local_minimum(e){let n=e;for(;n.left!=null&&n.left!==this.nil_node;)n=n.left;return n}local_maximum(e){let n=e;for(;n.right!=null&&n.right!==this.nil_node;)n=n.right;return n}tree_successor(e){let n,r,i;if(e.right!==this.nil_node)n=this.local_minimum(e.right);else{for(r=e,i=e.parent;i!=null&&i.right===r;)r=i,i=i.parent;n=i}return n}rotate_left(e){let n=e.right;e.right=n.left,n.left!==this.nil_node&&(n.left.parent=e),n.parent=e.parent,e===this.root?this.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.left=e,e.parent=n,e!=null&&e!==this.nil_node&&e.update_max(),n=e.parent,n!=null&&n!==this.nil_node&&n.update_max()}rotate_right(e){let n=e.left;e.left=n.right,n.right!==this.nil_node&&(n.right.parent=e),n.parent=e.parent,e===this.root?this.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.right=e,e.parent=n,e!==null&&e!==this.nil_node&&e.update_max(),n=e.parent,n!=null&&n!==this.nil_node&&n.update_max()}tree_walk(e,n){e!=null&&e!==this.nil_node&&(this.tree_walk(e.left,n),n(e),this.tree_walk(e.right,n))}testRedBlackProperty(){let e=!0;return this.tree_walk(this.root,function(n){n.color===de&&(n.left.color===H&&n.right.color===H||(e=!1))}),e}testBlackHeightProperty(e){let n=0,r=0,i=0;if(e.color===H&&n++,e.left!==this.nil_node?r=this.testBlackHeightProperty(e.left):r=1,e.right!==this.nil_node?i=this.testBlackHeightProperty(e.right):i=1,r!==i)throw new Error("Red-black height property violated");return n+=r,n}}class mv extends Set{constructor(e){super(e),this.index=new fi,this.forEach(n=>this.index.insert(n))}add(e){let n=this.size;const{key:r,value:i}=e,l=r||e.box,o=i||e;return super.add(o),this.size>n&&this.index.insert(l,o),this}delete(e){const{key:n,value:r}=e,i=n||e.box,l=r||e;let o=super.delete(l);return o&&this.index.remove(i,l),o}clear(){super.clear(),this.index=new fi}search(e){return this.index.search(e)}hit(e){let n=new s.Box(e.x-1,e.y-1,e.x+1,e.y+1);return this.index.search(n).filter(i=>e.on(i))}svg(){return[...this].reduce((n,r)=>n+r.svg(),"")}}s.PlanarSet=mv;class Jt{get name(){throw q.CANNOT_INVOKE_ABSTRACT_METHOD}get box(){throw q.CANNOT_INVOKE_ABSTRACT_METHOD}clone(){throw q.CANNOT_INVOKE_ABSTRACT_METHOD}translate(...e){return this.transform(new Xe().translate(...e))}rotate(e,n=new s.Point){return this.transform(new Xe().rotate(e,n.x,n.y))}scale(e,n){return this.transform(new Xe().scale(e,n))}transform(...e){throw q.CANNOT_INVOKE_ABSTRACT_METHOD}toJSON(){return Object.assign({},this,{name:this.name})}svg(e={}){throw q.CANNOT_INVOKE_ABSTRACT_METHOD}}let U=class $h extends Jt{constructor(...e){if(super(),this.x=0,this.y=0,e.length!==0){if(e.length===1&&e[0]instanceof Array&&e[0].length===2){let n=e[0];if(typeof n[0]=="number"&&typeof n[1]=="number"){this.x=n[0],this.y=n[1];return}}if(e.length===1&&e[0]instanceof Object&&e[0].name==="point"){let{x:n,y:r}=e[0];this.x=n,this.y=r;return}if(e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"){this.x=e[0],this.y=e[1];return}throw q.ILLEGAL_PARAMETERS}}get box(){return new s.Box(this.x,this.y,this.x,this.y)}clone(){return new s.Point(this.x,this.y)}get vertices(){return[this.clone()]}equalTo(e){return s.Utils.EQ(this.x,e.x)&&s.Utils.EQ(this.y,e.y)}lessThan(e){return!!(s.Utils.LT(this.y,e.y)||s.Utils.EQ(this.y,e.y)&&s.Utils.LT(this.x,e.x))}transform(e){return new s.Point(e.transform([this.x,this.y]))}projectionOn(e){if(this.equalTo(e.pt))return this.clone();let n=new s.Vector(this,e.pt);if(s.Utils.EQ_0(n.cross(e.norm)))return e.pt.clone();let r=n.dot(e.norm),i=e.norm.multiply(r);return this.translate(i)}leftTo(e){let n=new s.Vector(e.pt,this);return s.Utils.GT(n.dot(e.norm),0)}distanceTo(e){if(e instanceof $h){let n=e.x-this.x,r=e.y-this.y;return[Math.sqrt(n*n+r*r),new s.Segment(this,e)]}if(e instanceof s.Line)return s.Distance.point2line(this,e);if(e instanceof s.Circle)return s.Distance.point2circle(this,e);if(e instanceof s.Segment)return s.Distance.point2segment(this,e);if(e instanceof s.Arc)return s.Distance.point2arc(this,e);if(e instanceof s.Polygon)return s.Distance.point2polygon(this,e);if(e instanceof s.PlanarSet)return s.Distance.shape2planarSet(this,e);if(e instanceof s.Multiline)return s.Distance.shape2multiline(this,e)}on(e){if(e instanceof s.Point)return this.equalTo(e);if(e.contains&&e.contains instanceof Function)return e.contains(this);throw s.Errors.UNSUPPORTED_SHAPE_TYPE}get name(){return"point"}svg(e={}){const n=e.r??3;return`
<circle cx="${this.x}" cy="${this.y}" r="${n}"
            ${_n({fill:"red",...e})} />`}};s.Point=U;const sa=(...t)=>new s.Point(...t);s.point=sa;let Hh=class extends Jt{constructor(...e){if(super(),this.x=0,this.y=0,e.length!==0){if(e.length===1&&e[0]instanceof Array&&e[0].length===2){let n=e[0];if(typeof n[0]=="number"&&typeof n[1]=="number"){this.x=n[0],this.y=n[1];return}}if(e.length===1&&e[0]instanceof Object&&e[0].name==="vector"){let{x:n,y:r}=e[0];this.x=n,this.y=r;return}if(e.length===2){let n=e[0],r=e[1];if(typeof n=="number"&&typeof r=="number"){this.x=n,this.y=r;return}if(n instanceof s.Point&&r instanceof s.Point){this.x=r.x-n.x,this.y=r.y-n.y;return}}throw q.ILLEGAL_PARAMETERS}}clone(){return new s.Vector(this.x,this.y)}get slope(){let e=Math.atan2(this.y,this.x);return e<0&&(e=2*Math.PI+e),e}get length(){return Math.sqrt(this.dot(this))}equalTo(e){return s.Utils.EQ(this.x,e.x)&&s.Utils.EQ(this.y,e.y)}multiply(e){return new s.Vector(e*this.x,e*this.y)}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}normalize(){if(!s.Utils.EQ_0(this.length))return new s.Vector(this.x/this.length,this.y/this.length);throw q.ZERO_DIVISION}rotate(e,n=new s.Point){if(n.x===0&&n.y===0)return this.transform(new Xe().rotate(e));throw q.OPERATION_IS_NOT_SUPPORTED}transform(e){return new s.Vector(e.transform([this.x,this.y]))}rotate90CCW(){return new s.Vector(-this.y,this.x)}rotate90CW(){return new s.Vector(this.y,-this.x)}invert(){return new s.Vector(-this.x,-this.y)}add(e){return new s.Vector(this.x+e.x,this.y+e.y)}subtract(e){return new s.Vector(this.x-e.x,this.y-e.y)}angleTo(e){let n=this.normalize(),r=e.normalize(),i=Math.atan2(n.cross(r),n.dot(r));return i<0&&(i+=2*Math.PI),i}projectionOn(e){let n=e.normalize(),r=this.dot(n);return n.multiply(r)}get name(){return"vector"}};s.Vector=Hh;const Wh=(...t)=>new s.Vector(...t);s.vector=Wh;let cl=class bs extends Jt{constructor(...e){if(super(),this.ps=new s.Point,this.pe=new s.Point,e.length!==0){if(e.length===1&&e[0]instanceof Array&&e[0].length===4){let n=e[0];this.ps=new s.Point(n[0],n[1]),this.pe=new s.Point(n[2],n[3]);return}if(e.length===1&&e[0]instanceof Object&&e[0].name==="segment"){let{ps:n,pe:r}=e[0];this.ps=new s.Point(n.x,n.y),this.pe=new s.Point(r.x,r.y);return}if(e.length===1&&e[0]instanceof s.Point){this.ps=e[0].clone();return}if(e.length===2&&e[0]instanceof s.Point&&e[1]instanceof s.Point){this.ps=e[0].clone(),this.pe=e[1].clone();return}if(e.length===4){this.ps=new s.Point(e[0],e[1]),this.pe=new s.Point(e[2],e[3]);return}throw q.ILLEGAL_PARAMETERS}}clone(){return new s.Segment(this.start,this.end)}get start(){return this.ps}get end(){return this.pe}get vertices(){return[this.ps.clone(),this.pe.clone()]}get length(){return this.start.distanceTo(this.end)[0]}get slope(){return new s.Vector(this.start,this.end).slope}get box(){return new s.Box(Math.min(this.start.x,this.end.x),Math.min(this.start.y,this.end.y),Math.max(this.start.x,this.end.x),Math.max(this.start.y,this.end.y))}equalTo(e){return this.ps.equalTo(e.ps)&&this.pe.equalTo(e.pe)}contains(e){return s.Utils.EQ_0(this.distanceToPoint(e))}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Line)return wi(this,e);if(e instanceof s.Ray)return ia(e,this);if(e instanceof s.Segment)return lo(this,e);if(e instanceof s.Circle)return oo(this,e);if(e instanceof s.Box)return O0(this,e);if(e instanceof s.Arc)return cr(this,e);if(e instanceof s.Polygon)return na(this,e);if(e instanceof s.Multiline)return xi(this,e)}distanceTo(e){if(e instanceof s.Point){let[n,r]=s.Distance.point2segment(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Circle){let[n,r]=s.Distance.segment2circle(this,e);return[n,r]}if(e instanceof s.Line){let[n,r]=s.Distance.segment2line(this,e);return[n,r]}if(e instanceof s.Segment){let[n,r]=s.Distance.segment2segment(this,e);return[n,r]}if(e instanceof s.Arc){let[n,r]=s.Distance.segment2arc(this,e);return[n,r]}if(e instanceof s.Polygon){let[n,r]=s.Distance.shape2polygon(this,e);return[n,r]}if(e instanceof s.PlanarSet){let[n,r]=s.Distance.shape2planarSet(this,e);return[n,r]}if(e instanceof s.Multiline)return s.Distance.shape2multiline(this,e)}tangentInStart(){return new s.Vector(this.start,this.end).normalize()}tangentInEnd(){return new s.Vector(this.end,this.start).normalize()}reverse(){return new bs(this.end,this.start)}split(e){return this.start.equalTo(e)?[null,this.clone()]:this.end.equalTo(e)?[this.clone(),null]:[new s.Segment(this.start,e),new s.Segment(e,this.end)]}middle(){return new s.Point((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}pointAtLength(e){if(e>this.length||e<0)return null;if(e==0)return this.start;if(e==this.length)return this.end;let n=e/this.length;return new s.Point((this.end.x-this.start.x)*n+this.start.x,(this.end.y-this.start.y)*n+this.start.y)}distanceToPoint(e){let[n,...r]=s.Distance.point2segment(e,this);return n}definiteIntegral(e=0){let n=this.end.x-this.start.x,r=this.start.y-e,i=this.end.y-e;return n*(r+i)/2}transform(e=new s.Matrix){return new bs(this.ps.transform(e),this.pe.transform(e))}isZeroLength(){return this.ps.equalTo(this.pe)}sortPoints(e){return new s.Line(this.start,this.end).sortPoints(e)}get name(){return"segment"}svg(e={}){return`
<line x1="${this.start.x}" y1="${this.start.y}" x2="${this.end.x}" y2="${this.end.y}" ${_n(e)} />`}};s.Segment=cl;const vv=(...t)=>new s.Segment(...t);s.segment=vv;let{vector:Lr}=s,uo=class Qh extends Jt{constructor(...e){if(super(),this.pt=new s.Point,this.norm=new s.Vector(0,1),e.length!==0){if(e.length===1&&e[0]instanceof Object&&e[0].name==="line"){let{pt:n,norm:r}=e[0];this.pt=new s.Point(n),this.norm=new s.Vector(r);return}if(e.length===2){let n=e[0],r=e[1];if(n instanceof s.Point&&r instanceof s.Point){this.pt=n,this.norm=Qh.points2norm(n,r),this.norm.dot(Lr(this.pt.x,this.pt.y))>=0&&this.norm.invert();return}if(n instanceof s.Point&&r instanceof s.Vector){if(s.Utils.EQ_0(r.x)&&s.Utils.EQ_0(r.y))throw q.ILLEGAL_PARAMETERS;this.pt=n.clone(),this.norm=r.clone(),this.norm=this.norm.normalize(),this.norm.dot(Lr(this.pt.x,this.pt.y))>=0&&this.norm.invert();return}if(n instanceof s.Vector&&r instanceof s.Point){if(s.Utils.EQ_0(n.x)&&s.Utils.EQ_0(n.y))throw q.ILLEGAL_PARAMETERS;this.pt=r.clone(),this.norm=n.clone(),this.norm=this.norm.normalize(),this.norm.dot(Lr(this.pt.x,this.pt.y))>=0&&this.norm.invert();return}}throw q.ILLEGAL_PARAMETERS}}clone(){return new s.Line(this.pt,this.norm)}get start(){}get end(){}get length(){return Number.POSITIVE_INFINITY}get box(){return new s.Box(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY)}get middle(){}get slope(){return new s.Vector(this.norm.y,-this.norm.x).slope}get standard(){let e=this.norm.x,n=this.norm.y,r=this.norm.dot(Lr(this.pt.x,this.pt.y));return[e,n,r]}parallelTo(e){return s.Utils.EQ_0(this.norm.cross(e.norm))}incidentTo(e){return this.parallelTo(e)&&this.pt.on(e)}contains(e){if(this.pt.equalTo(e))return!0;let n=new s.Vector(this.pt,e);return s.Utils.EQ_0(this.norm.dot(n))}coord(e){return Lr(e.x,e.y).cross(this.norm)}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Line)return ar(this,e);if(e instanceof s.Ray)return Ah(e,this);if(e instanceof s.Circle)return xn(this,e);if(e instanceof s.Box)return tr(this,e);if(e instanceof s.Segment)return wi(e,this);if(e instanceof s.Arc)return io(this,e);if(e instanceof s.Polygon)return _i(this,e);if(e instanceof s.Multiline)return xi(this,e)}distanceTo(e){if(e instanceof s.Point){let[n,r]=s.Distance.point2line(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Circle){let[n,r]=s.Distance.circle2line(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Segment){let[n,r]=s.Distance.segment2line(e,this);return[n,r.reverse()]}if(e instanceof s.Arc){let[n,r]=s.Distance.arc2line(e,this);return[n,r.reverse()]}if(e instanceof s.Polygon){let[n,r]=s.Distance.shape2polygon(this,e);return[n,r]}}split(e){if(e instanceof s.Point)return[new s.Ray(e,this.norm),new s.Ray(e,this.norm)];{let n=new s.Multiline([this]),r=this.sortPoints(e);return n.split(r),n.toShapes()}}rotate(e,n=new s.Point){return new s.Line(this.pt.rotate(e,n),this.norm.rotate(e))}transform(e){return new s.Line(this.pt.transform(e),this.norm.clone())}sortPoints(e){return e.slice().sort((n,r)=>this.coord(n)<this.coord(r)?-1:this.coord(n)>this.coord(r)?1:0)}get name(){return"line"}svg(e,n={}){let r=tr(this,e);if(r.length===0)return"";let i=r[0],l=r.length===2?r[1]:r.find(u=>!u.equalTo(i));return l===void 0&&(l=i),new s.Segment(i,l).svg(n)}static points2norm(e,n){if(e.equalTo(n))throw q.ILLEGAL_PARAMETERS;return new s.Vector(e,n).normalize().rotate90CCW()}};s.Line=uo;const yv=(...t)=>new s.Line(...t);s.line=yv;let Gh=class extends Jt{constructor(...e){if(super(),this.pc=new s.Point,this.r=1,e.length===1&&e[0]instanceof Object&&e[0].name==="circle"){let{pc:n,r}=e[0];this.pc=new s.Point(n),this.r=r}else{let[n,r]=[...e];n&&n instanceof s.Point&&(this.pc=n.clone()),r!==void 0&&(this.r=r)}}clone(){return new s.Circle(this.pc.clone(),this.r)}get center(){return this.pc}get box(){return new s.Box(this.pc.x-this.r,this.pc.y-this.r,this.pc.x+this.r,this.pc.y+this.r)}contains(e){if(e instanceof s.Point)return s.Utils.LE(e.distanceTo(this.center)[0],this.r);if(e instanceof s.Segment)return s.Utils.LE(e.start.distanceTo(this.center)[0],this.r)&&s.Utils.LE(e.end.distanceTo(this.center)[0],this.r);if(e instanceof s.Arc)return this.intersect(e).length===0&&s.Utils.LE(e.start.distanceTo(this.center)[0],this.r)&&s.Utils.LE(e.end.distanceTo(this.center)[0],this.r);if(e instanceof s.Circle)return this.intersect(e).length===0&&s.Utils.LE(e.r,this.r)&&s.Utils.LE(e.center.distanceTo(this.center)[0],this.r)}toArc(e=!0){return new s.Arc(this.center,this.r,Math.PI,-Math.PI,e)}scale(e,n){if(e!==n||!(this.pc.x===0&&this.pc.y===0))throw q.OPERATION_IS_NOT_SUPPORTED;return new s.Circle(this.pc,this.r*e)}transform(e=new s.Matrix){return new s.Circle(this.pc.transform(e),this.r)}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Line)return xn(e,this);if(e instanceof s.Ray)return Ih(e,this);if(e instanceof s.Segment)return oo(e,this);if(e instanceof s.Circle)return _h(e,this);if(e instanceof s.Box)return M0(this,e);if(e instanceof s.Arc)return ta(e,this);if(e instanceof s.Polygon)return Th(this,e);if(e instanceof s.Multiline)return xi(this,e)}distanceTo(e){if(e instanceof s.Point){let[n,r]=s.Distance.point2circle(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Circle){let[n,r]=s.Distance.circle2circle(this,e);return[n,r]}if(e instanceof s.Line){let[n,r]=s.Distance.circle2line(this,e);return[n,r]}if(e instanceof s.Segment){let[n,r]=s.Distance.segment2circle(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Arc){let[n,r]=s.Distance.arc2circle(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Polygon){let[n,r]=s.Distance.shape2polygon(this,e);return[n,r]}if(e instanceof s.PlanarSet){let[n,r]=s.Distance.shape2planarSet(this,e);return[n,r]}if(e instanceof s.Multiline){let[n,r]=s.Distance.shape2multiline(this,e);return[n,r]}}get name(){return"circle"}svg(e={}){return`
<circle cx="${this.pc.x}" cy="${this.pc.y}" r="${this.r}"
                ${_n({fill:"none",...e})} />`}};s.Circle=Gh;const Yh=(...t)=>new s.Circle(...t);s.circle=Yh;class eu extends Jt{constructor(...e){if(super(),this.pc=new s.Point,this.r=1,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=s.CCW,e.length!==0)if(e.length===1&&e[0]instanceof Object&&e[0].name==="arc"){let{pc:n,r,startAngle:i,endAngle:l,counterClockwise:o}=e[0];this.pc=new s.Point(n.x,n.y),this.r=r,this.startAngle=i,this.endAngle=l,this.counterClockwise=o}else{let[n,r,i,l,o]=[...e];n&&n instanceof s.Point&&(this.pc=n.clone()),r!==void 0&&(this.r=r),i!==void 0&&(this.startAngle=i),l!==void 0&&(this.endAngle=l),o!==void 0&&(this.counterClockwise=o)}}clone(){return new s.Arc(this.pc.clone(),this.r,this.startAngle,this.endAngle,this.counterClockwise)}get sweep(){if(s.Utils.EQ(this.startAngle,this.endAngle))return 0;if(s.Utils.EQ(Math.abs(this.startAngle-this.endAngle),s.PIx2))return s.PIx2;let e;return this.counterClockwise?e=s.Utils.GT(this.endAngle,this.startAngle)?this.endAngle-this.startAngle:this.endAngle-this.startAngle+s.PIx2:e=s.Utils.GT(this.startAngle,this.endAngle)?this.startAngle-this.endAngle:this.startAngle-this.endAngle+s.PIx2,s.Utils.GT(e,s.PIx2)&&(e-=s.PIx2),s.Utils.LT(e,0)&&(e+=s.PIx2),e}get start(){return new s.Point(this.pc.x+this.r,this.pc.y).rotate(this.startAngle,this.pc)}get end(){return new s.Point(this.pc.x+this.r,this.pc.y).rotate(this.endAngle,this.pc)}get center(){return this.pc.clone()}get vertices(){return[this.start.clone(),this.end.clone()]}get length(){return Math.abs(this.sweep*this.r)}get box(){let n=this.breakToFunctional().reduce((r,i)=>r.merge(i.start.box),new s.Box);return n=n.merge(this.end.box),n}contains(e){if(!s.Utils.EQ(this.pc.distanceTo(e)[0],this.r))return!1;if(e.equalTo(this.start))return!0;let n=new s.Vector(this.pc,e).slope,r=new s.Arc(this.pc,this.r,this.startAngle,n,this.counterClockwise);return s.Utils.LE(r.length,this.length)}split(e){if(this.start.equalTo(e))return[null,this.clone()];if(this.end.equalTo(e))return[this.clone(),null];let n=new s.Vector(this.pc,e).slope;return[new s.Arc(this.pc,this.r,this.startAngle,n,this.counterClockwise),new s.Arc(this.pc,this.r,n,this.endAngle,this.counterClockwise)]}middle(){let e=this.counterClockwise?this.startAngle+this.sweep/2:this.startAngle-this.sweep/2;return new s.Arc(this.pc,this.r,this.startAngle,e,this.counterClockwise).end}pointAtLength(e){if(e>this.length||e<0)return null;if(e===0)return this.start;if(e===this.length)return this.end;let n=e/this.length,r=this.counterClockwise?this.startAngle+this.sweep*n:this.startAngle-this.sweep*n;return new s.Arc(this.pc,this.r,this.startAngle,r,this.counterClockwise).end}chordHeight(){return(1-Math.cos(Math.abs(this.sweep/2)))*this.r}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Line)return io(e,this);if(e instanceof s.Ray)return la(e,this);if(e instanceof s.Circle)return ta(this,e);if(e instanceof s.Segment)return cr(e,this);if(e instanceof s.Box)return z0(this,e);if(e instanceof s.Arc)return xh(this,e);if(e instanceof s.Polygon)return ra(this,e);if(e instanceof s.Multiline)return xi(this,e)}distanceTo(e){if(e instanceof s.Point){let[n,r]=s.Distance.point2arc(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Circle){let[n,r]=s.Distance.arc2circle(this,e);return[n,r]}if(e instanceof s.Line){let[n,r]=s.Distance.arc2line(this,e);return[n,r]}if(e instanceof s.Segment){let[n,r]=s.Distance.segment2arc(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Arc){let[n,r]=s.Distance.arc2arc(this,e);return[n,r]}if(e instanceof s.Polygon){let[n,r]=s.Distance.shape2polygon(this,e);return[n,r]}if(e instanceof s.PlanarSet){let[n,r]=s.Distance.shape2planarSet(this,e);return[n,r]}if(e instanceof s.Multiline)return s.Distance.shape2multiline(this,e)}breakToFunctional(){let e=[],n=[0,Math.PI/2,2*Math.PI/2,3*Math.PI/2],r=[this.pc.translate(this.r,0),this.pc.translate(0,this.r),this.pc.translate(-this.r,0),this.pc.translate(0,-this.r)],i=[];for(let l=0;l<4;l++)r[l].on(this)&&i.push(new s.Arc(this.pc,this.r,this.startAngle,n[l],this.counterClockwise));if(i.length===0)e.push(this.clone());else{i.sort((u,a)=>u.length-a.length);for(let u=0;u<i.length;u++){let a=e.length>0?e[e.length-1]:void 0,c;a?c=new s.Arc(this.pc,this.r,a.endAngle,i[u].endAngle,this.counterClockwise):c=new s.Arc(this.pc,this.r,this.startAngle,i[u].endAngle,this.counterClockwise),s.Utils.EQ_0(c.length)||e.push(c.clone())}let l=e.length>0?e[e.length-1]:void 0,o;l?o=new s.Arc(this.pc,this.r,l.endAngle,this.endAngle,this.counterClockwise):o=new s.Arc(this.pc,this.r,this.startAngle,this.endAngle,this.counterClockwise),!s.Utils.EQ_0(o.length)&&!s.Utils.EQ(o.sweep,2*Math.PI)&&e.push(o.clone())}return e}tangentInStart(){let e=new s.Vector(this.pc,this.start),n=this.counterClockwise?Math.PI/2:-Math.PI/2;return e.rotate(n).normalize()}tangentInEnd(){let e=new s.Vector(this.pc,this.end),n=this.counterClockwise?-Math.PI/2:Math.PI/2;return e.rotate(n).normalize()}reverse(){return new s.Arc(this.pc,this.r,this.endAngle,this.startAngle,!this.counterClockwise)}transform(e=new s.Matrix){let n=this.start.transform(e),r=this.end.transform(e),i=this.pc.transform(e),l=this.counterClockwise;return e.a*e.d<0&&(l=!l),s.Arc.arcSE(i,n,r,l)}static arcSE(e,n,r,i){let{vector:l}=s,o=l(e,n).slope,u=l(e,r).slope;s.Utils.EQ(o,u)&&(u+=2*Math.PI,i=!0);let a=l(e,n).length;return new s.Arc(e,a,o,u,i)}definiteIntegral(e=0){return this.breakToFunctional().reduce((i,l)=>i+l.circularSegmentDefiniteIntegral(e),0)}circularSegmentDefiniteIntegral(e){let n=new s.Line(this.start,this.end),r=this.pc.leftTo(n),l=new s.Segment(this.start,this.end).definiteIntegral(e),o=this.circularSegmentArea();return r?l-o:l+o}circularSegmentArea(){return .5*this.r*this.r*(this.sweep-Math.sin(this.sweep))}sortPoints(e){let{vector:n}=s;return e.slice().sort((r,i)=>{let l=n(this.pc,r).slope,o=n(this.pc,i).slope;return l<o?-1:l>o?1:0})}get name(){return"arc"}svg(e={}){let n=this.sweep<=Math.PI?"0":"1",r=this.counterClockwise?"1":"0";return s.Utils.EQ(this.sweep,2*Math.PI)?new s.Circle(this.pc,this.r).svg(e):`
<path d="M${this.start.x},${this.start.y}
                             A${this.r},${this.r} 0 ${n},${r} ${this.end.x},${this.end.y}"
                    ${_n({fill:"none",...e})} />`}}s.Arc=eu;const wv=(...t)=>new s.Arc(...t);s.arc=wv;class wt extends Jt{constructor(e=void 0,n=void 0,r=void 0,i=void 0){super(),this.xmin=e,this.ymin=n,this.xmax=r,this.ymax=i}clone(){return new wt(this.xmin,this.ymin,this.xmax,this.ymax)}get low(){return new s.Point(this.xmin,this.ymin)}get high(){return new s.Point(this.xmax,this.ymax)}get max(){return this.clone()}get center(){return new s.Point((this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)}get width(){return Math.abs(this.xmax-this.xmin)}get height(){return Math.abs(this.ymax-this.ymin)}get box(){return this.clone()}not_intersect(e){return this.xmax<e.xmin||this.xmin>e.xmax||this.ymax<e.ymin||this.ymin>e.ymax}intersect(e){return!this.not_intersect(e)}merge(e){return new wt(this.xmin===void 0?e.xmin:Math.min(this.xmin,e.xmin),this.ymin===void 0?e.ymin:Math.min(this.ymin,e.ymin),this.xmax===void 0?e.xmax:Math.max(this.xmax,e.xmax),this.ymax===void 0?e.ymax:Math.max(this.ymax,e.ymax))}less_than(e){return!!(this.low.lessThan(e.low)||this.low.equalTo(e.low)&&this.high.lessThan(e.high))}equal_to(e){return this.low.equalTo(e.low)&&this.high.equalTo(e.high)}output(){return this.clone()}static comparable_max(e,n){return e.merge(n)}static comparable_less_than(e,n){return e.lessThan(n)}set(e,n,r,i){this.xmin=e,this.ymin=n,this.xmax=r,this.ymax=i}toPoints(){return[new s.Point(this.xmin,this.ymin),new s.Point(this.xmax,this.ymin),new s.Point(this.xmax,this.ymax),new s.Point(this.xmin,this.ymax)]}toSegments(){let e=this.toPoints();return[new s.Segment(e[0],e[1]),new s.Segment(e[1],e[2]),new s.Segment(e[2],e[3]),new s.Segment(e[3],e[0])]}rotate(e,n=new s.Point){throw q.OPERATION_IS_NOT_SUPPORTED}transform(e=new s.Matrix){return this.toPoints().map(r=>r.transform(e)).reduce((r,i)=>r.merge(i.box),new wt)}contains(e){if(e instanceof s.Point)return e.x>=this.xmin&&e.x<=this.xmax&&e.y>=this.ymin&&e.y<=this.ymax;if(e instanceof s.Segment)return e.vertices.every(n=>this.contains(n));if(e instanceof s.Box)return e.toSegments().every(n=>this.contains(n));if(e instanceof s.Circle)return this.contains(e.box);if(e instanceof s.Arc)return e.vertices.every(n=>this.contains(n))&&e.toSegments().every(n=>cr(n,e).length===0);if(e instanceof s.Line||e instanceof s.Ray)return!1;if(e instanceof s.Multiline)return e.toShapes().every(n=>this.contains(n));if(e instanceof s.Polygon)return this.contains(e.box)}distanceTo(e){const n=this.toSegments().map(i=>i.distanceTo(e));let r=[Number.MAX_SAFE_INTEGER,null];return n.forEach(i=>{i[0]<r[0]&&(r=i)}),r}get name(){return"box"}svg(e={}){const n=this.xmax-this.xmin,r=this.ymax-this.ymin;return`
<rect x="${this.xmin}" y="${this.ymin}" width="${n}" height="${r}"
                ${_n({fill:"none",...e})} />`}}s.Box=wt;const _v=(...t)=>new s.Box(...t);s.box=_v;class xv{constructor(e){this.shape=e,this.next=void 0,this.prev=void 0,this.face=void 0,this.arc_length=0,this.bvStart=void 0,this.bvEnd=void 0,this.bv=void 0,this.overlap=void 0}get start(){return this.shape.start}get end(){return this.shape.end}get length(){return this.shape.length}get box(){return this.shape.box}get isSegment(){return this.shape instanceof s.Segment}get isArc(){return this.shape instanceof s.Arc}get isLine(){return this.shape instanceof s.Line}get isRay(){return this.shape instanceof s.Ray}middle(){return this.shape.middle()}pointAtLength(e){return this.shape.pointAtLength(e)}contains(e){return this.shape.contains(e)}setInclusion(e){if(this.bv!==void 0)return this.bv;if(this.shape instanceof s.Line||this.shape instanceof s.Ray)return this.bv=s.OUTSIDE,this.bv;if(this.bvStart===void 0&&(this.bvStart=Qr(e,this.start)),this.bvEnd===void 0&&(this.bvEnd=Qr(e,this.end)),this.bvStart===s.OUTSIDE||this.bvEnd==s.OUTSIDE)this.bv=s.OUTSIDE;else if(this.bvStart===s.INSIDE||this.bvEnd==s.INSIDE)this.bv=s.INSIDE;else{let n=Qr(e,this.middle());this.bv=n}return this.bv}setOverlap(e){let n,r=this.shape,i=e.shape;r instanceof s.Segment&&i instanceof s.Segment?r.start.equalTo(i.start)&&r.end.equalTo(i.end)?n=s.OVERLAP_SAME:r.start.equalTo(i.end)&&r.end.equalTo(i.start)&&(n=s.OVERLAP_OPPOSITE):(r instanceof s.Arc&&i instanceof s.Arc||r instanceof s.Segment&&i instanceof s.Arc||r instanceof s.Arc&&i instanceof s.Segment)&&(r.start.equalTo(i.start)&&r.end.equalTo(i.end)&&r.middle().equalTo(i.middle())?n=s.OVERLAP_SAME:r.start.equalTo(i.end)&&r.end.equalTo(i.start)&&r.middle().equalTo(i.middle())&&(n=s.OVERLAP_OPPOSITE)),this.overlap===void 0&&(this.overlap=n),e.overlap===void 0&&(e.overlap=n)}svg(){if(this.shape instanceof s.Segment)return` L${this.shape.end.x},${this.shape.end.y}`;if(this.shape instanceof s.Arc){let e=this.shape,n,r=e.counterClockwise?"1":"0";if(s.Utils.EQ(e.sweep,2*Math.PI)){let i=e.counterClockwise?1:-1,l=new s.Arc(e.pc,e.r,e.startAngle,e.startAngle+i*Math.PI,e.counterClockwise),o=new s.Arc(e.pc,e.r,e.startAngle+i*Math.PI,e.endAngle,e.counterClockwise);return n="0",` A${l.r},${l.r} 0 ${n},${r} ${l.end.x},${l.end.y}
                    A${o.r},${o.r} 0 ${n},${r} ${o.end.x},${o.end.y}`}else return n=e.sweep<=Math.PI?"0":"1",` A${e.r},${e.r} 0 ${n},${r} ${e.end.x},${e.end.y}`}}toJSON(){return this.shape.toJSON()}}s.Edge=xv;class Sv extends ea{constructor(e,n){super(e,n),this.setCircularLinks()}setCircularLinks(){this.isEmpty()||(this.last.next=this.first,this.first.prev=this.last)}[Symbol.iterator](){let e;return{next:()=>{let n=e||this.first,r=this.first?e?e===this.first:!1:!0;return e=n?n.next:void 0,{value:n,done:r}}}}append(e){return super.append(e),this.setCircularLinks(),this}insert(e,n){return super.insert(e,n),this.setCircularLinks(),this}remove(e){return super.remove(e),this}}class Fn extends Sv{constructor(e,...n){if(super(),this._box=void 0,this._orientation=void 0,n.length!==0){if(n.length===1){if(n[0]instanceof Array){let r=n[0];if(r.length===0)return;if(r.every(i=>i instanceof s.Point)){let i=Fn.points2segments(r);this.shapes2face(e.edges,i)}else if(r.every(i=>i instanceof Array&&i.length===2)){let i=r.map(o=>new s.Point(o[0],o[1])),l=Fn.points2segments(i);this.shapes2face(e.edges,l)}else if(r.every(i=>i instanceof s.Segment||i instanceof s.Arc))this.shapes2face(e.edges,r);else if(r.every(i=>i.name==="segment"||i.name==="arc")){let i=[];for(let l of r){let o;l.name==="segment"?o=new s.Segment(l):o=new s.Arc(l),i.push(o)}this.shapes2face(e.edges,i)}}else if(n[0]instanceof Fn){let r=n[0];this.first=r.first,this.last=r.last;for(let i of r)e.edges.add(i)}else if(n[0]instanceof s.Circle)this.shapes2face(e.edges,[n[0].toArc(ph)]);else if(n[0]instanceof s.Box){let r=n[0];this.shapes2face(e.edges,[new s.Segment(new s.Point(r.xmin,r.ymin),new s.Point(r.xmax,r.ymin)),new s.Segment(new s.Point(r.xmax,r.ymin),new s.Point(r.xmax,r.ymax)),new s.Segment(new s.Point(r.xmax,r.ymax),new s.Point(r.xmin,r.ymax)),new s.Segment(new s.Point(r.xmin,r.ymax),new s.Point(r.xmin,r.ymin))])}}n.length===2&&n[0]instanceof s.Edge&&n[1]instanceof s.Edge&&(this.first=n[0],this.last=n[1],this.last.next=this.first,this.first.prev=this.last,this.setArcLength())}}get edges(){return this.toArray()}get shapes(){return this.edges.map(e=>e.shape.clone())}get box(){if(this._box===void 0){let e=new s.Box;for(let n of this)e=e.merge(n.box);this._box=e}return this._box}get perimeter(){return this.last.arc_length+this.last.length}pointAtLength(e){if(e>this.perimeter||e<0)return null;let n=null;for(let r of this)if(e>=r.arc_length&&(r===this.last||e<r.next.arc_length)){n=r.pointAtLength(e-r.arc_length);break}return n}static points2segments(e){let n=[];for(let r=0;r<e.length;r++)e[r].equalTo(e[(r+1)%e.length])||n.push(new s.Segment(e[r],e[(r+1)%e.length]));return n}shapes2face(e,n){for(let r of n){let i=new s.Edge(r);this.append(i),e.add(i)}}append(e){return super.append(e),this.setOneEdgeArcLength(e),e.face=this,this}insert(e,n){return super.insert(e,n),this.setOneEdgeArcLength(e),e.face=this,this}remove(e){return super.remove(e),this.setArcLength(),this}merge_with_next_edge(e){return e.shape.end.x=e.next.shape.end.x,e.shape.end.y=e.next.shape.end.y,this.remove(e.next),this}reverse(){let e=[],n=this.last;do n.shape=n.shape.reverse(),e.push(n),n=n.prev;while(n!==this.last);this.first=void 0,this.last=void 0;for(let r of e)this.first===void 0?(r.prev=r,r.next=r,this.first=r,this.last=r):(r.prev=this.last,this.last.next=r,this.last=r,this.last.next=this.first,this.first.prev=this.last),this.setOneEdgeArcLength(r);this._orientation!==void 0&&(this._orientation=void 0,this._orientation=this.orientation())}setArcLength(){for(let e of this)this.setOneEdgeArcLength(e),e.face=this}setOneEdgeArcLength(e){e===this.first?e.arc_length=0:e.arc_length=e.prev.arc_length+e.prev.length}area(){return Math.abs(this.signedArea())}signedArea(){let e=0,n=this.box.ymin;for(let r of this)e+=r.shape.definiteIntegral(n);return e}orientation(){if(this._orientation===void 0){let e=this.signedArea();s.Utils.EQ_0(e)?this._orientation=al.NOT_ORIENTABLE:s.Utils.LT(e,0)?this._orientation=al.CCW:this._orientation=al.CW}return this._orientation}isSimple(e){return Fn.getSelfIntersections(this,e,!0).length===0}static getSelfIntersections(e,n,r=!1){let i=[];for(let l of e){let o=n.search(l.box);for(let u of o){if(l===u||u.face!==e||l.shape instanceof s.Segment&&u.shape instanceof s.Segment&&(l.next===u||l.prev===u))continue;let a=l.shape.intersect(u.shape);for(let c of a)if(!(c.equalTo(l.start)&&c.equalTo(u.end)&&u===l.prev)&&!(c.equalTo(l.end)&&c.equalTo(u.start)&&u===l.next)&&(i.push(c),r))break;if(i.length>0&&r)break}if(i.length>0&&r)break}return i}findEdgeByPoint(e){let n;for(let r of this)if(!e.equalTo(r.shape.start)&&(e.equalTo(r.shape.end)||r.shape.contains(e))){n=r;break}return n}toPolygon(){return new s.Polygon(this.shapes)}toJSON(){return this.edges.map(e=>e.toJSON())}svg(){let e=`M${this.first.start.x},${this.first.start.y}`;for(let n of this)e+=n.svg();return e+=" z",e}}s.Face=Fn;class ua extends Jt{constructor(...e){if(super(),this.pt=new s.Point,this.norm=new s.Vector(0,1),e.length!==0&&(e.length>=1&&e[0]instanceof s.Point&&(this.pt=e[0].clone()),e.length!==1)){if(e.length===2&&e[1]instanceof s.Vector){this.norm=e[1].clone();return}throw q.ILLEGAL_PARAMETERS}}clone(){return new ua(this.pt,this.norm)}get slope(){return new s.Vector(this.norm.y,-this.norm.x).slope}get box(){let e=this.slope;return new s.Box(e>Math.PI/2&&e<3*Math.PI/2?Number.NEGATIVE_INFINITY:this.pt.x,e>=0&&e<=Math.PI?this.pt.y:Number.NEGATIVE_INFINITY,e>=Math.PI/2&&e<=3*Math.PI/2?this.pt.x:Number.POSITIVE_INFINITY,e>=Math.PI&&e<=2*Math.PI||e===0?this.pt.y:Number.POSITIVE_INFINITY)}get start(){return this.pt}get end(){}get length(){return Number.POSITIVE_INFINITY}contains(e){if(this.pt.equalTo(e))return!0;let n=new s.Vector(this.pt,e);return s.Utils.EQ_0(this.norm.dot(n))&&s.Utils.GE(n.cross(this.norm),0)}coord(e){return Wh(e.x,e.y).cross(this.norm)}split(e){return this.contains(e)?this.pt.equalTo(e)?[this]:[new s.Segment(this.pt,e),new s.Ray(e,this.norm)]:[]}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Segment)return ia(this,e);if(e instanceof s.Arc)return la(this,e);if(e instanceof s.Line)return Ah(this,e);if(e instanceof s.Ray)return V0(this,e);if(e instanceof s.Circle)return Ih(this,e);if(e instanceof s.Box)return j0(this,e);if(e instanceof s.Polygon)return Nh(this,e)}rotate(e,n=new s.Point){return new s.Ray(this.pt.rotate(e,n),this.norm.rotate(e))}transform(e){return new s.Ray(this.pt.transform(e),this.norm.clone())}get name(){return"ray"}svg(e,n={}){let r=new s.Line(this.pt,this.norm),i=tr(r,e);return i=i.filter(o=>this.contains(o)),i.length===0||i.length===2?"":new s.Segment(this.pt,i[0]).svg(n)}}s.Ray=ua;const Ev=(...t)=>new s.Ray(...t);s.ray=Ev;let Pv=class Tn{constructor(){this.faces=new s.PlanarSet,this.edges=new s.PlanarSet;let e=[...arguments];if(e.length===1&&(e[0]instanceof Array&&e[0].length>0||e[0]instanceof s.Circle||e[0]instanceof s.Box)){let n=e[0];if(e[0]instanceof Array&&e[0].every(r=>r instanceof Array))if(n.every(r=>r instanceof Array&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"))this.faces.add(new s.Face(this,n));else for(let r of n)if(r instanceof Array&&r[0]instanceof Array&&r[0].every(i=>i instanceof Array&&i.length===2&&typeof i[0]=="number"&&typeof i[1]=="number"))for(let i of r)this.faces.add(new s.Face(this,i));else this.faces.add(new s.Face(this,r));else this.faces.add(new s.Face(this,n))}}get box(){return[...this.faces].reduce((e,n)=>e.merge(n.box),new s.Box)}get vertices(){return[...this.edges].map(e=>e.start)}clone(){let e=new Tn;for(let n of this.faces)e.addFace(n.shapes);return e}isEmpty(){return this.edges.size===0}isValid(){let e=!0;for(let n of this.faces)if(!n.isSimple(this.edges)){e=!1;break}return e}area(){let e=[...this.faces].reduce((n,r)=>n+r.signedArea(),0);return Math.abs(e)}addFace(...e){let n=new s.Face(this,...e);return this.faces.add(n),n}deleteFace(e){for(let n of e)this.edges.delete(n);return this.faces.delete(e)}recreateFaces(){this.faces.clear();for(let r of this.edges)r.face=null;let e,n=!0;for(;n;){n=!1;for(let r of this.edges)if(r.face===null){e=r,n=!0;break}if(n){let r=e;do r=r.next;while(r.next!==e);this.addFace(e,r)}}}removeChain(e,n,r){if(r.next===n){this.deleteFace(e);return}for(let i=n;i!==r.next;i=i.next)if(e.remove(i),this.edges.delete(i),e.isEmpty()){this.deleteFace(e);break}}addVertex(e,n){let r=n.shape.split(e);if(r[0]===null)return n.prev;if(r[1]===null)return n;let i=new s.Edge(r[0]),l=n.prev;return n.face.insert(i,l),this.edges.delete(n),this.edges.add(i),n.shape=r[1],this.edges.add(n),i}removeEndVertex(e){const n=e.next;n!==e&&(e.face.merge_with_next_edge(e),this.edges.delete(n))}cut(e){let n=this.clone(),r={int_points1:[],int_points2:[],int_points1_sorted:[],int_points2_sorted:[]};for(let o of e.edges)for(let u of n.edges){let a=kh(o,u);for(let c of a)nr(o,c,r.int_points1),nr(u,c,r.int_points2)}if(r.int_points1.length===0)return n;r.int_points1_sorted=It(r.int_points1),r.int_points2_sorted=It(r.int_points2),ir(e,r.int_points1_sorted),ir(n,r.int_points2_sorted),oa(r),r.int_points1_sorted=It(r.int_points1),r.int_points2_sorted=It(r.int_points2),Qs(r.int_points1),Gs(r.int_points1,n);for(let o of r.int_points1_sorted)o.edge_before&&o.edge_after&&o.edge_before.bv===o.edge_after.bv&&(r.int_points2[o.id]=-1,o.id=-1);if(r.int_points1=r.int_points1.filter(o=>o.id>=0),r.int_points2=r.int_points2.filter(o=>o.id>=0),r.int_points1.forEach((o,u)=>{o.id=u}),r.int_points2.forEach((o,u)=>{o.id=u}),r.int_points1.length===0)return n;r.int_points1_sorted=It(r.int_points1),r.int_points2_sorted=It(r.int_points2);let i,l;for(let o=1;o<r.int_points1_sorted.length;o++)if(l=r.int_points1_sorted[o],i=r.int_points1_sorted[o-1],l.edge_before&&l.edge_before.bv===Rl){let u=i.edge_after,a=l.edge_before,c=e.getChain(u,a);Rc(r.int_points2[i.id],r.int_points2[l.id],c),c.forEach(f=>n.edges.add(f)),c=c.reverse().map(f=>new s.Edge(f.shape.reverse()));for(let f=0;f<c.length-1;f++)c[f].next=c[f+1],c[f+1].prev=c[f];Rc(r.int_points2[l.id],r.int_points2[i.id],c),c.forEach(f=>n.edges.add(f))}return n.recreateFaces(),n}cutWithLine(e){let n=new Sn([e]);return this.cut(n)}findEdgeByPoint(e){let n;for(let r of this.faces)if(n=r.findEdgeByPoint(e),n!==void 0)break;return n}splitToIslands(){if(this.isEmpty())return[];let e=this.toArray();e.sort((i,l)=>l.area()-i.area());let n=[...e[0].faces][0].orientation(),r=e.filter(i=>[...i.faces][0].orientation()===n);for(let i of e){let l=[...i.faces][0];if(l.orientation()!==n){for(let o of r)if(l.shapes.every(u=>o.contains(u))){o.addFace(l.shapes);break}}}return r}reverse(){for(let e of this.faces)e.reverse();return this}contains(e){if(e instanceof s.Point){let n=Qr(this,e);return n===Rl||n===rt}else return jh(this,e)}distanceTo(e){if(e instanceof s.Point){let[n,r]=s.Distance.point2polygon(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Circle||e instanceof s.Line||e instanceof s.Segment||e instanceof s.Arc){let[n,r]=s.Distance.shape2polygon(e,this);return r=r.reverse(),[n,r]}if(e instanceof s.Polygon){let n=[Number.POSITIVE_INFINITY,new s.Segment],r,i;for(let l of this.edges){let o=n[0];[r,i]=s.Distance.shape2planarSet(l.shape,e.edges,o),s.Utils.LT(r,o)&&(n=[r,i])}return n}}intersect(e){if(e instanceof s.Point)return this.contains(e)?[e]:[];if(e instanceof s.Line)return _i(e,this);if(e instanceof s.Ray)return Nh(e,this);if(e instanceof s.Circle)return Th(e,this);if(e instanceof s.Segment)return na(e,this);if(e instanceof s.Arc)return ra(e,this);if(e instanceof s.Polygon)return F0(e,this);if(e instanceof s.Multiline)return D0(e,this)}translate(e){let n=new Tn;for(let r of this.faces)n.addFace(r.shapes.map(i=>i.translate(e)));return n}rotate(e=0,n=new s.Point){let r=new Tn;for(let i of this.faces)r.addFace(i.shapes.map(l=>l.rotate(e,n)));return r}scale(e,n){let r=new Tn;for(let i of this.faces)r.addFace(i.shapes.map(l=>l.scale(e,n)));return r}transform(e=new s.Matrix){let n=new Tn;for(let r of this.faces)n.addFace(r.shapes.map(i=>i.transform(e)));return n}toJSON(){return[...this.faces].map(e=>e.toJSON())}toArray(){return[...this.faces].map(e=>e.toPolygon())}dpath(){return[...this.faces].reduce((e,n)=>e+n.svg(),"")}svg(e={}){let n=`
<path ${_n({fillRule:"evenodd",fill:"lightcyan",...e})} d="`;for(let r of this.faces)n+=`
${r.svg()}`;return n+=`" >
</path>`,n}};s.Polygon=Pv;const Tv=(...t)=>new s.Polygon(...t);s.polygon=Tv;const{Circle:Yo,Line:$c,Point:Hc,Vector:qi,Utils:qo}=s;class Gr{constructor(e){this.circle=e}get inversion_circle(){return this.circle}static inversePoint(e,n){const r=new qi(e.pc,n),i=e.r*e.r,l=r.dot(r);return qo.EQ_0(l)?new Hc(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY):e.pc.translate(r.multiply(i/l))}static inverseCircle(e,n){const r=e.pc.distanceTo(n.pc)[0];if(qo.EQ(r,n.r)){let i=e.r*e.r/(2*n.r),l=new qi(e.pc,n.pc);l=l.normalize();let o=e.pc.translate(l.multiply(i));return new $c(o,l)}else{let i=new qi(e.pc,n.pc),l=e.r*e.r/(i.dot(i)-n.r*n.r),o=e.pc.translate(i.multiply(l)),u=Math.abs(l)*n.r;return new Yo(o,u)}}static inverseLine(e,n){const[r,i]=e.pc.distanceTo(n);if(qo.EQ_0(r))return n.clone();{let l=e.r*e.r/(2*r),o=new qi(e.pc,i.end);return o=o.multiply(l/r),new Yo(e.pc.translate(o),l)}}inverse(e){if(e instanceof Hc)return Gr.inversePoint(this.circle,e);if(e instanceof Yo)return Gr.inverseCircle(this.circle,e);if(e instanceof $c)return Gr.inverseLine(this.circle,e)}}s.Inversion=Gr;const kv=t=>new s.Inversion(t);s.inversion=kv;class E{static point2point(e,n){return e.distanceTo(n)}static point2line(e,n){let r=e.projectionOn(n);return[new s.Vector(e,r).length,new s.Segment(e,r)]}static point2circle(e,n){let[r,i]=e.distanceTo(n.center);if(s.Utils.EQ_0(r))return[n.r,new s.Segment(e,n.toArc().start)];{let l=Math.abs(r-n.r),o=new s.Vector(n.pc,e).normalize().multiply(n.r),u=n.pc.translate(o);return[l,new s.Segment(e,u)]}}static point2segment(e,n){if(n.start.equalTo(n.end))return E.point2point(e,n.start);let r=new s.Vector(n.start,n.end),i=new s.Vector(n.start,e),l=new s.Vector(n.end,e),o=r.dot(i),u=-r.dot(l),a,c;if(s.Utils.GE(o,0)&&s.Utils.GE(u,0)){let f=n.tangentInStart();return a=Math.abs(f.cross(i)),c=n.start.translate(f.multiply(f.dot(i))),[a,new s.Segment(e,c)]}else return o<0?e.distanceTo(n.start):e.distanceTo(n.end)}static point2arc(e,n){let r=new s.Circle(n.pc,n.r),i=[],l,o;return[l,o]=E.point2circle(e,r),o.end.on(n)&&i.push(E.point2circle(e,r)),i.push(E.point2point(e,n.start)),i.push(E.point2point(e,n.end)),E.sort(i),i[0]}static point2edge(e,n){return n.shape instanceof s.Segment?E.point2segment(e,n.shape):E.point2arc(e,n.shape)}static segment2line(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=[];return i.push(E.point2line(e.start,n)),i.push(E.point2line(e.end,n)),E.sort(i),i[0]}static segment2segment(e,n){let r=lo(e,n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=[],l,o;return[l,o]=E.point2segment(n.start,e),i.push([l,o.reverse()]),[l,o]=E.point2segment(n.end,e),i.push([l,o.reverse()]),i.push(E.point2segment(e.start,n)),i.push(E.point2segment(e.end,n)),E.sort(i),i[0]}static segment2circle(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=new s.Line(e.ps,e.pe),[l,o]=E.point2line(n.center,i);if(s.Utils.GE(l,n.r)&&o.end.on(e))return E.point2circle(o.end,n);{let[u,a]=E.point2circle(e.start,n),[c,f]=E.point2circle(e.end,n);return s.Utils.LT(u,c)?[u,a]:[c,f]}}static segment2arc(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=new s.Line(e.ps,e.pe),l=new s.Circle(n.pc,n.r),[o,u]=E.point2line(l.center,i);if(s.Utils.GE(o,l.r)&&u.end.on(e)){let[h,g]=E.point2circle(u.end,l);if(g.end.on(n))return[h,g]}let a=[];a.push(E.point2arc(e.start,n)),a.push(E.point2arc(e.end,n));let c,f;return[c,f]=E.point2segment(n.start,e),a.push([c,f.reverse()]),[c,f]=E.point2segment(n.end,e),a.push([c,f.reverse()]),E.sort(a),a[0]}static circle2circle(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];if(e.center.equalTo(n.center)){let i=e.toArc(),l=n.toArc();return E.point2point(i.start,l.start)}else{let i=new s.Line(e.center,n.center),l=i.intersect(e),o=i.intersect(n),u=[];return u.push(E.point2point(l[0],o[0])),u.push(E.point2point(l[0],o[1])),u.push(E.point2point(l[1],o[0])),u.push(E.point2point(l[1],o[1])),E.sort(u),u[0]}}static circle2line(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let[i,l]=E.point2line(e.center,n),[o,u]=E.point2circle(l.end,e);return u=u.reverse(),[o,u]}static arc2line(e,n){let r=n.intersect(e);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=new s.Circle(e.center,e.r),[l,o]=E.point2line(i.center,n);if(s.Utils.GE(l,i.r)){let[u,a]=E.point2circle(o.end,i);if(a.end.on(e))return[u,a]}else{let u=[];return u.push(E.point2line(e.start,n)),u.push(E.point2line(e.end,n)),E.sort(u),u[0]}}static arc2circle(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=new s.Circle(e.center,e.r),[l,o]=E.circle2circle(i,n);if(o.start.on(e))return[l,o];{let u=[];return u.push(E.point2circle(e.start,n)),u.push(E.point2circle(e.end,n)),E.sort(u),u[0]}}static arc2arc(e,n){let r=e.intersect(n);if(r.length>0)return[0,new s.Segment(r[0],r[0])];let i=new s.Circle(e.center,e.r),l=new s.Circle(n.center,n.r),[o,u]=E.circle2circle(i,l);if(u.start.on(e)&&u.end.on(n))return[o,u];{let a=[],c,f;return[c,f]=E.point2arc(e.start,n),f.end.on(n)&&a.push([c,f]),[c,f]=E.point2arc(e.end,n),f.end.on(n)&&a.push([c,f]),[c,f]=E.point2arc(n.start,e),f.end.on(e)&&a.push([c,f.reverse()]),[c,f]=E.point2arc(n.end,e),f.end.on(e)&&a.push([c,f.reverse()]),[c,f]=E.point2point(e.start,n.start),a.push([c,f]),[c,f]=E.point2point(e.start,n.end),a.push([c,f]),[c,f]=E.point2point(e.end,n.start),a.push([c,f]),[c,f]=E.point2point(e.end,n.end),a.push([c,f]),E.sort(a),a[0]}}static point2polygon(e,n){let r=[Number.POSITIVE_INFINITY,new s.Segment];for(let i of n.edges){let[l,o]=E.point2edge(e,i);s.Utils.LT(l,r[0])&&(r=[l,o])}return r}static shape2polygon(e,n){let r=[Number.POSITIVE_INFINITY,new s.Segment];for(let i of n.edges){let[l,o]=e.distanceTo(i.shape);s.Utils.LT(l,r[0])&&(r=[l,o])}return r}static polygon2polygon(e,n){let r=[Number.POSITIVE_INFINITY,new s.Segment];for(let i of e.edges)for(let l of n.edges){let[o,u]=i.shape.distanceTo(l.shape);s.Utils.LT(o,r[0])&&(r=[o,u])}return r}static box2box_minmax(e,n){let r=Math.max(Math.max(e.xmin-n.xmax,0),Math.max(n.xmin-e.xmax,0)),i=Math.max(Math.max(e.ymin-n.ymax,0),Math.max(n.ymin-e.ymax,0)),l=r*r+i*i,o=e.merge(n),u=o.xmax-o.xmin,a=o.ymax-o.ymin,c=u*u+a*a;return[l,c]}static minmax_tree_process_level(e,n,r,i){let l,o;for(let f of n)[l,o]=E.box2box_minmax(e.box,f.item.key),f.item.value instanceof s.Edge?i.insert([l,o],f.item.value.shape):i.insert([l,o],f.item.value),s.Utils.LT(o,r)&&(r=o);if(n.length===0)return r;let u=n.map(f=>f.left.isNil()?void 0:f.left).filter(f=>f!==void 0),a=n.map(f=>f.right.isNil()?void 0:f.right).filter(f=>f!==void 0),c=[...u,...a].filter(f=>{let[h,g]=E.box2box_minmax(e.box,f.max);return s.Utils.LE(h,r)});return r=E.minmax_tree_process_level(e,c,r,i),r}static minmax_tree(e,n,r){let i=new fi,l=[n.index.root],o=r<Number.POSITIVE_INFINITY?r*r:Number.POSITIVE_INFINITY;return o=E.minmax_tree_process_level(e,l,o,i),i}static minmax_tree_calc_distance(e,n,r){let i,l;if(n!=null&&!n.isNil()){if([i,l]=E.minmax_tree_calc_distance(e,n.left,r),l)return[i,l];if(s.Utils.LT(i[0],Math.sqrt(n.item.key.low)))return[i,!0];let[o,u]=E.distance(e,n.item.value);return s.Utils.LT(o,i[0])&&(i=[o,u]),[i,l]=E.minmax_tree_calc_distance(e,n.right,i),[i,l]}return[r,!1]}static shape2planarSet(e,n,r=Number.POSITIVE_INFINITY){let i=[r,new s.Segment],l=!1;if(n instanceof s.PlanarSet){let o=E.minmax_tree(e,n,r);[i,l]=E.minmax_tree_calc_distance(e,o.root,i)}return i}static sort(e){e.sort((n,r)=>s.Utils.LT(n[0],r[0])?-1:s.Utils.GT(n[0],r[0])?1:0)}static distance(e,n){return e.distanceTo(n)}static shape2multiline(e,n){let r=[Number.POSITIVE_INFINITY,new s.Segment];for(let i of n){let[l,o]=E.distance(e,i.shape);s.Utils.LT(l,r[0])&&(r=[l,o])}return r}static multiline2multiline(e,n){let r=[Number.POSITIVE_INFINITY,new s.Segment];for(let i of e)for(let l of n){let[o,u]=E.distance(i.shape,l.shape);s.Utils.LT(o,r[0])&&(r=[o,u])}return r}}s.Distance=E;const{Multiline:Cv,Point:qh,Segment:Lv,Polygon:Kh}=s;function aa(t){return new qh(t.split(" ").map(Number))}function Xh(t){return t.split(", ").map(aa)}function ca(t){const e=Xh(t);let n=[];for(let r=0;r<e.length-1;r++)n.push(new Lv(e[r],e[r+1]));return new Cv(n)}function Iv(t){return t.replace(/\(\(/,"").replace(/\)\)$/,"").split("), (").map(ca)}function Jh(t){const e=t.replace(/\(\(/,"").replace(/\)\)$/,"").split("), ("),n=new Kh;let r;return e.forEach((i,l)=>{let o=i.split(", ").map(a=>new qh(a.split(" ").map(Number)));const u=n.addFace(o);l===0?r=u.orientation():u.orientation()===r&&u.reverse()}),n}function Av(t){const n=t.split(/\)\), \(\(/).map(l=>"(("+l+"))").map(Jh),r=new Kh;return n.reduce((l,o)=>[...l,...o==null?void 0:o.faces],[]).forEach(l=>r.addFace([...l==null?void 0:l.shapes])),r}function Nv(t){if(t.startsWith("POLYGON")){const e=t.replace(/^POLYGON /,"");return Jh(e)}else{const e=t.replace(/^MULTIPOLYGON \(\(\((.*)\)\)\)$/,"$1");return Av(e)}}function Ov(t){return t.split(`
`).map(n=>n.match(/\(([^)]+)\)/)[1]).map(aa)}function Mv(t){return t.split(`
`).map(n=>n.match(/\(([^)]+)\)/)[1]).map(ca).reduce((n,r)=>[...n,...r],[])}function Zh(t){if(t.startsWith("POINT")){const e=t.replace(/^POINT \(/,"").replace(/\)$/,"");return aa(e)}else if(t.startsWith("MULTIPOINT")){const e=t.replace(/^MULTIPOINT \(/,"").replace(/\)$/,"");return Xh(e)}else if(t.startsWith("LINESTRING")){const e=t.replace(/^LINESTRING \(/,"").replace(/\)$/,"");return ca(e)}else if(t.startsWith("MULTILINESTRING")){const e=t.replace(/^MULTILINESTRING /,"");return Iv(e)}else{if(t.startsWith("POLYGON")||t.startsWith("MULTIPOLYGON"))return Nv(t);if(t.startsWith("GEOMETRYCOLLECTION")){const e=/(?<type>POINT|LINESTRING|POLYGON|MULTIPOINT|MULTILINESTRING|MULTIPOLYGON) \((?:[^\(\)]|\([^\)]*\))*\)/g,n=t.match(e);return n[0].startsWith("GEOMETRYCOLLECTION")&&(n[0]=n[0].replace("GEOMETRYCOLLECTION (","")),n.map(Zh).map(i=>i instanceof Array?i:[i]).reduce((i,l)=>[...i,...l],[])}else{if(bh(t))return Ov(t);if(ep(t))return Mv(t)}}return[]}function bh(t){var e;return(e=t.split(`
`))==null?void 0:e.every(n=>n.includes("POINT"))}function ep(t){var e;return(e=t.split(`
`))==null?void 0:e.every(n=>n.includes("LINESTRING"))}function zv(t){return t.startsWith("POINT")||bh(t)||t.startsWith("LINESTRING")||ep(t)||t.startsWith("MULTILINESTRING")||t.startsWith("POLYGON")||t.startsWith("MULTIPOINT")||t.startsWith("MULTIPOLYGON")||t.startsWith("GEOMETRYCOLLECTION")}s.isWktString=zv;s.parseWKT=Zh;s.BooleanOperations=ev;s.Relations=Vh;function dt(t){const e=Ti(),n=Gt();return new U((t.x-e.x)*n,(t.y-e.y)*n)}function ao(t){const e=Ti(),n=Gt();return new U(t.x/n+e.x,t.y/n+e.y)}var R=(t=>(t.canvasSize="canvasSize",t.canvas="canvas",t.context="context",t.screenMouseLocation="screenMouseLocation",t.activeTool="activeTool",t.entities="entities",t.activeEntity="activeEntity",t.shouldDrawCursor="shouldDrawCursor",t.helperEntities="helperEntities",t.debugEntities="debugEntities",t.angleStep="angleStep",t.screenOffset="screenOffset",t.screenScale="screenScale",t.panStartLocation="panStartLocation",t.snapPoint="snapPoint",t.snapPointOnAngleGuide="snapPointOnAngleGuide",t.hoveredSnapPoints="hoveredSnapPoints",t.lastDrawTimestamp="lastDrawTimestamp",t.activeLineColor="activeLineColor",t.activeLineWidth="activeLineWidth",t))(R||{});function Rv(){let t=[],e=t.length;function n(){return t[e-1]}return{push:r=>(t.length=e,t[e++]=r,console.log("stack push",JSON.stringify(t,null,2)),n()),replace:r=>(t[e-1]=r,console.log("stack replace",JSON.stringify(t,null,2)),n()),peek:()=>n(),undo:()=>(e>1&&(e-=1),console.log("stack undo",JSON.stringify(t,null,2)),n()),redo:()=>(e<t.length&&(e+=1),console.log("stack redo",JSON.stringify(t,null,2)),n()),clear:r=>{e=e-t.slice(0,e).filter(i=>i.variable===r).length,t=t.filter(i=>i.variable!==r)}}}function Pt(t){const e=[];for(const n of t)n&&e.push(n);return e}function Uv(t,e,n){return t<e?n==="asc"?-1:1:t>e?n==="asc"?1:-1:0}function co(t,e){return t.slice().sort((n,r)=>{for(let i=0;i<e.length;i++){const l=e[i],o=typeof l=="function",u=o?l(n):n[l],a=o?l(r):r[l],c=Uv(u,a,"asc");if(c!==0)return c}return 0})}function Pi(t,e){const n=[];for(const r of t)n.every(l=>!e(l,r))&&n.push(r);return n}function Dv(){}function Wc(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(t.toString()!=="[object Object]")return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const Fv="[object RegExp]",Bv="[object String]",jv="[object Number]",Vv="[object Boolean]",Qc="[object Arguments]",$v="[object Symbol]",Hv="[object Date]",Wv="[object Map]",Qv="[object Set]",Gv="[object Array]",Yv="[object Function]",qv="[object ArrayBuffer]",Ko="[object Object]",Kv="[object Error]",Xv="[object DataView]",Jv="[object Uint8Array]",Zv="[object Uint8ClampedArray]",bv="[object Uint16Array]",e1="[object Uint32Array]",t1="[object BigUint64Array]",n1="[object Int8Array]",r1="[object Int16Array]",i1="[object Int32Array]",l1="[object BigInt64Array]",o1="[object Float32Array]",s1="[object Float64Array]";function Gc(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Yc(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function u1(t,e){if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return pt(t,e)}return pt(t,e)}function pt(t,e,n){if(Object.is(t,e))return!0;let r=Yc(t),i=Yc(e);if(r===Qc&&(r=Ko),i===Qc&&(i=Ko),r!==i)return!1;switch(r){case Bv:return t.toString()===e.toString();case jv:{const u=t.valueOf(),a=e.valueOf();return u===a||Number.isNaN(u)&&Number.isNaN(a)}case Vv:case Hv:case $v:return Object.is(t.valueOf(),e.valueOf());case Fv:return t.source===e.source&&t.flags===e.flags;case Yv:return t===e}n=n??new Map;const l=n.get(t),o=n.get(e);if(l!=null&&o!=null)return l===e;n.set(t,e),n.set(e,t);try{switch(r){case Wv:{if(t.size!==e.size)return!1;for(const[u,a]of t.entries())if(!e.has(u)||!pt(a,e.get(u),n))return!1;return!0}case Qv:{if(t.size!==e.size)return!1;const u=Array.from(t.values()),a=Array.from(e.values());for(let c=0;c<u.length;c++){const f=u[c],h=a.findIndex(g=>pt(f,g,n));if(h===-1)return!1;a.splice(h,1)}return!0}case Gv:case Jv:case Zv:case bv:case e1:case t1:case n1:case r1:case i1:case l1:case o1:case s1:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let u=0;u<t.length;u++)if(!pt(t[u],e[u],n))return!1;return!0}case qv:return t.byteLength!==e.byteLength?!1:pt(new Uint8Array(t),new Uint8Array(e),n);case Xv:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:pt(t.buffer,e.buffer,n);case Kv:return t.name===e.name&&t.message===e.message;case Ko:{if(!(pt(t.constructor,e.constructor,n)||Wc(t)&&Wc(e)))return!1;const a=[...Object.keys(t),...Gc(t)],c=[...Object.keys(e),...Gc(e)];if(a.length!==c.length)return!1;for(let f=0;f<a.length;f++){const h=a[f],g=t[h];if(!Object.prototype.hasOwnProperty.call(e,h))return!1;const v=e[h];if(!pt(g,v,n))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function qc(t){return t==null}let tp=new U(0,0),np=null,fa=new U(0,0),rp=Q.Line,di=[],ip=[],fo=[],Dl=null,lp=!1,op=[],sp=[],Fl=45,Bl=new U(0,0),jl=1,up=null,ap=null,cp=null,fp=[],dp=0,hp="#fff",pp=1;const da=()=>tp,a1=()=>np,gp=()=>fa,ot=()=>rp,xe=()=>di,Xo=()=>fo,hr=()=>Dl,c1=()=>lp,f1=()=>op,d1=()=>sp,tu=()=>Fl,Ti=()=>Bl,Gt=()=>jl,h1=()=>up,ha=()=>ap,mp=()=>cp,pa=()=>fp,p1=()=>dp,mn=()=>hp,vn=()=>pp,pr=()=>ao(fa),g1=()=>di.filter(t=>!fo.includes(t.id)),Yn=t=>fo.includes(t.id),ga=t=>ip.includes(t.id),m1=t=>tp=t,v1=t=>np=t,y1=t=>fa=t,zr=(t,e=!0)=>{rp=t,e&&po(R.activeTool)},En=t=>{ki(R.entities,di),di=t},pe=t=>{ki(R.activeEntity,Dl),Dl=t},hi=t=>ip=t,ke=t=>fo=t,ma=t=>lp=t,w1=t=>op=t,va=t=>sp=t,_1=(t,e=!0)=>{ki(R.angleStep,Fl),Fl=t,e&&po(R.activeTool)},vp=t=>{ki(R.screenOffset,Bl),Bl=t},x1=t=>{ki(R.screenScale,jl),jl=t},ya=t=>up=t,S1=t=>ap=t,E1=t=>cp=t,P1=t=>fp=t,T1=t=>dp=t,k1=(t,e=!0)=>{hp=t,e&&po(R.activeLineColor)},C1=(t,e=!0)=>{pp=t,e&&po(R.activeLineWidth)},lr=t=>{const e=xe().filter(n=>n.id!==t.id);return En(e),e},ho=(...t)=>{const e=[...xe(),...t];return En(e),e},L1=[R.activeTool,R.angleStep,R.activeLineColor,R.activeLineWidth],I1=[R.entities,R.activeEntity,R.angleStep,R.screenOffset,R.screenScale],A1=[R.angleStep,R.screenOffset,R.screenScale],Bn=Rv();function ki(t,e){if(!I1.includes(t))return;const n=Bn.peek();if(!u1(e,n==null?void 0:n.value)){if(t!==R.activeEntity&&Bn.clear(R.activeEntity),A1.includes(t)&&(n==null?void 0:n.variable)===t){Bn.replace({variable:t,value:e});return}Bn.push({variable:t,value:e})}}function yp(t){const e=t.variable,n=t.value;switch(e){case R.entities:di=n;break;case R.activeEntity:Dl=n;break;case R.angleStep:Fl=n;break;case R.screenOffset:Bl=n;break;case R.screenScale:jl=n;break}}function wp(){const t=Bn.undo();t&&yp(t)}function _p(){const t=Bn.redo();t&&yp(t)}function po(t){L1.includes(t)&&(console.log("triggering react update for: ",t),window.dispatchEvent(new CustomEvent(t)))}var Z=(t=>(t.Line="Line",t.Circle="Circle",t.Arc="Arc",t.Rectangle="Rectangle",t.SelectionRectangle="SelectionRectangle",t.Point="Point",t))(Z||{}),V=(t=>(t.AngleGuide="AngleGuide",t.LineEndPoint="LineEndPoint",t.Intersection="Intersection",t.CircleCenter="CircleCenter",t.CircleCardinal="CircleCardinal",t.CircleTangent="CircleTangent",t.LineMidPoint="LineMidPoint",t.Point="Point",t))(V||{}),Vl=(t=>(t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Back=3]="Back",t[t.Forward=4]="Forward",t))(Vl||{});function $t(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}const nu=1e-6,Ki=10,Xi=30,N1="#111",O1="#666666",M1="#FFFF00",wa=15,z1=15,_a=15,F=15,xa=1e3,R1=3,U1="#b6ff9a",D1="#6899f3",F1=.1,B1=["#2f4f4f","#800000","#006400","#d2b48c","#ff0000","#00ced1","#ffa500","#ffff00","#00ff00","#0000ff","#ff00ff","#1e90ff","#dda0dd","#ff1493","#98fb98"];function et(t,e){return Math.abs(t.x-e.x)<nu&&Math.abs(t.y-e.y)<nu}function xp(t,e,n){const r=it.getAngle(e,n),i=t.map(l=>({point:l,angle:(new uo(e,l).slope-r+2*Math.PI)%(2*Math.PI)}));return co(i,[l=>l.angle]).map(l=>l.point)}class it{constructor(e,n,r,i){$(this,"id",crypto.randomUUID());$(this,"lineColor","#fff");$(this,"lineWidth",1);$(this,"arc",null);$(this,"centerPoint",null);$(this,"firstPoint",null);if(e&&(this.centerPoint=e),e&&n&&(this.firstPoint=n),e&&n&&r){const l=it.getAngle(e,n),o=it.getAngle(e,r);this.arc=new eu(e,$t(e,n),l,o,i)}}static getAngle(e,n){return new uo(e,n).slope}send(e){if(this.centerPoint){if(!this.firstPoint)this.firstPoint=new U(e.x,e.y);else if(!this.arc){const n=it.getAngle(this.centerPoint,this.firstPoint),r=it.getAngle(this.centerPoint,e);return this.arc=new eu(this.centerPoint,$t(this.centerPoint,this.firstPoint),n,r,r>n),!0}}else return this.centerPoint=sa(e.x,e.y),!1;return!0}draw(e){var l,o;if(!this.centerPoint)return;let n;if(this.arc)n=this.arc.r.valueOf();else if(this.centerPoint&&this.firstPoint)n=$t(this.centerPoint,this.firstPoint);else return;const r=dt(this.centerPoint),i=n*e.screenZoom;e.context.beginPath(),e.context.arc(r.x,r.y,i,((l=this.arc)==null?void 0:l.startAngle)||0,((o=this.arc)==null?void 0:o.endAngle)||2*Math.PI),e.context.stroke()}intersectsWithBox(e){return this.arc?this.arc.intersect(e).length>0:!1}isContainedInBox(e){return this.arc?e.contains(this.arc):!1}getBoundingBox(){return this.arc?this.arc.box:null}getShape(){return this.arc}getSnapPoints(){return this.centerPoint===null||this.arc===null?[]:[{point:this.centerPoint,type:V.CircleCenter},{point:this.arc.start,type:V.LineEndPoint},{point:this.arc.end,type:V.LineEndPoint}]}getIntersections(e){const n=e.getShape();return!this.arc||!n?[]:this.arc.intersect(n)}getFirstPoint(){return this.centerPoint}distanceTo(e){return this.arc?this.arc.distanceTo(e):null}getSvgString(){var e;return((e=this.arc)==null?void 0:e.svg())||null}getType(){return Z.Arc}containsPointOnShape(e){return this.arc?this.arc.contains(e):!1}cutAtPoints(e){if(!this.arc)return[this];const n=Pi([this.arc.start,this.arc.end,...e],et),r=xp(n,this.arc.center,this.arc.start),i=[];for(let l=0;l<r.length-1;l++){const o=r[l],u=r[l+1],a=new it(this.centerPoint||void 0,o,u,this.arc.counterClockwise);i.push(a)}return i}toJson(){return this.arc?{id:this.id,type:Z.Arc,shapeData:{center:{x:this.arc.center.x,y:this.arc.center.y},start:{x:this.arc.start.x,y:this.arc.start.y},end:{x:this.arc.end.x,y:this.arc.end.y},counterClockwise:this.arc.counterClockwise}}:null}fromJson(e){if(e.type!==Z.Arc)throw new Error("Invalid Entity type in JSON");const n=new U(e.shapeData.center.x,e.shapeData.center.y),r=new U(e.shapeData.start.x,e.shapeData.start.y),i=new U(e.shapeData.end.x,e.shapeData.end.y),l=e.shapeData.counterClockwise,o=new it(n,r,i,l);return o.id=e.id,o}}function Kc(t,e){return(t+e)%e}class go{constructor(e,n){$(this,"id",crypto.randomUUID());$(this,"lineColor","#fff");$(this,"lineWidth",1);$(this,"circle",null);$(this,"centerPoint",null);e&&(this.centerPoint=e),e&&n&&(this.circle=new Gh(e,typeof n=="number"?n:$t(e,n)))}send(e){if(this.centerPoint){if(!this.circle)return this.circle=Yh(this.centerPoint,this.centerPoint.distanceTo(e)[0]),!0}else return this.centerPoint=sa(e.x,e.y),!1;return!0}draw(e){if(!this.centerPoint)return;let n;this.circle?n=this.circle.r:n=this.centerPoint.distanceTo(e.worldMouseLocation)[0];const r=dt(this.centerPoint),i=n*e.screenZoom;e.context.beginPath(),e.context.arc(r.x,r.y,i,0,2*Math.PI),e.context.stroke()}intersectsWithBox(e){return this.circle?this.circle.intersect(e).length>0:!1}isContainedInBox(e){return this.circle?e.contains(this.circle):!1}getBoundingBox(){return this.circle?this.circle.box:null}getShape(){return this.circle}getSnapPoints(){return this.centerPoint===null||this.circle===null?[]:[{point:this.centerPoint,type:V.CircleCenter},{point:new U(this.centerPoint.x+this.circle.r,this.centerPoint.y),type:V.CircleCardinal},{point:new U(this.centerPoint.x-this.circle.r,this.centerPoint.y),type:V.CircleCardinal},{point:new U(this.centerPoint.x,this.centerPoint.y+this.circle.r),type:V.CircleCardinal},{point:new U(this.centerPoint.x,this.centerPoint.y-this.circle.r),type:V.CircleCardinal}]}getIntersections(e){const n=e.getShape();return!this.circle||!n?[]:this.circle.intersect(n)}getFirstPoint(){return this.centerPoint}distanceTo(e){return this.circle?this.circle.distanceTo(e):null}getSvgString(){var e;return((e=this.circle)==null?void 0:e.svg())||null}getType(){return Z.Circle}containsPointOnShape(e){return this.circle?this.circle.contains(e):!1}cutAtPoints(e){if(!this.circle)return[this];const n=[],r=e.length;for(let i=0;i<r;i++){const l=e[Kc(i,r)],o=e[Kc(i+1,r)],u=new it(this.centerPoint||void 0,l,o,!0);n.push(u)}return n}toJson(){var e;return this.circle?{id:this.id,type:Z.Circle,shapeData:{center:{x:this.circle.center.x,y:this.circle.center.y},radius:(e=this.circle)==null?void 0:e.r}}:null}fromJson(e){const n=new U(e.shapeData.center.x,e.shapeData.center.y),r=e.shapeData.radius,i=new go(n,r);return i.id=e.id,i}}class Yt{constructor(e,n){$(this,"id",crypto.randomUUID());$(this,"lineColor","#fff");$(this,"lineWidth",1);$(this,"segment",null);$(this,"startPoint",null);e instanceof cl?(this.startPoint=e.start,this.segment=e):e&&n?(this.startPoint=e,this.segment=new cl(e,n)):e&&(this.startPoint=e)}send(e){if(this.startPoint){if(!this.segment)return this.segment=new cl(this.startPoint,e),!0}else return this.startPoint=e,!1;return!0}draw(e){if(!this.startPoint)return;let n,r;this.segment?(n=this.segment.start,r=this.segment.end):(n=this.startPoint,r=new U(e.worldMouseLocation.x,e.worldMouseLocation.y));const i=dt(n),l=dt(r);e.context.beginPath(),e.context.moveTo(i.x,i.y),e.context.lineTo(l.x,l.y),e.context.stroke()}intersectsWithBox(e){return this.segment?this.segment.intersect(e).length>0:!1}isContainedInBox(e){return this.segment?e.contains(this.segment):!1}getBoundingBox(){return this.segment?this.segment.box:null}getShape(){return this.segment}getSnapPoints(){var e,n;return!((e=this.segment)!=null&&e.start)||!((n=this.segment)!=null&&n.end)?[]:[{point:this.segment.start,type:V.LineEndPoint},{point:this.segment.end,type:V.LineEndPoint},{point:this.segment.middle(),type:V.LineMidPoint}]}getIntersections(e){const n=e.getShape();return!this.segment||!n?[]:this.segment.intersect(n)}getFirstPoint(){return this.startPoint}distanceTo(e){return this.segment?this.segment.distanceTo(e):null}getSvgString(){var e;return((e=this.segment)==null?void 0:e.svg())||null}getType(){return Z.Line}containsPointOnShape(e){return this.segment?this.segment.contains(e):!1}cutAtPoints(e){if(!this.segment)return[this];const n=Pi([this.segment.start,this.segment.end,...e],et),r=co(n,[l=>$t(this.segment.start,l)]),i=[];for(let l=0;l<r.length-1;l++)i.push(new Yt(r[l],r[l+1]));return i}toJson(){return this.segment?{id:this.id,type:Z.Line,shapeData:{startPoint:{x:this.segment.start.x,y:this.segment.start.y},endPoint:{x:this.segment.end.x,y:this.segment.end.y}}}:null}fromJson(e){const n=new U(e.shapeData.startPoint.x,e.shapeData.startPoint.y),r=new U(e.shapeData.endPoint.x,e.shapeData.endPoint.y),i=new Yt(n,r);return i.id=e.id,i}}class gr{constructor(e,n){$(this,"id",crypto.randomUUID());$(this,"lineColor","#fff");$(this,"lineWidth",1);$(this,"point",null);!qc(e)&&!qc(n)&&(this.point=new U(e,n))}draw(e){if(!this.point)return;const n=dt(this.point);e.context.beginPath(),e.context.arc(n.x,n.y,5,0,Math.PI*2),e.context.stroke()}intersectsWithBox(){return!1}isContainedInBox(e){return this.point?e.contains(this.point):!1}getBoundingBox(){return this.point?new wt(this.point.x,this.point.y,this.point.x,this.point.y):null}getShape(){return this.point}getSnapPoints(){return this.point?[{point:this.point,type:V.Point}]:[]}getIntersections(){return[]}getFirstPoint(){return this.point}distanceTo(e){return this.point?this.point.distanceTo(e):null}getSvgString(){var e;return((e=this.point)==null?void 0:e.svg())||null}getType(){return Z.Point}containsPointOnShape(e){return this.point?this.point.equalTo(e):!1}toJson(){return this.point?{id:this.id,type:Z.Point,shapeData:{point:{x:this.point.x,y:this.point.y}}}:null}fromJson(e){const n=new U(e.shapeData.point.x,e.shapeData.point.y),r=new gr(n);return r.id=e.id,r}}class mo{constructor(e,n){$(this,"id",crypto.randomUUID());$(this,"lineColor","#fff");$(this,"lineWidth",1);$(this,"rectangle",null);$(this,"startPoint",null);e&&(this.startPoint=e),e&&n&&(this.rectangle=new wt(Math.min(e.x,n.x),Math.min(e.y,n.y),Math.max(e.x,n.x),Math.max(e.y,n.y)))}send(e){if(this.startPoint){if(!this.rectangle)return this.rectangle=new wt(Math.min(this.startPoint.x,e.x),Math.min(this.startPoint.y,e.y),Math.max(this.startPoint.x,e.x),Math.max(this.startPoint.y,e.y)),!0}else return this.startPoint=e,!1;return!0}draw(e){if(!this.startPoint&&!this.rectangle)return;let n,r;this.rectangle?(n=this.rectangle.high,r=this.rectangle.low):(n=this.startPoint,r=new U(e.worldMouseLocation.x,e.worldMouseLocation.y));const i=dt(n),l=dt(r);e.context.beginPath(),e.context.strokeRect(i.x,i.y,l.x-i.x,l.y-i.y)}intersectsWithBox(e){return this.rectangle?Vh.relate(this.rectangle,e).B2B.length>0:!1}isContainedInBox(e){return this.rectangle?e.contains(this.rectangle):!1}distanceTo(e){if(!this.rectangle)return null;const n=this.rectangle.toSegments().map(i=>i.distanceTo(e));let r=[Number.MAX_SAFE_INTEGER,null];return n.forEach(i=>{i[0]<r[0]&&(r=i)}),r}getBoundingBox(){return this.rectangle?this.rectangle:null}getShape(){return this.rectangle}getSnapPoints(){if(!this.rectangle)return[];const e=this.rectangle.toPoints(),n=this.rectangle.toSegments();return[{point:e[0],type:V.LineEndPoint},{point:e[1],type:V.LineEndPoint},{point:e[2],type:V.LineEndPoint},{point:e[3],type:V.LineEndPoint},{point:n[0].middle(),type:V.LineMidPoint},{point:n[1].middle(),type:V.LineMidPoint},{point:n[2].middle(),type:V.LineMidPoint},{point:n[3].middle(),type:V.LineMidPoint}]}getIntersections(e){const n=e.getShape();return!this.rectangle||!n?[]:this.rectangle.toSegments().flatMap(r=>r.intersect(n))}getFirstPoint(){return this.startPoint}getSvgString(){var n,r;const e=(n=this.rectangle)==null?void 0:n.svg();return((r=e==null?void 0:e.replace(/width=([0-9]+)/g,'width="$1"'))==null?void 0:r.replace(/height=([0-9]+)/g,'height="$1"'))||null}getType(){return Z.Rectangle}containsPointOnShape(e){return this.rectangle?this.rectangle.toSegments().some(n=>n.contains(e)):!1}toJson(){return this.rectangle?{id:this.id,type:Z.Rectangle,shapeData:{xmin:this.rectangle.xmin,ymin:this.rectangle.ymin,xmax:this.rectangle.xmax,ymax:this.rectangle.ymax}}:null}fromJson(e){const n=new U(e.shapeData.xmin,e.shapeData.ymin),r=new U(e.shapeData.xmax,e.shapeData.ymax),i=new mo(n,r);return i.id=e.id,i}}function j1(t){return new Promise((e,n)=>{if(!t)return;const r=new FileReader;r.addEventListener("load",async()=>{const i=r.result,l=JSON.parse(i);l.entities||n(new Error("Invalid JSON file"));const o=Pt(l.entities.map(u=>{switch(u.type){case Z.Arc:return new it().fromJson(u);case Z.Circle:return new go().fromJson(u);case Z.Line:return new Yt().fromJson(u);case Z.Point:return new gr().fromJson(u);case Z.Rectangle:return new mo().fromJson(u);default:n(new Error("Invalid entity type: "+u.type))}}));En(o),e()}),r.readAsText(t,"utf-8")})}var Sp={exports:{}};(function(t,e){(function(n,r){r()})(wr,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,h){var g=new XMLHttpRequest;g.open("GET",c),g.responseType="blob",g.onload=function(){a(g.response,f,h)},g.onerror=function(){console.error("could not download file")},g.send()}function i(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function l(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof wr=="object"&&wr.global===wr?wr:void 0,u=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(c,f,h){var g=o.URL||o.webkitURL,v=document.createElement("a");f=f||c.name||"download",v.download=f,v.rel="noopener",typeof c=="string"?(v.href=c,v.origin===location.origin?l(v):i(v.href)?r(c,f,h):l(v,v.target="_blank")):(v.href=g.createObjectURL(c),setTimeout(function(){g.revokeObjectURL(v.href)},4e4),setTimeout(function(){l(v)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,h){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,h),f);else if(i(c))r(c,f,h);else{var g=document.createElement("a");g.href=c,g.target="_blank",setTimeout(function(){l(g)})}}:function(c,f,h,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,h);var v=c.type==="application/octet-stream",_=/constructor/i.test(o.HTMLElement)||o.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||v&&_||u)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var p=I.result;p=w?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=p:location=p,g=null},I.readAsDataURL(c)}else{var m=o.URL||o.webkitURL,d=m.createObjectURL(c);g?g.location=d:location.href=d,g=null,setTimeout(function(){m.revokeObjectURL(d)},4e4)}});o.saveAs=a.saveAs=a,t.exports=a})})(Sp);var Sa=Sp.exports;function V1(){const t=xe(),n={entities:Pt(t.map(l=>l.toJson()))},r=JSON.stringify(n,null,2),i=new Blob([r],{type:"text/json;charset=utf-8"});Sa.saveAs(i,"open-web-cad--drawing.json")}function Ep(t,e){let n=e.x,r=e.y,i=0,l=0;const o=[];t.forEach(f=>{const h=f.getBoundingBox();h&&(n=Math.min(n,h.xmin),r=Math.min(r,h.ymin),i=Math.max(i,h.xmax),l=Math.max(l,h.ymax))}),console.log("exporting svg",o);const u=i-n+Ki*2,a=l-r+Ki*2;return t.forEach(f=>{const h=f.getShape();if(!h)return;const v=h.translate(new Hh(new U(n,r),new U(Ki,Ki))).svg();v&&o.push(v)}),{svgString:`
      <svg width="${u}" height="${a}" xmlns="http://www.w3.org/2000/svg">
        <rect x="0" y="0" width="${u}" height="${a}" fill="white" />
        ${o.join("")}
      </svg>
    `,width:u,height:a}}function $1(){const t=xe(),e=da(),n=Ep(t,e),r=new Blob([n.svgString],{type:"text/svg;charset=utf-8"});Sa.saveAs(r,"open-web-cad--drawing.svg")}function H1(t,e,n,r){return new Promise((i,l)=>{const o=document.createElement("canvas"),u=o.getContext("2d");if(!u)throw new Error("Could not get canvas context");const a=new Image,c=new Blob([t],{type:"image/svg+xml"}),f=URL.createObjectURL(c);a.onload=()=>{o.width=e+r*2,o.height=n+r*2,u.fillStyle="white",u.fillRect(0,0,o.width,o.height),u.drawImage(a,r,r),URL.revokeObjectURL(f),o.toBlob(h=>{h?i(h):l(new Error("Could not convert canvas to blob"))},"image/png")},a.src=f})}async function W1(){const t=xe(),e=da(),n=Ep(t,e),r=await H1(n.svgString,n.width,n.height,20);Sa.saveAs(r,"open-web-cad--drawing.png")}function Pp(t,e=n=>n){let n=0;const r=[];for(;n<t;)r.push(e(n)),n++;return r}const Q1=()=>{const[t,e]=N.useState(Q.Line),[n,r]=N.useState(45),[i,l]=N.useState("#FFF"),[o,u]=N.useState(1),a=N.useCallback(()=>{console.log("fetching state updates from outside: ",{activeTool:ot(),angleStep:tu(),activeLineColor:mn(),activeLineWidth:vn()}),e(ot()),r(tu()),l(mn()),u(vn())},[]);N.useEffect(()=>(window.addEventListener(R.activeTool,a),window.addEventListener(R.angleStep,a),window.addEventListener(R.activeLineColor,a),window.addEventListener(R.activeLineWidth,a),()=>{window.removeEventListener(R.activeTool,a),window.removeEventListener(R.angleStep,a),window.removeEventListener(R.activeLineColor,a),window.removeEventListener(R.activeLineWidth,a)}),[a]);const c=N.useCallback(h=>{console.log("set active tool: ",h),e(h),zr(h,!1),pe(null),ke([])},[]),f=N.useCallback(h=>{r(h),_1(h,!1)},[]);return M.jsxs("div",{className:"controls absolute top-0 left-0 flex flex-col gap-1 m-1",children:[M.jsx(ie,{title:"Select (s)",icon:Be.Direction,onClick:()=>c(Q.Select),active:t===Q.Select}),M.jsx(ie,{title:"Line (l)",icon:Be.Line,onClick:()=>c(Q.Line),active:t===Q.Line}),M.jsx(ie,{title:"Rectangle (r)",icon:Be.Square,onClick:()=>c(Q.Rectangle),active:t===Q.Rectangle}),M.jsx(ie,{title:"Circle (c)",icon:Be.Circle,onClick:()=>c(Q.Circle),active:t===Q.Circle}),M.jsx(ie,{className:"mt-2",title:"Undo (ctrl + z)",icon:Be.AntiClockwise,onClick:()=>wp()}),M.jsx(ie,{title:"Redo (ctrl + shift + z)",icon:Be.Clockwise,onClick:()=>_p()}),M.jsx(ie,{className:"mt-2",title:"Delete segments",icon:Be.Crop,onClick:()=>c(Q.Eraser),active:t===Q.Eraser}),M.jsx(Go,{className:"mt-2",title:"Line color",buttonStyle:{backgroundColor:i},children:B1.map(h=>M.jsx(ie,{title:"Change line color",style:{backgroundColor:h},active:h===i,onClick:()=>k1(h)},"line-color--"+h))}),M.jsx(Go,{title:"Line width",label:String(o)+"px",children:Pp(9).map(h=>{const g=h+1;return M.jsx(ie,{title:"Change line width",label:String(g)+"px",active:g===o,onClick:()=>C1(g)},"line-width--"+g)})}),M.jsxs(Go,{title:"Snap angles",label:n+"",children:[M.jsx(ie,{title:"Add guide every 5 degrees",label:"5",onClick:()=>f(5),active:n===5}),M.jsx(ie,{title:"Add guide every 15 degrees",label:"15",onClick:()=>f(15),active:n===15}),M.jsx(ie,{title:"Add guide every 30 degrees",label:"30",onClick:()=>f(30),active:n===30}),M.jsx(ie,{title:"Add guide every 45 degrees",label:"45",onClick:()=>f(45),active:n===45}),M.jsx(ie,{title:"Add guide every 90 degrees",label:"90",onClick:()=>f(90),active:n===90})]}),M.jsx(ie,{className:"relative mt-2",title:"Load from JSON file",icon:Be.Folder,onClick:Dv,children:M.jsx("input",{className:"absolute inset-0 opacity-0",type:"file",accept:"*.json",onChange:async h=>{var g;await j1((g=h.target.files)==null?void 0:g[0]),h.target.files=null}})}),M.jsx(ie,{title:"Save to JSON file",icon:Be.Save,onClick:()=>V1()}),M.jsx(ie,{title:"Export to SVG file",label:"SVG",onClick:()=>$1()}),M.jsx(ie,{title:"Export to PNG file",label:"PNG",onClick:()=>W1()}),M.jsx(ie,{className:"mt-2",title:"Github",icon:Be.Github,onClick:()=>window.open("https://github.com/bertyhell/openwebcad","_blank")})]})};function G1(){return M.jsx("div",{children:M.jsx(Q1,{})})}function Xc(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];for(let i=n;i<t.length;i++){if(n===i)continue;const l=t[i];e.push(...r.getIntersections(l))}}return e}function ru(t,e){let n=null,r=1/0;return t.forEach(i=>{const l=$t(i.point,e);l<r&&(r=l,n=i)}),{distance:r,snapPoint:n}}function iu(t,e,n){const{distance:r,snapPoint:i}=ru(t.filter(u=>u.type!==V.AngleGuide),e);if(r<n)return i;const{distance:l,snapPoint:o}=ru(t.filter(u=>u.type===V.AngleGuide),e);return l<n?o:null}function Y1(t,e){return Pp(180/e,n=>{const i=n*e*(Math.PI/180),l=t.x+Math.cos(i),o=t.y+Math.sin(i);return new Yt(new U(t.x-1e4*(l-t.x),t.y-1e4*(o-t.y)),new U(t.x+1e4*(l-t.x),t.y+1e4*(o-t.y)))})}function Ci(t,e){let n=null,r=[Number.MAX_SAFE_INTEGER,null];return e.forEach(i=>{const l=i.distanceTo(t);l&&l[0]<r[0]&&(r=l,n=i)}),{distance:r[0],segment:r[1],entity:n}}function q1(t,e,n,r,i){let l=null,o=null;const u=[],a=[];e.forEach(v=>{const _=Y1(v,r),w=Ci(n,_);w.distance<z1&&(a.push(w.entity),u.push({point:w.segment.start,type:V.AngleGuide}))});const c=[...t.flatMap(v=>v.getSnapPoints()),...Xc(Pt(t)).map(v=>({point:v,type:V.Intersection}))],f=iu(c,n,i);f&&(l=f);const h=[...u,...Xc([...Pt(t),...a]).map(v=>({point:v,type:V.Intersection}))],g=iu(h,n,i);return g&&(o=g),{angleGuides:a,entitySnapPoint:l,angleSnapPoint:o}}function mr(t,e,n,r,i,l=[]){t.strokeStyle=r,t.lineWidth=i,t.setLineDash(l),e&&(t.lineWidth=i+1),n&&t.setLineDash([5,5])}function K1(t,e){e.forEach(n=>{mr(t.context,ga(n),Yn(n),n.lineColor,n.lineWidth),n.draw(t)})}function X1(t,e){e.forEach(n=>{mr(t.context,ga(n),Yn(n),"#FF5500",1),n.draw(t)})}function J1(t,e,n){if(!e)return;const r=dt(e.point);mr(t.context,!1,!1,M1,1);const i=t.context;switch(n&&(i.beginPath(),i.moveTo(r.x-F/2,r.y),i.lineTo(r.x+F/2,r.y),i.moveTo(r.x,r.y-F/2),i.lineTo(r.x,r.y+F/2),i.stroke()),e.type){case V.LineEndPoint:i.strokeRect(r.x-F/2,r.y-F/2,F,F);break;case V.LineMidPoint:i.beginPath(),i.moveTo(r.x,r.y-F/2),i.lineTo(r.x-F/2,r.y+F/2),i.lineTo(r.x+F/2,r.y+F/2),i.closePath(),i.stroke();break;case V.AngleGuide:i.beginPath(),i.moveTo(r.x-F/2,r.y-F/2),i.lineTo(r.x+F/2,r.y-F/2),i.lineTo(r.x-F/2,r.y+F/2),i.lineTo(r.x+F/2,r.y+F/2),i.closePath(),i.stroke();break;case V.Intersection:i.beginPath(),i.moveTo(r.x-F/2,r.y-F/2),i.lineTo(r.x+F/2,r.y+F/2),i.moveTo(r.x+F/2,r.y-F/2),i.lineTo(r.x-F/2,r.y+F/2),i.stroke();break;case V.CircleCenter:i.beginPath(),i.arc(r.x,r.y,F/2,0,2*Math.PI),i.stroke();break;case V.CircleCardinal:i.beginPath(),i.moveTo(r.x,r.y-F/2),i.lineTo(r.x-F/2,r.y),i.lineTo(r.x,r.y+F/2),i.lineTo(r.x+F/2,r.y),i.closePath(),i.stroke();break}}function Z1(t,e){e.forEach(n=>{mr(t.context,ga(n),Yn(n),O1,1,[1,5]),n.draw(t)})}function b1(t,e){mr(t.context,!1,!1,mn(),vn()),e==null||e.draw(t)}function ey(t,e){e&&(mr(t.context,!1,!1,"#FFF",1),t.context.beginPath(),t.context.moveTo(t.screenMouseLocation.x,t.screenMouseLocation.y-Xi),t.context.lineTo(t.screenMouseLocation.x,t.screenMouseLocation.y+Xi),t.context.moveTo(t.screenMouseLocation.x-Xi,t.screenMouseLocation.y),t.context.lineTo(t.screenMouseLocation.x+Xi,t.screenMouseLocation.y),t.context.stroke())}function ty(t){var e,n;t.canvasSize!==null&&t.context&&(t.context.fillStyle=N1,t.context.fillRect(0,0,(e=t.canvasSize)==null?void 0:e.x,(n=t.canvasSize)==null?void 0:n.y))}function ny(t){ty(t),Z1(t,f1()),K1(t,xe()),X1(t,d1()),b1(t,hr());const{snapPoint:e}=ru(Pt([ha(),mp()]),pr()),n=!!e&&pa().some(r=>r.milliSecondsHovered>xa&&et(r.snapPoint.point,e.point));J1(t,e,n),ey(t,c1())}function ry(t){const e=xe();let r=hr();r||(r=new Yt,r.lineColor=mn(),r.lineWidth=vn(),pe(r)),r.send(t)&&(En([...e,r]),r=new Yt,r.lineColor=mn(),r.lineWidth=vn(),pe(r),r.send(t))}function iy(t){const e=xe();let r=hr();r||(r=new mo,r.lineColor=mn(),r.lineWidth=vn(),pe(r)),r.send(new U(t.x,t.y))&&(En([...e,r]),pe(null))}function ly(t){const e=xe();let r=hr();r||(r=new go,r.lineColor=mn(),r.lineWidth=vn(),pe(r)),r.send(t)&&(En([...e,r]),pe(null))}class Jc{constructor(){$(this,"id",crypto.randomUUID());$(this,"lineColor","#fff");$(this,"lineWidth",1);$(this,"rectangle",null);$(this,"startPoint",null)}send(e){if(this.startPoint){if(!this.rectangle)return this.rectangle=new wt(Math.min(this.startPoint.x,e.x),Math.min(this.startPoint.y,e.y),Math.max(this.startPoint.x,e.x),Math.max(this.startPoint.y,e.y)),!0}else return this.startPoint=e,!1;return!0}draw(e){if(!this.startPoint&&!this.rectangle)return;let n,r;this.rectangle?(n=this.rectangle.high,r=this.rectangle.low):(n=this.startPoint,r=new U(e.worldMouseLocation.x,e.worldMouseLocation.y));const i=n.x>r.x,l=dt(n),o=dt(r);e.context.setLineDash([5,5]),e.context.strokeStyle=i?U1:D1,e.context.lineWidth=1,e.context.beginPath(),e.context.strokeRect(l.x,l.y,o.x-l.x,o.y-l.y)}isIntersectionSelection(){var e;return!this.rectangle||!this.startPoint?!1:Math.abs(this.startPoint.x-((e=this.rectangle)==null?void 0:e.xmin))>nu}intersectsWithBox(e){return this.rectangle?this.rectangle.intersect(e):!1}isContainedInBox(e){return this.rectangle?e.contains(this.rectangle):!1}getBoundingBox(){return this.rectangle?this.rectangle:null}getShape(){return this.rectangle}getSnapPoints(){return[]}getIntersections(){return[]}getFirstPoint(){return this.startPoint}distanceTo(){return null}getSvgString(){var e;return((e=this.rectangle)==null?void 0:e.svg())||null}getType(){return Z.SelectionRectangle}containsPointOnShape(){return!1}toJson(){return null}fromJson(){return null}}function oy(t,e,n){const r=hr();let i=null;r instanceof Jc&&(i=r);const l=Ci(t,xe());if(l&&l.distance<_a&&!i){const u=l.entity;console.log("selecting entity close to the mouse: ",u),!e&&!n?ke([u.id]):e?Yn(u)?ke(Xo().filter(a=>a!==u.id)):ke([...Xo(),u.id]):ke([...Xo(),u.id]);return}i||(console.log("Start a new selection rectangle drag: ",i),i=new Jc,pe(i));const o=i.send(new U(t.x,t.y));if(hi([]),o){console.log("Finish selection: ",i);const u=i.isIntersectionSelection(),a=Pt(xe().map(c=>{if(u){if(c.intersectsWithBox(i.getBoundingBox())||c.isContainedInBox(i.getBoundingBox()))return e&&Yn(c)?null:c.id}else if(c.isContainedInBox(i.getBoundingBox()))return e&&Yn(c)?null:c.id;return null}));ke(a),console.log("Set active entity to null"),pe(null)}}function sy(t,e,n,r,i){if(!t)return;const l=e.at(-1);let o;l?$t(t.point,l.snapPoint.point)<r?o=[...e.slice(0,e.length-1),{...l,milliSecondsHovered:l.milliSecondsHovered+i}]:l.milliSecondsHovered>=xa?o=[...e,{snapPoint:t,milliSecondsHovered:i}]:o=[...e.slice(0,e.length-1),{snapPoint:t,milliSecondsHovered:i}]:o=[{snapPoint:t,milliSecondsHovered:i}];const u=o.slice(0,R1);n(u)}function uy(t,e,n,r){const i=co(Pi([e,...r,t,n],et),[o=>$t(e,o)]),l=i.findIndex(o=>et(t,o));if(l===-1)throw new Error("Clicked point not found on line in function findNeighboringPointsOnLine");return[i[l-1]||e,i[l+1]||n]}function ay(t,e){const n=t.map(r=>({point:r,angle:new uo(e,r).slope}));return co(n,[r=>r.angle]).map(r=>r.point)}function cy(t,e,n){const r=ay(Pi([...n,t],et),e.getShape().center),i=r.findIndex(l=>et(t,l));if(i===-1)throw new Error("Clicked point not found on line in function findNeighboringPointsOnCircle");return[r[(i+r.length-1)%r.length],r[(i+r.length+1)%r.length]]}function fy(t,e,n){const r=xp(Pi([...n,t],et),e.getShape().center,e.getShape().start),i=r.findIndex(l=>et(t,l));if(i===-1)throw new Error("Clicked point not found on line in function findNeighboringPointsOnArc");return[r[(i+r.length-1)%r.length],r[(i+r.length+1)%r.length]]}function dy(t){const e=Ci(t,xe());if(!e)return;const n=e.segment.start,r=hy(e.entity,xe());switch(e.entity.getType()){case Z.Line:{const i=e.entity;Zc(i,n,r);break}case Z.Circle:{const i=e.entity;py(i,n,r);break}case Z.Arc:{const i=e.entity;gy(i,n,r);break}case Z.Rectangle:{const i=e.entity,u=i.getShape().toSegments().map(a=>new Yt(a));lr(i),ho(...u),u.forEach(a=>Zc(a,n,r));break}case Z.SelectionRectangle:break}}function hy(t,e){return Pt(e.flatMap(n=>t.id===n.id?null:t.getIntersections(n)))}function Zc(t,e,n){const r=t.getShape(),[i,l]=uy(e,r.start,r.end,n);va([i,l].map(a=>new gr(a)));const u=t.cutAtPoints([i,l]).filter(a=>!a.containsPointOnShape(e));lr(t),ho(...u)}function py(t,e,n){const[r,i]=cy(e,t,n);va([r,i].map(o=>new gr(o)));const l=t.cutAtPoints([r,i]);if(et(r,i))lr(t);else{const o=l.filter(u=>!u.containsPointOnShape(e));lr(t),ho(...o)}}function gy(t,e,n){const[r,i]=fy(e,t,n);va([r,i].map(o=>new gr(o)));const l=t.cutAtPoints([r,i]);if(et(r,i))lr(t);else{const o=l.filter(u=>!u.containsPointOnShape(e));lr(t),ho(...o)}}Jo.createRoot(document.getElementById("root")).render(M.jsx(Qp.StrictMode,{children:M.jsx(G1,{})}));function my(){ma(!0)}function vy(t){ma(!0),y1(new U(t.clientX,t.clientY));const e=h1(),n=Ti(),r=Gt();if(e){const i=new U(n.x-(t.clientX-e.x)/r,n.y-(t.clientY-e.y)/r);ya(new U(t.clientX,t.clientY)),vp(i)}if(Ey(),ot()===Q.Select){const i=Ci(pr(),xe());i.distance<_a?hi([i.entity.id]):hi([])}}function yy(){ma(!1)}function wy(t){const e=Ti(),n=Gt(),r=pr(),i=n*(1-F1*(t.deltaY/Math.abs(t.deltaY)));x1(i);const l=ao(gp());vp(new U(e.x+(r.x-l.x),e.y+(r.y-l.y)))}function _y(t){t.button===Vl.Middle&&ya(new U(t.clientX,t.clientY))}function xy(t){if(t.button===Vl.Middle&&ya(null),t.button===Vl.Left){const e=iu(Pt([ha(),mp()]),pr(),wa/Gt()),n=ao(new U(t.clientX,t.clientY)),r=e?e.point:n;ot()===Q.Line&&ry(r),ot()===Q.Rectangle&&iy(r),ot()===Q.Circle&&ly(r),ot()===Q.Select&&oy(r,t.ctrlKey,t.shiftKey),ot()===Q.Eraser&&dy(r)}}function Sy(t){t.key==="Escape"?(t.preventDefault(),pe(null),hi([]),ke([])):t.key==="Delete"?(t.preventDefault(),En(g1()),ke([]),pe(null)):t.key==="z"&&t.ctrlKey&&!t.shiftKey?(t.preventDefault(),wp(),pe(null),ke([])):t.key==="z"&&t.ctrlKey&&t.shiftKey?(t.preventDefault(),_p(),pe(null),ke([])):t.key==="l"?(t.preventDefault(),zr(Q.Line),pe(null),ke([])):t.key==="c"?(t.preventDefault(),zr(Q.Circle),pe(null),ke([])):t.key==="r"?(t.preventDefault(),zr(Q.Rectangle),pe(null),ke([])):t.key==="s"&&(t.preventDefault(),zr(Q.Select),pe(null),ke([]))}function Ey(){const t=ot(),e=tu(),n=hr(),r=xe(),i=Gt(),l=pr(),a=pa().filter(c=>c.milliSecondsHovered>xa).map(c=>c.snapPoint.point);if([Q.Line,Q.Rectangle,Q.Circle].includes(t)){let c=null;n&&!n.getShape()&&n.getFirstPoint()&&(c=n.getFirstPoint());const{angleGuides:f,entitySnapPoint:h,angleSnapPoint:g}=q1(r,Pt([c,...a]),l,e,wa/i);w1(f),S1(h),E1(g)}}function Tp(t,e){const n=da(),r=gp(),i=pr(),l=Gt(),o=Ti(),u=p1(),a=e-u;T1(e);const c={context:t,canvasSize:n,worldMouseLocation:i,screenMouseLocation:r,screenOffset:o,screenZoom:l};if(ot()===Q.Select){const{distance:f,entity:h}=Ci(ao(r),xe());f<_a&&hi([h.id])}sy(ha(),pa(),P1,wa/Gt(),a),ny(c),requestAnimationFrame(f=>{Tp(t,f)})}function bc(){console.log("handle window resize",{width:window.innerWidth,height:window.innerHeight}),m1(new U(window.innerWidth,window.innerHeight));const t=a1();t&&(t.width=window.innerWidth,t.height=window.innerHeight)}function Py(){const t=document.getElementsByTagName("canvas")[0];if(t){v1(t),t.addEventListener("mousedown",_y),t.addEventListener("mousemove",vy),t.addEventListener("mouseup",xy),t.addEventListener("wheel",wy),t.addEventListener("mouseout",yy),t.addEventListener("mouseenter",my),document.addEventListener("keyup",Sy),window.addEventListener("resize",bc),bc();const e=t.getContext("2d");if(!e)return;Tp(e,0)}}document.addEventListener("DOMContentLoaded",()=>{Py()});
